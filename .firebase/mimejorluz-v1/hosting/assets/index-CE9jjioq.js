(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cc={exports:{}},Lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function UC(){if(bg)return Lo;bg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(o,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:t,type:o,key:c,ref:l!==void 0?l:null,props:u}}return Lo.Fragment=e,Lo.jsx=s,Lo.jsxs=s,Lo}var Rg;function LC(){return Rg||(Rg=1,Cc.exports=UC()),Cc.exports}var x=LC(),Ac={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function VC(){if(wg)return me;wg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function P(M,F,te){this.props=M,this.context=F,this.refs=I,this.updater=te||N}P.prototype.isReactComponent={},P.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=P.prototype;function w(M,F,te){this.props=M,this.context=F,this.refs=I,this.updater=te||N}var Q=w.prototype=new k;Q.constructor=w,R(Q,P.prototype),Q.isPureReactComponent=!0;var q=Array.isArray;function X(){}var z={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function j(M,F,te){var ee=te.ref;return{$$typeof:t,type:M,key:F,ref:ee!==void 0?ee:null,props:te}}function ae(M,F){return j(M.type,F,M.props)}function ce(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function pe(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return F[te]})}var Ue=/\/+/g;function st(M,F){return typeof M=="object"&&M!==null&&M.key!=null?pe(""+M.key):F.toString(36)}function Ke(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,F,te,ee,se){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case t:case e:Ce=!0;break;case v:return Ce=M._init,H(Ce(M._payload),F,te,ee,se)}}if(Ce)return se=se(M),Ce=ee===""?"."+st(M,0):ee,q(se)?(te="",Ce!=null&&(te=Ce.replace(Ue,"$&/")+"/"),H(se,F,te,"",function(Hs){return Hs})):se!=null&&(ce(se)&&(se=ae(se,te+(se.key==null||M&&M.key===se.key?"":(""+se.key).replace(Ue,"$&/")+"/")+Ce)),F.push(se)),1;Ce=0;var Xe=ee===""?".":ee+":";if(q(M))for(var Le=0;Le<M.length;Le++)ee=M[Le],ge=Xe+st(ee,Le),Ce+=H(ee,F,te,ge,se);else if(Le=A(M),typeof Le=="function")for(M=Le.call(M),Le=0;!(ee=M.next()).done;)ee=ee.value,ge=Xe+st(ee,Le++),Ce+=H(ee,F,te,ge,se);else if(ge==="object"){if(typeof M.then=="function")return H(Ke(M),F,te,ee,se);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function O(M,F,te){if(M==null)return M;var ee=[],se=0;return H(M,ee,"","",function(ge){return F.call(te,ge,se++)}),ee}function Z(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},he={map:O,forEach:function(M,F,te){O(M,function(){F.apply(this,arguments)},te)},count:function(M){var F=0;return O(M,function(){F++}),F},toArray:function(M){return O(M,function(F){return F})||[]},only:function(M){if(!ce(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return me.Activity=T,me.Children=he,me.Component=P,me.Fragment=s,me.Profiler=l,me.PureComponent=w,me.StrictMode=o,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},me.cache=function(M){return function(){return M.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(M,F,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ee=R({},M.props),se=M.key;if(F!=null)for(ge in F.key!==void 0&&(se=""+F.key),F)!W.call(F,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&F.ref===void 0||(ee[ge]=F[ge]);var ge=arguments.length-2;if(ge===1)ee.children=te;else if(1<ge){for(var Ce=Array(ge),Xe=0;Xe<ge;Xe++)Ce[Xe]=arguments[Xe+2];ee.children=Ce}return j(M.type,se,ee)},me.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},me.createElement=function(M,F,te){var ee,se={},ge=null;if(F!=null)for(ee in F.key!==void 0&&(ge=""+F.key),F)W.call(F,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(se[ee]=F[ee]);var Ce=arguments.length-2;if(Ce===1)se.children=te;else if(1<Ce){for(var Xe=Array(Ce),Le=0;Le<Ce;Le++)Xe[Le]=arguments[Le+2];se.children=Xe}if(M&&M.defaultProps)for(ee in Ce=M.defaultProps,Ce)se[ee]===void 0&&(se[ee]=Ce[ee]);return j(M,ge,se)},me.createRef=function(){return{current:null}},me.forwardRef=function(M){return{$$typeof:h,render:M}},me.isValidElement=ce,me.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Z}},me.memo=function(M,F){return{$$typeof:p,type:M,compare:F===void 0?null:F}},me.startTransition=function(M){var F=z.T,te={};z.T=te;try{var ee=M(),se=z.S;se!==null&&se(te,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(X,re)}catch(ge){re(ge)}finally{F!==null&&te.types!==null&&(F.types=te.types),z.T=F}},me.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},me.use=function(M){return z.H.use(M)},me.useActionState=function(M,F,te){return z.H.useActionState(M,F,te)},me.useCallback=function(M,F){return z.H.useCallback(M,F)},me.useContext=function(M){return z.H.useContext(M)},me.useDebugValue=function(){},me.useDeferredValue=function(M,F){return z.H.useDeferredValue(M,F)},me.useEffect=function(M,F){return z.H.useEffect(M,F)},me.useEffectEvent=function(M){return z.H.useEffectEvent(M)},me.useId=function(){return z.H.useId()},me.useImperativeHandle=function(M,F,te){return z.H.useImperativeHandle(M,F,te)},me.useInsertionEffect=function(M,F){return z.H.useInsertionEffect(M,F)},me.useLayoutEffect=function(M,F){return z.H.useLayoutEffect(M,F)},me.useMemo=function(M,F){return z.H.useMemo(M,F)},me.useOptimistic=function(M,F){return z.H.useOptimistic(M,F)},me.useReducer=function(M,F,te){return z.H.useReducer(M,F,te)},me.useRef=function(M){return z.H.useRef(M)},me.useState=function(M){return z.H.useState(M)},me.useSyncExternalStore=function(M,F,te){return z.H.useSyncExternalStore(M,F,te)},me.useTransition=function(){return z.H.useTransition()},me.version="19.2.0",me}var Dg;function If(){return Dg||(Dg=1,Ac.exports=VC()),Ac.exports}var G=If();const qo=Pv(G);var _c={exports:{}},Vo={},Nc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function kC(){return Ig||(Ig=1,(function(t){function e(H,O){var Z=H.length;H.push(O);e:for(;0<Z;){var re=Z-1>>>1,he=H[re];if(0<l(he,O))H[re]=O,H[Z]=he,Z=re;else break e}}function s(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var O=H[0],Z=H.pop();if(Z!==O){H[0]=Z;e:for(var re=0,he=H.length,M=he>>>1;re<M;){var F=2*(re+1)-1,te=H[F],ee=F+1,se=H[ee];if(0>l(te,Z))ee<he&&0>l(se,te)?(H[re]=se,H[ee]=Z,re=ee):(H[re]=te,H[F]=Z,re=F);else if(ee<he&&0>l(se,Z))H[re]=se,H[ee]=Z,re=ee;else break e}}return O}function l(H,O){var Z=H.sortIndex-O.sortIndex;return Z!==0?Z:H.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],v=1,T=null,S=3,A=!1,N=!1,R=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function Q(H){for(var O=s(p);O!==null;){if(O.callback===null)o(p);else if(O.startTime<=H)o(p),O.sortIndex=O.expirationTime,e(g,O);else break;O=s(p)}}function q(H){if(R=!1,Q(H),!N)if(s(g)!==null)N=!0,X||(X=!0,pe());else{var O=s(p);O!==null&&Ke(q,O.startTime-H)}}var X=!1,z=-1,W=5,j=-1;function ae(){return I?!0:!(t.unstable_now()-j<W)}function ce(){if(I=!1,X){var H=t.unstable_now();j=H;var O=!0;try{e:{N=!1,R&&(R=!1,k(z),z=-1),A=!0;var Z=S;try{t:{for(Q(H),T=s(g);T!==null&&!(T.expirationTime>H&&ae());){var re=T.callback;if(typeof re=="function"){T.callback=null,S=T.priorityLevel;var he=re(T.expirationTime<=H);if(H=t.unstable_now(),typeof he=="function"){T.callback=he,Q(H),O=!0;break t}T===s(g)&&o(g),Q(H)}else o(g);T=s(g)}if(T!==null)O=!0;else{var M=s(p);M!==null&&Ke(q,M.startTime-H),O=!1}}break e}finally{T=null,S=Z,A=!1}O=void 0}}finally{O?pe():X=!1}}}var pe;if(typeof w=="function")pe=function(){w(ce)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,st=Ue.port2;Ue.port1.onmessage=ce,pe=function(){st.postMessage(null)}}else pe=function(){P(ce,0)};function Ke(H,O){z=P(function(){H(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var O=3;break;default:O=S}var Z=S;S=O;try{return H()}finally{S=Z}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(H,O){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=S;S=H;try{return O()}finally{S=Z}},t.unstable_scheduleCallback=function(H,O,Z){var re=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,H){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Z+he,H={id:v++,callback:O,priorityLevel:H,startTime:Z,expirationTime:he,sortIndex:-1},Z>re?(H.sortIndex=Z,e(p,H),s(g)===null&&H===s(p)&&(R?(k(z),z=-1):R=!0,Ke(q,Z-re))):(H.sortIndex=he,e(g,H),N||A||(N=!0,X||(X=!0,pe()))),H},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(H){var O=S;return function(){var Z=S;S=O;try{return H.apply(this,arguments)}finally{S=Z}}}})(Mc)),Mc}var Pg;function BC(){return Pg||(Pg=1,Nc.exports=kC()),Nc.exports}var bc={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function GC(){if(Ug)return pt;Ug=1;var t=If();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,pt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},pt.flushSync=function(g){var p=c.T,v=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=p,o.p=v,o.d.f()}},pt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},pt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},pt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:A}):v==="script"&&o.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},pt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin);o.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},pt.requestFormReset=function(g){o.d.r(g)},pt.unstable_batchedUpdates=function(g,p){return g(p)},pt.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},pt.useFormStatus=function(){return c.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var Lg;function qC(){if(Lg)return bc.exports;Lg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bc.exports=GC(),bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function HC(){if(Vg)return Vo;Vg=1;var t=BC(),e=If(),s=qC();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,r=i;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(r=m.return,r!==null){a=r;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return g(m),n;if(y===r)return g(m),i;y=y.sibling}throw Error(o(188))}if(a.return!==r.return)a=m,r=y;else{for(var E=!1,C=m.child;C;){if(C===a){E=!0,a=m,r=y;break}if(C===r){E=!0,r=m,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,r=m;break}if(C===r){E=!0,r=y,a=m;break}C=C.sibling}if(!E)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),w=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var Ue=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ue?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case j:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case w:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case Q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return i=n.displayName||null,i!==null?i:st(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return st(n(i))}catch{}}return null}var Ke=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],he=-1;function M(n){return{current:n}}function F(n){0>he||(n.current=re[he],re[he]=null,he--)}function te(n,i){he++,re[he]=n.current,n.current=i}var ee=M(null),se=M(null),ge=M(null),Ce=M(null);function Xe(n,i){switch(te(ge,i),te(se,n),te(ee,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?jm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=jm(i),n=Wm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(ee),te(ee,n)}function Le(){F(ee),F(se),F(ge)}function Hs(n){n.memoizedState!==null&&te(Ce,n);var i=ee.current,a=Wm(i,n.type);i!==a&&(te(se,n),te(ee,a))}function ca(n){se.current===n&&(F(ee),F(se)),Ce.current===n&&(F(Ce),Do._currentValue=Z)}var or,Md;function di(n){if(or===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);or=i&&i[1]||"",Md=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+n+Md}var ar=!1;function lr(n,i){if(!n||ar)return"";ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var V=B}Reflect.construct(n,[],K)}else{try{K.call()}catch(B){V=B}n.call(K.prototype)}}else{try{throw Error()}catch(B){V=B}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var _=E.split(`
`),L=C.split(`
`);for(m=r=0;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(r===_.length||m===L.length)for(r=_.length-1,m=L.length-1;1<=r&&0<=m&&_[r]!==L[m];)m--;for(;1<=r&&0<=m;r--,m--)if(_[r]!==L[m]){if(r!==1||m!==1)do if(r--,m--,0>m||_[r]!==L[m]){var Y=`
`+_[r].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=r&&0<=m);break}}}finally{ar=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?di(a):""}function fS(n,i){switch(n.tag){case 26:case 27:case 5:return di(n.type);case 16:return di("Lazy");case 13:return n.child!==i&&i!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return lr(n.type,!1);case 11:return lr(n.type.render,!1);case 1:return lr(n.type,!0);case 31:return di("Activity");default:return""}}function bd(n){try{var i="",a=null;do i+=fS(n,a),a=n,n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rr=Object.prototype.hasOwnProperty,ur=t.unstable_scheduleCallback,cr=t.unstable_cancelCallback,dS=t.unstable_shouldYield,hS=t.unstable_requestPaint,Nt=t.unstable_now,pS=t.unstable_getCurrentPriorityLevel,Rd=t.unstable_ImmediatePriority,wd=t.unstable_UserBlockingPriority,fa=t.unstable_NormalPriority,mS=t.unstable_LowPriority,Dd=t.unstable_IdlePriority,gS=t.log,yS=t.unstable_setDisableYieldValue,zs=null,Mt=null;function Ln(n){if(typeof gS=="function"&&yS(n),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(zs,n)}catch{}}var bt=Math.clz32?Math.clz32:xS,vS=Math.log,TS=Math.LN2;function xS(n){return n>>>=0,n===0?32:31-(vS(n)/TS|0)|0}var da=256,ha=262144,pa=4194304;function hi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,i,a){var r=n.pendingLanes;if(r===0)return 0;var m=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=r&134217727;return C!==0?(r=C&~y,r!==0?m=hi(r):(E&=C,E!==0?m=hi(E):a||(a=C&~n,a!==0&&(m=hi(a))))):(C=r&~y,C!==0?m=hi(C):E!==0?m=hi(E):a||(a=r&~n,a!==0&&(m=hi(a)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:m}function Fs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function SS(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Id(){var n=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),n}function fr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Os(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ES(n,i,a,r,m,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,_=n.expirationTimes,L=n.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-bt(a),K=1<<Y;C[Y]=0,_[Y]=-1;var V=L[Y];if(V!==null)for(L[Y]=null,Y=0;Y<V.length;Y++){var B=V[Y];B!==null&&(B.lane&=-536870913)}a&=~K}r!==0&&Pd(n,r,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function Pd(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-bt(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|a&261930}function Ud(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var r=31-bt(a),m=1<<r;m&i|n[r]&i&&(n[r]|=i),a&=~m}}function Ld(n,i){var a=i&-i;return a=(a&42)!==0?1:dr(a),(a&(n.suspendedLanes|i))!==0?0:a}function dr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vd(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:Sg(n.type))}function kd(n,i){var a=O.p;try{return O.p=n,i()}finally{O.p=a}}var Vn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Vn,vt="__reactProps$"+Vn,Gi="__reactContainer$"+Vn,pr="__reactEvents$"+Vn,CS="__reactListeners$"+Vn,AS="__reactHandles$"+Vn,Bd="__reactResources$"+Vn,Ys="__reactMarker$"+Vn;function mr(n){delete n[rt],delete n[vt],delete n[pr],delete n[CS],delete n[AS]}function qi(n){var i=n[rt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Gi]||a[rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=og(n);n!==null;){if(a=n[rt])return a;n=og(n)}return i}n=a,a=n.parentNode}return null}function Hi(n){if(n=n[rt]||n[Gi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Js(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function zi(n){var i=n[Bd];return i||(i=n[Bd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ot(n){n[Ys]=!0}var Gd=new Set,qd={};function pi(n,i){Fi(n,i),Fi(n+"Capture",i)}function Fi(n,i){for(qd[n]=i,n=0;n<i.length;n++)Gd.add(i[n])}var _S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},zd={};function NS(n){return rr.call(zd,n)?!0:rr.call(Hd,n)?!1:_S.test(n)?zd[n]=!0:(Hd[n]=!0,!1)}function ga(n,i,a){if(NS(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ya(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function cn(n,i,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+r)}}function Vt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function MS(n,i,a){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,y=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function gr(n){if(!n._valueTracker){var i=Fd(n)?"checked":"value";n._valueTracker=MS(n,i,""+n[i])}}function Od(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return n&&(r=Fd(n)?n.checked?"true":"false":n.value),n=r,n!==a?(i.setValue(n),!0):!1}function va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bS=/[\n"\\]/g;function kt(n){return n.replace(bS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yr(n,i,a,r,m,y,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Vt(i)):n.value!==""+Vt(i)&&(n.value=""+Vt(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vr(n,E,Vt(i)):a!=null?vr(n,E,Vt(a)):r!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Vt(C):n.removeAttribute("name")}function Yd(n,i,a,r,m,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){gr(n);return}a=a!=null?""+Vt(a):"",i=i!=null?""+Vt(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=C?n.checked:!!r,n.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),gr(n)}function vr(n,i,a){i==="number"&&va(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Oi(n,i,a,r){if(n=n.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=i.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&r&&(n[a].defaultSelected=!0)}else{for(a=""+Vt(a),i=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,r&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Jd(n,i,a){if(i!=null&&(i=""+Vt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Vt(a):""}function Kd(n,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(o(92));if(Ke(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Vt(i),n.defaultValue=a,r=n.textContent,r===a&&r!==""&&r!==null&&(n.value=r),gr(n)}function Yi(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var RS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(n,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,a):typeof a!="number"||a===0||RS.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Qd(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var m in i)r=i[m],i.hasOwnProperty(m)&&a[m]!==r&&Xd(n,m,r)}else for(var y in i)i.hasOwnProperty(y)&&Xd(n,y,i[y])}function Tr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return DS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function fn(){}var xr=null;function Sr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ji=null,Ki=null;function Zd(n){var i=Hi(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(yr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==n&&r.form===n.form){var m=r[vt]||null;if(!m)throw Error(o(90));yr(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===n.form&&Od(r)}break e;case"textarea":Jd(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Oi(n,!!a.multiple,i,!1)}}}var Er=!1;function jd(n,i,a){if(Er)return n(i,a);Er=!0;try{var r=n(i);return r}finally{if(Er=!1,(Ji!==null||Ki!==null)&&(al(),Ji&&(i=Ji,n=Ki,Ki=Ji=null,Zd(i),n)))for(i=0;i<n.length;i++)Zd(n[i])}}function Ks(n,i){var a=n.stateNode;if(a===null)return null;var r=a[vt]||null;if(r===null)return null;a=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(dn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Cr=!1}var kn=null,Ar=null,xa=null;function Wd(){if(xa)return xa;var n,i=Ar,a=i.length,r,m="value"in kn?kn.value:kn.textContent,y=m.length;for(n=0;n<a&&i[n]===m[n];n++);var E=a-n;for(r=1;r<=E&&i[a-r]===m[y-r];r++);return xa=m.slice(n,1<r?1-r:void 0)}function Sa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ea(){return!0}function $d(){return!1}function Tt(n){function i(a,r,m,y,E){this._reactName=a,this._targetInst=m,this.type=r,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ea:$d,this.isPropagationStopped=$d,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),i}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Tt(mi),Qs=T({},mi,{view:0,detail:0}),IS=Tt(Qs),_r,Nr,Zs,Aa=T({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zs&&(Zs&&n.type==="mousemove"?(_r=n.screenX-Zs.screenX,Nr=n.screenY-Zs.screenY):Nr=_r=0,Zs=n),_r)},movementY:function(n){return"movementY"in n?n.movementY:Nr}}),eh=Tt(Aa),PS=T({},Aa,{dataTransfer:0}),US=Tt(PS),LS=T({},Qs,{relatedTarget:0}),Mr=Tt(LS),VS=T({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=Tt(VS),BS=T({},mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),GS=Tt(BS),qS=T({},mi,{data:0}),th=Tt(qS),HS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=FS[n])?!!i[n]:!1}function br(){return OS}var YS=T({},Qs,{key:function(n){if(n.key){var i=HS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Sa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(n){return n.type==="keypress"?Sa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JS=Tt(YS),KS=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Tt(KS),XS=T({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),QS=Tt(XS),ZS=T({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=Tt(ZS),WS=T({},Aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=Tt(WS),eE=T({},mi,{newState:0,oldState:0}),tE=Tt(eE),nE=[9,13,27,32],Rr=dn&&"CompositionEvent"in window,js=null;dn&&"documentMode"in document&&(js=document.documentMode);var iE=dn&&"TextEvent"in window&&!js,ih=dn&&(!Rr||js&&8<js&&11>=js),sh=" ",oh=!1;function ah(n,i){switch(n){case"keyup":return nE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xi=!1;function sE(n,i){switch(n){case"compositionend":return lh(i);case"keypress":return i.which!==32?null:(oh=!0,sh);case"textInput":return n=i.data,n===sh&&oh?null:n;default:return null}}function oE(n,i){if(Xi)return n==="compositionend"||!Rr&&ah(n,i)?(n=Wd(),xa=Ar=kn=null,Xi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ih&&i.locale!=="ko"?null:i.data;default:return null}}var aE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!aE[n.type]:i==="textarea"}function uh(n,i,a,r){Ji?Ki?Ki.push(r):Ki=[r]:Ji=r,i=hl(i,"onChange"),0<i.length&&(a=new Ca("onChange","change",null,a,r),n.push({event:a,listeners:i}))}var Ws=null,$s=null;function lE(n){Ym(n,0)}function _a(n){var i=Js(n);if(Od(i))return n}function ch(n,i){if(n==="change")return i}var fh=!1;if(dn){var wr;if(dn){var Dr="oninput"in document;if(!Dr){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),Dr=typeof dh.oninput=="function"}wr=Dr}else wr=!1;fh=wr&&(!document.documentMode||9<document.documentMode)}function hh(){Ws&&(Ws.detachEvent("onpropertychange",ph),$s=Ws=null)}function ph(n){if(n.propertyName==="value"&&_a($s)){var i=[];uh(i,$s,n,Sr(n)),jd(lE,i)}}function rE(n,i,a){n==="focusin"?(hh(),Ws=i,$s=a,Ws.attachEvent("onpropertychange",ph)):n==="focusout"&&hh()}function uE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _a($s)}function cE(n,i){if(n==="click")return _a(i)}function fE(n,i){if(n==="input"||n==="change")return _a(i)}function dE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rt=typeof Object.is=="function"?Object.is:dE;function eo(n,i){if(Rt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var m=a[r];if(!rr.call(i,m)||!Rt(n[m],i[m]))return!1}return!0}function mh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gh(n,i){var a=mh(n);n=0;for(var r;a;){if(a.nodeType===3){if(r=n+a.textContent.length,n<=i&&r>=i)return{node:a,offset:i-n};n=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mh(a)}}function yh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?yh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function vh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=va(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=va(n.document)}return i}function Ir(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var hE=dn&&"documentMode"in document&&11>=document.documentMode,Qi=null,Pr=null,to=null,Ur=!1;function Th(n,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ur||Qi==null||Qi!==va(r)||(r=Qi,"selectionStart"in r&&Ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),to&&eo(to,r)||(to=r,r=hl(Pr,"onSelect"),0<r.length&&(i=new Ca("onSelect","select",null,i,a),n.push({event:i,listeners:r}),i.target=Qi)))}function gi(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Zi={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Lr={},xh={};dn&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function yi(n){if(Lr[n])return Lr[n];if(!Zi[n])return n;var i=Zi[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in xh)return Lr[n]=i[a];return n}var Sh=yi("animationend"),Eh=yi("animationiteration"),Ch=yi("animationstart"),pE=yi("transitionrun"),mE=yi("transitionstart"),gE=yi("transitioncancel"),Ah=yi("transitionend"),_h=new Map,Vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vr.push("scrollEnd");function jt(n,i){_h.set(n,i),pi(i,[n])}var Na=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bt=[],ji=0,kr=0;function Ma(){for(var n=ji,i=kr=ji=0;i<n;){var a=Bt[i];Bt[i++]=null;var r=Bt[i];Bt[i++]=null;var m=Bt[i];Bt[i++]=null;var y=Bt[i];if(Bt[i++]=null,r!==null&&m!==null){var E=r.pending;E===null?m.next=m:(m.next=E.next,E.next=m),r.pending=m}y!==0&&Nh(a,m,y)}}function ba(n,i,a,r){Bt[ji++]=n,Bt[ji++]=i,Bt[ji++]=a,Bt[ji++]=r,kr|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Br(n,i,a,r){return ba(n,i,a,r),Ra(n)}function vi(n,i){return ba(n,null,null,i),Ra(n)}function Nh(n,i,a){n.lanes|=a;var r=n.alternate;r!==null&&(r.lanes|=a);for(var m=!1,y=n.return;y!==null;)y.childLanes|=a,r=y.alternate,r!==null&&(r.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-bt(a),n=y.hiddenUpdates,r=n[m],r===null?n[m]=[i]:r.push(i),i.lane=a|536870912),y):null}function Ra(n){if(50<Ao)throw Ao=0,Ku=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Wi={};function yE(n,i,a,r){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(n,i,a,r){return new yE(n,i,a,r)}function Gr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hn(n,i){var a=n.alternate;return a===null?(a=wt(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mh(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function wa(n,i,a,r,m,y){var E=0;if(r=n,typeof n=="function")Gr(n)&&(E=1);else if(typeof n=="string")E=EC(n,a,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case j:return n=wt(31,a,i,m),n.elementType=j,n.lanes=y,n;case R:return Ti(a.children,m,y,i);case I:E=8,m|=24;break;case P:return n=wt(12,a,i,m|2),n.elementType=P,n.lanes=y,n;case q:return n=wt(13,a,i,m),n.elementType=q,n.lanes=y,n;case X:return n=wt(19,a,i,m),n.elementType=X,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:E=10;break e;case k:E=9;break e;case Q:E=11;break e;case z:E=14;break e;case W:E=16,r=null;break e}E=29,a=Error(o(130,n===null?"null":typeof n,"")),r=null}return i=wt(E,a,i,m),i.elementType=n,i.type=r,i.lanes=y,i}function Ti(n,i,a,r){return n=wt(7,n,r,i),n.lanes=a,n}function qr(n,i,a){return n=wt(6,n,null,i),n.lanes=a,n}function bh(n){var i=wt(18,null,null,0);return i.stateNode=n,i}function Hr(n,i,a){return i=wt(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Rh=new WeakMap;function Gt(n,i){if(typeof n=="object"&&n!==null){var a=Rh.get(n);return a!==void 0?a:(i={value:n,source:i,stack:bd(i)},Rh.set(n,i),i)}return{value:n,source:i,stack:bd(i)}}var $i=[],es=0,Da=null,no=0,qt=[],Ht=0,Bn=null,on=1,an="";function pn(n,i){$i[es++]=no,$i[es++]=Da,Da=n,no=i}function wh(n,i,a){qt[Ht++]=on,qt[Ht++]=an,qt[Ht++]=Bn,Bn=n;var r=on;n=an;var m=32-bt(r)-1;r&=~(1<<m),a+=1;var y=32-bt(i)+m;if(30<y){var E=m-m%5;y=(r&(1<<E)-1).toString(32),r>>=E,m-=E,on=1<<32-bt(i)+m|a<<m|r,an=y+n}else on=1<<y|a<<m|r,an=n}function zr(n){n.return!==null&&(pn(n,1),wh(n,1,0))}function Fr(n){for(;n===Da;)Da=$i[--es],$i[es]=null,no=$i[--es],$i[es]=null;for(;n===Bn;)Bn=qt[--Ht],qt[Ht]=null,an=qt[--Ht],qt[Ht]=null,on=qt[--Ht],qt[Ht]=null}function Dh(n,i){qt[Ht++]=on,qt[Ht++]=an,qt[Ht++]=Bn,on=i.id,an=i.overflow,Bn=n}var ut=null,ke=null,Ae=!1,Gn=null,zt=!1,Or=Error(o(519));function qn(n){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Gt(i,n)),Or}function Ih(n){var i=n.stateNode,a=n.type,r=n.memoizedProps;switch(i[rt]=n,i[vt]=r,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<No.length;a++)xe(No[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Yd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Kd(i,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||Qm(i.textContent,a)?(r.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),r.onScroll!=null&&xe("scroll",i),r.onScrollEnd!=null&&xe("scrollend",i),r.onClick!=null&&(i.onclick=fn),i=!0):i=!1,i||qn(n,!0)}function Ph(n){for(ut=n.return;ut;)switch(ut.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:ut=ut.return}}function ts(n){if(n!==ut)return!1;if(!Ae)return Ph(n),Ae=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rc(n.type,n.memoizedProps)),a=!a),a&&ke&&qn(n),Ph(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ke=sg(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ke=sg(n)}else i===27?(i=ke,ei(n.type)?(n=hc,hc=null,ke=n):ke=i):ke=ut?Ot(n.stateNode.nextSibling):null;return!0}function xi(){ke=ut=null,Ae=!1}function Yr(){var n=Gn;return n!==null&&(Ct===null?Ct=n:Ct.push.apply(Ct,n),Gn=null),n}function io(n){Gn===null?Gn=[n]:Gn.push(n)}var Jr=M(null),Si=null,mn=null;function Hn(n,i,a){te(Jr,i._currentValue),i._currentValue=a}function gn(n){n._currentValue=Jr.current,F(Jr)}function Kr(n,i,a){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===a)break;n=n.return}}function Xr(n,i,a,r){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var _=0;_<i.length;_++)if(C.context===i[_]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),Kr(y.return,a,n),r||(E=null);break e}y=C.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(o(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),Kr(E,a,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function ns(n,i,a,r){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var C=m.type;Rt(m.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(m===Ce.current){if(E=m.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Do):n=[Do])}m=m.return}n!==null&&Xr(i,n,a,r),i.flags|=262144}function Ia(n){for(n=n.firstContext;n!==null;){if(!Rt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ei(n){Si=n,mn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ct(n){return Uh(Si,n)}function Pa(n,i){return Si===null&&Ei(n),Uh(n,i)}function Uh(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mn===null){if(n===null)throw Error(o(308));mn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else mn=mn.next=i;return a}var vE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},TE=t.unstable_scheduleCallback,xE=t.unstable_NormalPriority,je={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qr(){return{controller:new vE,data:new Map,refCount:0}}function so(n){n.refCount--,n.refCount===0&&TE(xE,function(){n.controller.abort()})}var oo=null,Zr=0,is=0,ss=null;function SE(n,i){if(oo===null){var a=oo=[];Zr=0,is=$u(),ss={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Zr++,i.then(Lh,Lh),i}function Lh(){if(--Zr===0&&oo!==null){ss!==null&&(ss.status="fulfilled");var n=oo;oo=null,is=0,ss=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function EE(n,i){var a=[],r={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var m=0;m<a.length;m++)(0,a[m])(i)},function(m){for(r.status="rejected",r.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),r}var Vh=H.S;H.S=function(n,i){Tm=Nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SE(n,i),Vh!==null&&Vh(n,i)};var Ci=M(null);function jr(){var n=Ci.current;return n!==null?n:Ve.pooledCache}function Ua(n,i){i===null?te(Ci,Ci.current):te(Ci,i.pool)}function kh(){var n=jr();return n===null?null:{parent:je._currentValue,pool:n}}var os=Error(o(460)),Wr=Error(o(474)),La=Error(o(542)),Va={then:function(){}};function Bh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gh(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(fn,fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hh(n),n;default:if(typeof i.status=="string")i.then(fn,fn);else{if(n=Ve,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=r}},function(r){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hh(n),n}throw _i=i,os}}function Ai(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_i=a,os):a}}var _i=null;function qh(){if(_i===null)throw Error(o(459));var n=_i;return _i=null,n}function Hh(n){if(n===os||n===La)throw Error(o(483))}var as=null,ao=0;function ka(n){var i=ao;return ao+=1,as===null&&(as=[]),Gh(as,n,i)}function lo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ba(n,i){throw i.$$typeof===S?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function zh(n){function i(D,b){if(n){var U=D.deletions;U===null?(D.deletions=[b],D.flags|=16):U.push(b)}}function a(D,b){if(!n)return null;for(;b!==null;)i(D,b),b=b.sibling;return null}function r(D){for(var b=new Map;D!==null;)D.key!==null?b.set(D.key,D):b.set(D.index,D),D=D.sibling;return b}function m(D,b){return D=hn(D,b),D.index=0,D.sibling=null,D}function y(D,b,U){return D.index=U,n?(U=D.alternate,U!==null?(U=U.index,U<b?(D.flags|=67108866,b):U):(D.flags|=67108866,b)):(D.flags|=1048576,b)}function E(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function C(D,b,U,J){return b===null||b.tag!==6?(b=qr(U,D.mode,J),b.return=D,b):(b=m(b,U),b.return=D,b)}function _(D,b,U,J){var le=U.type;return le===R?Y(D,b,U.props.children,J,U.key):b!==null&&(b.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Ai(le)===b.type)?(b=m(b,U.props),lo(b,U),b.return=D,b):(b=wa(U.type,U.key,U.props,null,D.mode,J),lo(b,U),b.return=D,b)}function L(D,b,U,J){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=Hr(U,D.mode,J),b.return=D,b):(b=m(b,U.children||[]),b.return=D,b)}function Y(D,b,U,J,le){return b===null||b.tag!==7?(b=Ti(U,D.mode,J,le),b.return=D,b):(b=m(b,U),b.return=D,b)}function K(D,b,U){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=qr(""+b,D.mode,U),b.return=D,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return U=wa(b.type,b.key,b.props,null,D.mode,U),lo(U,b),U.return=D,U;case N:return b=Hr(b,D.mode,U),b.return=D,b;case W:return b=Ai(b),K(D,b,U)}if(Ke(b)||pe(b))return b=Ti(b,D.mode,U,null),b.return=D,b;if(typeof b.then=="function")return K(D,ka(b),U);if(b.$$typeof===w)return K(D,Pa(D,b),U);Ba(D,b)}return null}function V(D,b,U,J){var le=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return le!==null?null:C(D,b,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===le?_(D,b,U,J):null;case N:return U.key===le?L(D,b,U,J):null;case W:return U=Ai(U),V(D,b,U,J)}if(Ke(U)||pe(U))return le!==null?null:Y(D,b,U,J,null);if(typeof U.then=="function")return V(D,b,ka(U),J);if(U.$$typeof===w)return V(D,b,Pa(D,U),J);Ba(D,U)}return null}function B(D,b,U,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return D=D.get(U)||null,C(b,D,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return D=D.get(J.key===null?U:J.key)||null,_(b,D,J,le);case N:return D=D.get(J.key===null?U:J.key)||null,L(b,D,J,le);case W:return J=Ai(J),B(D,b,U,J,le)}if(Ke(J)||pe(J))return D=D.get(U)||null,Y(b,D,J,le,null);if(typeof J.then=="function")return B(D,b,U,ka(J),le);if(J.$$typeof===w)return B(D,b,U,Pa(b,J),le);Ba(b,J)}return null}function ie(D,b,U,J){for(var le=null,_e=null,oe=b,ve=b=0,Ee=null;oe!==null&&ve<U.length;ve++){oe.index>ve?(Ee=oe,oe=null):Ee=oe.sibling;var Ne=V(D,oe,U[ve],J);if(Ne===null){oe===null&&(oe=Ee);break}n&&oe&&Ne.alternate===null&&i(D,oe),b=y(Ne,b,ve),_e===null?le=Ne:_e.sibling=Ne,_e=Ne,oe=Ee}if(ve===U.length)return a(D,oe),Ae&&pn(D,ve),le;if(oe===null){for(;ve<U.length;ve++)oe=K(D,U[ve],J),oe!==null&&(b=y(oe,b,ve),_e===null?le=oe:_e.sibling=oe,_e=oe);return Ae&&pn(D,ve),le}for(oe=r(oe);ve<U.length;ve++)Ee=B(oe,D,ve,U[ve],J),Ee!==null&&(n&&Ee.alternate!==null&&oe.delete(Ee.key===null?ve:Ee.key),b=y(Ee,b,ve),_e===null?le=Ee:_e.sibling=Ee,_e=Ee);return n&&oe.forEach(function(oi){return i(D,oi)}),Ae&&pn(D,ve),le}function ue(D,b,U,J){if(U==null)throw Error(o(151));for(var le=null,_e=null,oe=b,ve=b=0,Ee=null,Ne=U.next();oe!==null&&!Ne.done;ve++,Ne=U.next()){oe.index>ve?(Ee=oe,oe=null):Ee=oe.sibling;var oi=V(D,oe,Ne.value,J);if(oi===null){oe===null&&(oe=Ee);break}n&&oe&&oi.alternate===null&&i(D,oe),b=y(oi,b,ve),_e===null?le=oi:_e.sibling=oi,_e=oi,oe=Ee}if(Ne.done)return a(D,oe),Ae&&pn(D,ve),le;if(oe===null){for(;!Ne.done;ve++,Ne=U.next())Ne=K(D,Ne.value,J),Ne!==null&&(b=y(Ne,b,ve),_e===null?le=Ne:_e.sibling=Ne,_e=Ne);return Ae&&pn(D,ve),le}for(oe=r(oe);!Ne.done;ve++,Ne=U.next())Ne=B(oe,D,ve,Ne.value,J),Ne!==null&&(n&&Ne.alternate!==null&&oe.delete(Ne.key===null?ve:Ne.key),b=y(Ne,b,ve),_e===null?le=Ne:_e.sibling=Ne,_e=Ne);return n&&oe.forEach(function(PC){return i(D,PC)}),Ae&&pn(D,ve),le}function Pe(D,b,U,J){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var le=U.key;b!==null;){if(b.key===le){if(le=U.type,le===R){if(b.tag===7){a(D,b.sibling),J=m(b,U.props.children),J.return=D,D=J;break e}}else if(b.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Ai(le)===b.type){a(D,b.sibling),J=m(b,U.props),lo(J,U),J.return=D,D=J;break e}a(D,b);break}else i(D,b);b=b.sibling}U.type===R?(J=Ti(U.props.children,D.mode,J,U.key),J.return=D,D=J):(J=wa(U.type,U.key,U.props,null,D.mode,J),lo(J,U),J.return=D,D=J)}return E(D);case N:e:{for(le=U.key;b!==null;){if(b.key===le)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){a(D,b.sibling),J=m(b,U.children||[]),J.return=D,D=J;break e}else{a(D,b);break}else i(D,b);b=b.sibling}J=Hr(U,D.mode,J),J.return=D,D=J}return E(D);case W:return U=Ai(U),Pe(D,b,U,J)}if(Ke(U))return ie(D,b,U,J);if(pe(U)){if(le=pe(U),typeof le!="function")throw Error(o(150));return U=le.call(U),ue(D,b,U,J)}if(typeof U.then=="function")return Pe(D,b,ka(U),J);if(U.$$typeof===w)return Pe(D,b,Pa(D,U),J);Ba(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,b!==null&&b.tag===6?(a(D,b.sibling),J=m(b,U),J.return=D,D=J):(a(D,b),J=qr(U,D.mode,J),J.return=D,D=J),E(D)):a(D,b)}return function(D,b,U,J){try{ao=0;var le=Pe(D,b,U,J);return as=null,le}catch(oe){if(oe===os||oe===La)throw oe;var _e=wt(29,oe,null,D.mode);return _e.lanes=J,_e.return=D,_e}finally{}}}var Ni=zh(!0),Fh=zh(!1),zn=!1;function $r(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function On(n,i,a){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(be&2)!==0){var m=r.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),r.pending=i,i=Ra(n),Nh(n,null,a),i}return ba(n,r,i,a),Ra(n)}function ro(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,Ud(n,a)}}function tu(n,i){var a=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?m=y=i:y=y.next=i}else m=y=i;a={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var nu=!1;function uo(){if(nu){var n=ss;if(n!==null)throw n}}function co(n,i,a,r){nu=!1;var m=n.updateQueue;zn=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var _=C,L=_.next;_.next=null,E===null?y=L:E.next=L,E=_;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==E&&(C===null?Y.firstBaseUpdate=L:C.next=L,Y.lastBaseUpdate=_))}if(y!==null){var K=m.baseState;E=0,Y=L=_=null,C=y;do{var V=C.lane&-536870913,B=V!==C.lane;if(B?(Se&V)===V:(r&V)===V){V!==0&&V===is&&(nu=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ie=n,ue=C;V=i;var Pe=a;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){K=ie.call(Pe,K,V);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,V=typeof ie=="function"?ie.call(Pe,K,V):ie,V==null)break e;K=T({},K,V);break e;case 2:zn=!0}}V=C.callback,V!==null&&(n.flags|=64,B&&(n.flags|=8192),B=m.callbacks,B===null?m.callbacks=[V]:B.push(V))}else B={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(L=Y=B,_=K):Y=Y.next=B,E|=V;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;B=C,C=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);Y===null&&(_=K),m.baseState=_,m.firstBaseUpdate=L,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),Qn|=E,n.lanes=E,n.memoizedState=K}}function Oh(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Yh(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Oh(a[n],i)}var ls=M(null),Ga=M(0);function Jh(n,i){n=_n,te(Ga,n),te(ls,i),_n=n|i.baseLanes}function iu(){te(Ga,_n),te(ls,ls.current)}function su(){_n=Ga.current,F(ls),F(Ga)}var Dt=M(null),Ft=null;function Yn(n){var i=n.alternate;te(Qe,Qe.current&1),te(Dt,n),Ft===null&&(i===null||ls.current!==null||i.memoizedState!==null)&&(Ft=n)}function ou(n){te(Qe,Qe.current),te(Dt,n),Ft===null&&(Ft=n)}function Kh(n){n.tag===22?(te(Qe,Qe.current),te(Dt,n),Ft===null&&(Ft=n)):Jn()}function Jn(){te(Qe,Qe.current),te(Dt,Dt.current)}function It(n){F(Dt),Ft===n&&(Ft=null),F(Qe)}var Qe=M(0);function qa(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fc(a)||dc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yn=0,ye=null,De=null,We=null,Ha=!1,rs=!1,Mi=!1,za=0,fo=0,us=null,CE=0;function Fe(){throw Error(o(321))}function au(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Rt(n[a],i[a]))return!1;return!0}function lu(n,i,a,r,m,y){return yn=y,ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=n===null||n.memoizedState===null?wp:Eu,Mi=!1,y=a(r,m),Mi=!1,rs&&(y=Qh(i,a,r,m)),Xh(n),y}function Xh(n){H.H=mo;var i=De!==null&&De.next!==null;if(yn=0,We=De=ye=null,Ha=!1,fo=0,us=null,i)throw Error(o(300));n===null||$e||(n=n.dependencies,n!==null&&Ia(n)&&($e=!0))}function Qh(n,i,a,r){ye=n;var m=0;do{if(rs&&(us=null),fo=0,rs=!1,25<=m)throw Error(o(301));if(m+=1,We=De=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Dp,y=i(a,r)}while(rs);return y}function AE(){var n=H.H,i=n.useState()[0];return i=typeof i.then=="function"?ho(i):i,n=n.useState()[0],(De!==null?De.memoizedState:null)!==n&&(ye.flags|=1024),i}function ru(){var n=za!==0;return za=0,n}function uu(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function cu(n){if(Ha){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ha=!1}yn=0,We=De=ye=null,rs=!1,fo=za=0,us=null}function gt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ye.memoizedState=We=n:We=We.next=n,We}function Ze(){if(De===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=De.next;var i=We===null?ye.memoizedState:We.next;if(i!==null)We=i,De=n;else{if(n===null)throw ye.alternate===null?Error(o(467)):Error(o(310));De=n,n={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},We===null?ye.memoizedState=We=n:We=We.next=n}return We}function Fa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(n){var i=fo;return fo+=1,us===null&&(us=[]),n=Gh(us,n,i),i=ye,(We===null?i.memoizedState:We.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?wp:Eu),n}function Oa(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ho(n);if(n.$$typeof===w)return ct(n)}throw Error(o(438,String(n)))}function fu(n){var i=null,a=ye.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fa(),ye.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),r=0;r<n;r++)a[r]=ae;return i.index++,a}function vn(n,i){return typeof i=="function"?i(n):i}function Ya(n){var i=Ze();return du(i,De,n)}function du(n,i,a){var r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var m=n.baseQueue,y=r.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}i.baseQueue=m=y,r.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var C=E=null,_=null,L=i,Y=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Se&K)===K:(yn&K)===K){var V=L.revertLane;if(V===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===is&&(Y=!0);else if((yn&V)===V){L=L.next,V===is&&(Y=!0);continue}else K={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(C=_=K,E=y):_=_.next=K,ye.lanes|=V,Qn|=V;K=L.action,Mi&&a(y,K),y=L.hasEagerState?L.eagerState:a(y,K)}else V={lane:K,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(C=_=V,E=y):_=_.next=V,ye.lanes|=K,Qn|=K;L=L.next}while(L!==null&&L!==i);if(_===null?E=y:_.next=C,!Rt(y,n.memoizedState)&&($e=!0,Y&&(a=ss,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=_,r.lastRenderedState=y}return m===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function hu(n){var i=Ze(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var r=a.dispatch,m=a.pending,y=i.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);Rt(y,i.memoizedState)||($e=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,r]}function Zh(n,i,a){var r=ye,m=Ze(),y=Ae;if(y){if(a===void 0)throw Error(o(407));a=a()}else a=i();var E=!Rt((De||m).memoizedState,a);if(E&&(m.memoizedState=a,$e=!0),m=m.queue,gu($h.bind(null,r,m,n),[n]),m.getSnapshot!==i||E||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,cs(9,{destroy:void 0},Wh.bind(null,r,m,a,i),null),Ve===null)throw Error(o(349));y||(yn&127)!==0||jh(r,i,a)}return a}function jh(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ye.updateQueue,i===null?(i=Fa(),ye.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Wh(n,i,a,r){i.value=a,i.getSnapshot=r,ep(i)&&tp(n)}function $h(n,i,a){return a(function(){ep(i)&&tp(n)})}function ep(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Rt(n,a)}catch{return!0}}function tp(n){var i=vi(n,2);i!==null&&At(i,n,2)}function pu(n){var i=gt();if(typeof n=="function"){var a=n;if(n=a(),Mi){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},i}function np(n,i,a,r){return n.baseState=a,du(n,De,typeof r=="function"?r:vn)}function _E(n,i,a,r,m){if(Xa(n))throw Error(o(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};H.T!==null?a(!0):y.isTransition=!1,r(y),a=i.pending,a===null?(y.next=i.pending=y,ip(i,y)):(y.next=a.next,i.pending=a.next=y)}}function ip(n,i){var a=i.action,r=i.payload,m=n.state;if(i.isTransition){var y=H.T,E={};H.T=E;try{var C=a(m,r),_=H.S;_!==null&&_(E,C),sp(n,i,C)}catch(L){mu(n,i,L)}finally{y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}else try{y=a(m,r),sp(n,i,y)}catch(L){mu(n,i,L)}}function sp(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){op(n,i,r)},function(r){return mu(n,i,r)}):op(n,i,a)}function op(n,i,a){i.status="fulfilled",i.value=a,ap(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,ip(n,a)))}function mu(n,i,a){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,ap(i),i=i.next;while(i!==r)}n.action=null}function ap(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function lp(n,i){return i}function rp(n,i){if(Ae){var a=Ve.formState;if(a!==null){e:{var r=ye;if(Ae){if(ke){t:{for(var m=ke,y=zt;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ot(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ke=Ot(m.nextSibling),r=m.data==="F!";break e}}qn(r)}r=!1}r&&(i=a[0])}}return a=gt(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:i},a.queue=r,a=Mp.bind(null,ye,r),r.dispatch=a,r=pu(!1),y=Su.bind(null,ye,!1,r.queue),r=gt(),m={state:i,dispatch:null,action:n,pending:null},r.queue=m,a=_E.bind(null,ye,m,y,a),m.dispatch=a,r.memoizedState=n,[i,a,!1]}function up(n){var i=Ze();return cp(i,De,n)}function cp(n,i,a){if(i=du(n,i,lp)[0],n=Ya(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ho(i)}catch(E){throw E===os?La:E}else r=i;i=Ze();var m=i.queue,y=m.dispatch;return a!==i.memoizedState&&(ye.flags|=2048,cs(9,{destroy:void 0},NE.bind(null,m,a),null)),[r,y,n]}function NE(n,i){n.action=i}function fp(n){var i=Ze(),a=De;if(a!==null)return cp(i,a,n);Ze(),i=i.memoizedState,a=Ze();var r=a.queue.dispatch;return a.memoizedState=n,[i,r,!1]}function cs(n,i,a,r){return n={tag:n,create:a,deps:r,inst:i,next:null},i=ye.updateQueue,i===null&&(i=Fa(),ye.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(r=a.next,a.next=n,n.next=r,i.lastEffect=n),n}function dp(){return Ze().memoizedState}function Ja(n,i,a,r){var m=gt();ye.flags|=n,m.memoizedState=cs(1|i,{destroy:void 0},a,r===void 0?null:r)}function Ka(n,i,a,r){var m=Ze();r=r===void 0?null:r;var y=m.memoizedState.inst;De!==null&&r!==null&&au(r,De.memoizedState.deps)?m.memoizedState=cs(i,y,a,r):(ye.flags|=n,m.memoizedState=cs(1|i,y,a,r))}function hp(n,i){Ja(8390656,8,n,i)}function gu(n,i){Ka(2048,8,n,i)}function ME(n){ye.flags|=4;var i=ye.updateQueue;if(i===null)i=Fa(),ye.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function pp(n){var i=Ze().memoizedState;return ME({ref:i,nextImpl:n}),function(){if((be&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function mp(n,i){return Ka(4,2,n,i)}function gp(n,i){return Ka(4,4,n,i)}function yp(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function vp(n,i,a){a=a!=null?a.concat([n]):null,Ka(4,4,yp.bind(null,i,n),a)}function yu(){}function Tp(n,i){var a=Ze();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&au(i,r[1])?r[0]:(a.memoizedState=[n,i],n)}function xp(n,i){var a=Ze();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&au(i,r[1]))return r[0];if(r=n(),Mi){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[r,i],r}function vu(n,i,a){return a===void 0||(yn&1073741824)!==0&&(Se&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=Sm(),ye.lanes|=n,Qn|=n,a)}function Sp(n,i,a,r){return Rt(a,i)?a:ls.current!==null?(n=vu(n,a,r),Rt(n,i)||($e=!0),n):(yn&42)===0||(yn&1073741824)!==0&&(Se&261930)===0?($e=!0,n.memoizedState=a):(n=Sm(),ye.lanes|=n,Qn|=n,i)}function Ep(n,i,a,r,m){var y=O.p;O.p=y!==0&&8>y?y:8;var E=H.T,C={};H.T=C,Su(n,!1,i,a);try{var _=m(),L=H.S;if(L!==null&&L(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Y=EE(_,r);po(n,i,Y,Lt(n))}else po(n,i,r,Lt(n))}catch(K){po(n,i,{then:function(){},status:"rejected",reason:K},Lt())}finally{O.p=y,E!==null&&C.types!==null&&(E.types=C.types),H.T=E}}function bE(){}function Tu(n,i,a,r){if(n.tag!==5)throw Error(o(476));var m=Cp(n).queue;Ep(n,m,i,Z,a===null?bE:function(){return Ap(n),a(r)})}function Cp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:Z},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ap(n){var i=Cp(n);i.next===null&&(i=n.alternate.memoizedState),po(n,i.next.queue,{},Lt())}function xu(){return ct(Do)}function _p(){return Ze().memoizedState}function Np(){return Ze().memoizedState}function RE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Lt();n=Fn(a);var r=On(i,n,a);r!==null&&(At(r,i,a),ro(r,i,a)),i={cache:Qr()},n.payload=i;return}i=i.return}}function wE(n,i,a){var r=Lt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xa(n)?bp(i,a):(a=Br(n,i,a,r),a!==null&&(At(a,n,r),Rp(a,i,r)))}function Mp(n,i,a){var r=Lt();po(n,i,a,r)}function po(n,i,a,r){var m={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xa(n))bp(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,C=y(E,a);if(m.hasEagerState=!0,m.eagerState=C,Rt(C,E))return ba(n,i,m,0),Ve===null&&Ma(),!1}catch{}finally{}if(a=Br(n,i,m,r),a!==null)return At(a,n,r),Rp(a,i,r),!0}return!1}function Su(n,i,a,r){if(r={lane:2,revertLane:$u(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xa(n)){if(i)throw Error(o(479))}else i=Br(n,a,r,2),i!==null&&At(i,n,2)}function Xa(n){var i=n.alternate;return n===ye||i!==null&&i===ye}function bp(n,i){rs=Ha=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Rp(n,i,a){if((a&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,Ud(n,a)}}var mo={readContext:ct,use:Oa,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};mo.useEffectEvent=Fe;var wp={readContext:ct,use:Oa,useCallback:function(n,i){return gt().memoizedState=[n,i===void 0?null:i],n},useContext:ct,useEffect:hp,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ja(4194308,4,yp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ja(4194308,4,n,i)},useInsertionEffect:function(n,i){Ja(4,2,n,i)},useMemo:function(n,i){var a=gt();i=i===void 0?null:i;var r=n();if(Mi){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[r,i],r},useReducer:function(n,i,a){var r=gt();if(a!==void 0){var m=a(i);if(Mi){Ln(!0);try{a(i)}finally{Ln(!1)}}}else m=i;return r.memoizedState=r.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},r.queue=n,n=n.dispatch=wE.bind(null,ye,n),[r.memoizedState,n]},useRef:function(n){var i=gt();return n={current:n},i.memoizedState=n},useState:function(n){n=pu(n);var i=n.queue,a=Mp.bind(null,ye,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:yu,useDeferredValue:function(n,i){var a=gt();return vu(a,n,i)},useTransition:function(){var n=pu(!1);return n=Ep.bind(null,ye,n.queue,!0,!1),gt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var r=ye,m=gt();if(Ae){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Ve===null)throw Error(o(349));(Se&127)!==0||jh(r,i,a)}m.memoizedState=a;var y={value:a,getSnapshot:i};return m.queue=y,hp($h.bind(null,r,y,n),[n]),r.flags|=2048,cs(9,{destroy:void 0},Wh.bind(null,r,y,a,i),null),a},useId:function(){var n=gt(),i=Ve.identifierPrefix;if(Ae){var a=an,r=on;a=(r&~(1<<32-bt(r)-1)).toString(32)+a,i="_"+i+"R_"+a,a=za++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=CE++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:xu,useFormState:rp,useActionState:rp,useOptimistic:function(n){var i=gt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Su.bind(null,ye,!0,a),a.dispatch=i,[n,i]},useMemoCache:fu,useCacheRefresh:function(){return gt().memoizedState=RE.bind(null,ye)},useEffectEvent:function(n){var i=gt(),a={impl:n};return i.memoizedState=a,function(){if((be&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Eu={readContext:ct,use:Oa,useCallback:Tp,useContext:ct,useEffect:gu,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:xp,useReducer:Ya,useRef:dp,useState:function(){return Ya(vn)},useDebugValue:yu,useDeferredValue:function(n,i){var a=Ze();return Sp(a,De.memoizedState,n,i)},useTransition:function(){var n=Ya(vn)[0],i=Ze().memoizedState;return[typeof n=="boolean"?n:ho(n),i]},useSyncExternalStore:Zh,useId:_p,useHostTransitionStatus:xu,useFormState:up,useActionState:up,useOptimistic:function(n,i){var a=Ze();return np(a,De,n,i)},useMemoCache:fu,useCacheRefresh:Np};Eu.useEffectEvent=pp;var Dp={readContext:ct,use:Oa,useCallback:Tp,useContext:ct,useEffect:gu,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:xp,useReducer:hu,useRef:dp,useState:function(){return hu(vn)},useDebugValue:yu,useDeferredValue:function(n,i){var a=Ze();return De===null?vu(a,n,i):Sp(a,De.memoizedState,n,i)},useTransition:function(){var n=hu(vn)[0],i=Ze().memoizedState;return[typeof n=="boolean"?n:ho(n),i]},useSyncExternalStore:Zh,useId:_p,useHostTransitionStatus:xu,useFormState:fp,useActionState:fp,useOptimistic:function(n,i){var a=Ze();return De!==null?np(a,De,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fu,useCacheRefresh:Np};Dp.useEffectEvent=pp;function Cu(n,i,a,r){i=n.memoizedState,a=a(r,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Au={enqueueSetState:function(n,i,a){n=n._reactInternals;var r=Lt(),m=Fn(r);m.payload=i,a!=null&&(m.callback=a),i=On(n,m,r),i!==null&&(At(i,n,r),ro(i,n,r))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var r=Lt(),m=Fn(r);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=On(n,m,r),i!==null&&(At(i,n,r),ro(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Lt(),r=Fn(a);r.tag=2,i!=null&&(r.callback=i),i=On(n,r,a),i!==null&&(At(i,n,a),ro(i,n,a))}};function Ip(n,i,a,r,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,y,E):i.prototype&&i.prototype.isPureReactComponent?!eo(a,r)||!eo(m,y):!0}function Pp(n,i,a,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==n&&Au.enqueueReplaceState(i,i.state,null)}function bi(n,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function Up(n){Na(n)}function Lp(n){console.error(n)}function Vp(n){Na(n)}function Qa(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function kp(n,i,a){try{var r=n.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function _u(n,i,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){Qa(n,i)},a}function Bp(n){return n=Fn(n),n.tag=3,n}function Gp(n,i,a,r){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=r.value;n.payload=function(){return m(y)},n.callback=function(){kp(i,a,r)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){kp(i,a,r),typeof m!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function DE(n,i,a,r,m){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&ns(i,a,m,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?ll():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=m,r===Va?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Zu(n,r,m)),!1;case 22:return a.flags|=65536,r===Va?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Zu(n,r,m)),!1}throw Error(o(435,a.tag))}return Zu(n,r,m),ll(),!1}if(Ae)return i=Dt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,r!==Or&&(n=Error(o(422),{cause:r}),io(Gt(n,a)))):(r!==Or&&(i=Error(o(423),{cause:r}),io(Gt(i,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,r=Gt(r,a),m=_u(n.stateNode,r,m),tu(n,m),Oe!==4&&(Oe=2)),!1;var y=Error(o(520),{cause:r});if(y=Gt(y,a),Co===null?Co=[y]:Co.push(y),Oe!==4&&(Oe=2),i===null)return!0;r=Gt(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=_u(a.stateNode,r,n),tu(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zn===null||!Zn.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Bp(m),Gp(m,n,a,r),tu(a,m),!1}a=a.return}while(a!==null);return!1}var Nu=Error(o(461)),$e=!1;function ft(n,i,a,r){i.child=n===null?Fh(i,null,a,r):Ni(i,n.child,a,r)}function qp(n,i,a,r,m){a=a.render;var y=i.ref;if("ref"in r){var E={};for(var C in r)C!=="ref"&&(E[C]=r[C])}else E=r;return Ei(i),r=lu(n,i,a,E,y,m),C=ru(),n!==null&&!$e?(uu(n,i,m),Tn(n,i,m)):(Ae&&C&&zr(i),i.flags|=1,ft(n,i,r,m),i.child)}function Hp(n,i,a,r,m){if(n===null){var y=a.type;return typeof y=="function"&&!Gr(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,zp(n,i,y,r,m)):(n=wa(a.type,null,r,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Uu(n,m)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(E,r)&&n.ref===i.ref)return Tn(n,i,m)}return i.flags|=1,n=hn(y,r),n.ref=i.ref,n.return=i,i.child=n}function zp(n,i,a,r,m){if(n!==null){var y=n.memoizedProps;if(eo(y,r)&&n.ref===i.ref)if($e=!1,i.pendingProps=r=y,Uu(n,m))(n.flags&131072)!==0&&($e=!0);else return i.lanes=n.lanes,Tn(n,i,m)}return Mu(n,i,a,r,m)}function Fp(n,i,a,r){var m=r.children,y=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(r=i.child=n.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~y}else r=0,i.child=null;return Op(n,i,y,a,r)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ua(i,y!==null?y.cachePool:null),y!==null?Jh(i,y):iu(),Kh(i);else return r=i.lanes=536870912,Op(n,i,y!==null?y.baseLanes|a:a,a,r)}else y!==null?(Ua(i,y.cachePool),Jh(i,y),Jn(),i.memoizedState=null):(n!==null&&Ua(i,null),iu(),Jn());return ft(n,i,m,a),i.child}function go(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Op(n,i,a,r,m){var y=jr();return y=y===null?null:{parent:je._currentValue,pool:y},i.memoizedState={baseLanes:a,cachePool:y},n!==null&&Ua(i,null),iu(),Kh(i),n!==null&&ns(n,i,r,!0),i.childLanes=m,null}function Za(n,i){return i=Wa({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Yp(n,i,a){return Ni(i,n.child,null,a),n=Za(i,i.pendingProps),n.flags|=2,It(i),i.memoizedState=null,n}function IE(n,i,a){var r=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ae){if(r.mode==="hidden")return n=Za(i,r),i.lanes=536870912,go(null,n);if(ou(i),(n=ke)?(n=ig(n,zt),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Bn!==null?{id:on,overflow:an}:null,retryLane:536870912,hydrationErrors:null},a=bh(n),a.return=i,i.child=a,ut=i,ke=null)):n=null,n===null)throw qn(i);return i.lanes=536870912,null}return Za(i,r)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(ou(i),m)if(i.flags&256)i.flags&=-257,i=Yp(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(o(558));else if($e||ns(n,i,a,!1),m=(a&n.childLanes)!==0,$e||m){if(r=Ve,r!==null&&(E=Ld(r,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,vi(n,E),At(r,n,E),Nu;ll(),i=Yp(n,i,a)}else n=y.treeContext,ke=Ot(E.nextSibling),ut=i,Ae=!0,Gn=null,zt=!1,n!==null&&Dh(i,n),i=Za(i,r),i.flags|=4096;return i}return n=hn(n.child,{mode:r.mode,children:r.children}),n.ref=i.ref,i.child=n,n.return=i,n}function ja(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Mu(n,i,a,r,m){return Ei(i),a=lu(n,i,a,r,void 0,m),r=ru(),n!==null&&!$e?(uu(n,i,m),Tn(n,i,m)):(Ae&&r&&zr(i),i.flags|=1,ft(n,i,a,m),i.child)}function Jp(n,i,a,r,m,y){return Ei(i),i.updateQueue=null,a=Qh(i,r,a,m),Xh(n),r=ru(),n!==null&&!$e?(uu(n,i,y),Tn(n,i,y)):(Ae&&r&&zr(i),i.flags|=1,ft(n,i,a,y),i.child)}function Kp(n,i,a,r,m){if(Ei(i),i.stateNode===null){var y=Wi,E=a.contextType;typeof E=="object"&&E!==null&&(y=ct(E)),y=new a(r,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Au,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=r,y.state=i.memoizedState,y.refs={},$r(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?ct(E):Wi,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Cu(i,a,E,r),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Au.enqueueReplaceState(y,y.state,null),co(i,r,y,m),uo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,_=bi(a,C);y.props=_;var L=y.context,Y=a.contextType;E=Wi,typeof Y=="object"&&Y!==null&&(E=ct(Y));var K=a.getDerivedStateFromProps;Y=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||L!==E)&&Pp(i,y,r,E),zn=!1;var V=i.memoizedState;y.state=V,co(i,r,y,m),uo(),L=i.memoizedState,C||V!==L||zn?(typeof K=="function"&&(Cu(i,a,K,r),L=i.memoizedState),(_=zn||Ip(i,a,_,r,V,L,E))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=L),y.props=r,y.state=L,y.context=E,r=_):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{y=i.stateNode,eu(n,i),E=i.memoizedProps,Y=bi(a,E),y.props=Y,K=i.pendingProps,V=y.context,L=a.contextType,_=Wi,typeof L=="object"&&L!==null&&(_=ct(L)),C=a.getDerivedStateFromProps,(L=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==K||V!==_)&&Pp(i,y,r,_),zn=!1,V=i.memoizedState,y.state=V,co(i,r,y,m),uo();var B=i.memoizedState;E!==K||V!==B||zn||n!==null&&n.dependencies!==null&&Ia(n.dependencies)?(typeof C=="function"&&(Cu(i,a,C,r),B=i.memoizedState),(Y=zn||Ip(i,a,Y,r,V,B,_)||n!==null&&n.dependencies!==null&&Ia(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,B,_),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,B,_)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=B),y.props=r,y.state=B,y.context=_,r=Y):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),r=!1)}return y=r,ja(n,i),r=(i.flags&128)!==0,y||r?(y=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&r?(i.child=Ni(i,n.child,null,m),i.child=Ni(i,null,a,m)):ft(n,i,a,m),i.memoizedState=y.state,n=i.child):n=Tn(n,i,m),n}function Xp(n,i,a,r){return xi(),i.flags|=256,ft(n,i,a,r),i.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(n){return{baseLanes:n,cachePool:kh()}}function wu(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Ut),n}function Qp(n,i,a){var r=i.pendingProps,m=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(Qe.current&2)!==0),E&&(m=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ae){if(m?Yn(i):Jn(),(n=ke)?(n=ig(n,zt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Bn!==null?{id:on,overflow:an}:null,retryLane:536870912,hydrationErrors:null},a=bh(n),a.return=i,i.child=a,ut=i,ke=null)):n=null,n===null)throw qn(i);return dc(n)?i.lanes=32:i.lanes=536870912,null}var C=r.children;return r=r.fallback,m?(Jn(),m=i.mode,C=Wa({mode:"hidden",children:C},m),r=Ti(r,m,a,null),C.return=i,r.return=i,C.sibling=r,i.child=C,r=i.child,r.memoizedState=Ru(a),r.childLanes=wu(n,E,a),i.memoizedState=bu,go(null,r)):(Yn(i),Du(i,C))}var _=n.memoizedState;if(_!==null&&(C=_.dehydrated,C!==null)){if(y)i.flags&256?(Yn(i),i.flags&=-257,i=Iu(n,i,a)):i.memoizedState!==null?(Jn(),i.child=n.child,i.flags|=128,i=null):(Jn(),C=r.fallback,m=i.mode,r=Wa({mode:"visible",children:r.children},m),C=Ti(C,m,a,null),C.flags|=2,r.return=i,C.return=i,r.sibling=C,i.child=r,Ni(i,n.child,null,a),r=i.child,r.memoizedState=Ru(a),r.childLanes=wu(n,E,a),i.memoizedState=bu,i=go(null,r));else if(Yn(i),dc(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var L=E.dgst;E=L,r=Error(o(419)),r.stack="",r.digest=E,io({value:r,source:null,stack:null}),i=Iu(n,i,a)}else if($e||ns(n,i,a,!1),E=(a&n.childLanes)!==0,$e||E){if(E=Ve,E!==null&&(r=Ld(E,a),r!==0&&r!==_.retryLane))throw _.retryLane=r,vi(n,r),At(E,n,r),Nu;fc(C)||ll(),i=Iu(n,i,a)}else fc(C)?(i.flags|=192,i.child=n.child,i=null):(n=_.treeContext,ke=Ot(C.nextSibling),ut=i,Ae=!0,Gn=null,zt=!1,n!==null&&Dh(i,n),i=Du(i,r.children),i.flags|=4096);return i}return m?(Jn(),C=r.fallback,m=i.mode,_=n.child,L=_.sibling,r=hn(_,{mode:"hidden",children:r.children}),r.subtreeFlags=_.subtreeFlags&65011712,L!==null?C=hn(L,C):(C=Ti(C,m,a,null),C.flags|=2),C.return=i,r.return=i,r.sibling=C,i.child=r,go(null,r),r=i.child,C=n.child.memoizedState,C===null?C=Ru(a):(m=C.cachePool,m!==null?(_=je._currentValue,m=m.parent!==_?{parent:_,pool:_}:m):m=kh(),C={baseLanes:C.baseLanes|a,cachePool:m}),r.memoizedState=C,r.childLanes=wu(n,E,a),i.memoizedState=bu,go(n.child,r)):(Yn(i),a=n.child,n=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Du(n,i){return i=Wa({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Wa(n,i){return n=wt(22,n,null,i),n.lanes=0,n}function Iu(n,i,a){return Ni(i,n.child,null,a),n=Du(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Zp(n,i,a){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),Kr(n.return,i,a)}function Pu(n,i,a,r,m,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:m,treeForkCount:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=a,E.tailMode=m,E.treeForkCount=y)}function jp(n,i,a){var r=i.pendingProps,m=r.revealOrder,y=r.tail;r=r.children;var E=Qe.current,C=(E&2)!==0;if(C?(E=E&1|2,i.flags|=128):E&=1,te(Qe,E),ft(n,i,r,a),r=Ae?no:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zp(n,a,i);else if(n.tag===19)Zp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=i.child,m=null;a!==null;)n=a.alternate,n!==null&&qa(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),Pu(i,!1,m,a,y,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&qa(n)===null){i.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Pu(i,!0,a,null,y,r);break;case"together":Pu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function Tn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Qn|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ns(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=hn(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=hn(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Uu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ia(n)))}function PE(n,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Hn(i,je,n.memoizedState.cache),xi();break;case 27:case 5:Hs(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Hn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ou(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Yn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(n,i,a):(Yn(i),n=Tn(n,i,a),n!==null?n.sibling:null);Yn(i);break;case 19:var m=(n.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(ns(n,i,a,!1),r=(a&i.childLanes)!==0),m){if(r)return jp(n,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Qe,Qe.current),r)break;return null;case 22:return i.lanes=0,Fp(n,i,a,i.pendingProps);case 24:Hn(i,je,n.memoizedState.cache)}return Tn(n,i,a)}function Wp(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)$e=!0;else{if(!Uu(n,a)&&(i.flags&128)===0)return $e=!1,PE(n,i,a);$e=(n.flags&131072)!==0}else $e=!1,Ae&&(i.flags&1048576)!==0&&wh(i,no,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(n=Ai(i.elementType),i.type=n,typeof n=="function")Gr(n)?(r=bi(n,r),i.tag=1,i=Kp(null,i,n,r,a)):(i.tag=0,i=Mu(null,i,n,r,a));else{if(n!=null){var m=n.$$typeof;if(m===Q){i.tag=11,i=qp(null,i,n,r,a);break e}else if(m===z){i.tag=14,i=Hp(null,i,n,r,a);break e}}throw i=st(n)||n,Error(o(306,i,""))}}return i;case 0:return Mu(n,i,i.type,i.pendingProps,a);case 1:return r=i.type,m=bi(r,i.pendingProps),Kp(n,i,r,m,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),n===null)throw Error(o(387));r=i.pendingProps;var y=i.memoizedState;m=y.element,eu(n,i),co(i,r,null,a);var E=i.memoizedState;if(r=E.cache,Hn(i,je,r),r!==y.cache&&Xr(i,[je],a,!0),uo(),r=E.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Xp(n,i,r,a);break e}else if(r!==m){m=Gt(Error(o(424)),i),io(m),i=Xp(n,i,r,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ke=Ot(n.firstChild),ut=i,Ae=!0,Gn=null,zt=!0,a=Fh(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xi(),r===m){i=Tn(n,i,a);break e}ft(n,i,r,a)}i=i.child}return i;case 26:return ja(n,i),n===null?(a=ug(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ae||(a=i.type,n=i.pendingProps,r=pl(ge.current).createElement(a),r[rt]=i,r[vt]=n,dt(r,a,n),ot(r),i.stateNode=r):i.memoizedState=ug(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Hs(i),n===null&&Ae&&(r=i.stateNode=ag(i.type,i.pendingProps,ge.current),ut=i,zt=!0,m=ke,ei(i.type)?(hc=m,ke=Ot(r.firstChild)):ke=m),ft(n,i,i.pendingProps.children,a),ja(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ae&&((m=r=ke)&&(r=uC(r,i.type,i.pendingProps,zt),r!==null?(i.stateNode=r,ut=i,ke=Ot(r.firstChild),zt=!1,m=!0):m=!1),m||qn(i)),Hs(i),m=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,r=y.children,rc(m,y)?r=null:E!==null&&rc(m,E)&&(i.flags|=32),i.memoizedState!==null&&(m=lu(n,i,AE,null,null,a),Do._currentValue=m),ja(n,i),ft(n,i,r,a),i.child;case 6:return n===null&&Ae&&((n=a=ke)&&(a=cC(a,i.pendingProps,zt),a!==null?(i.stateNode=a,ut=i,ke=null,n=!0):n=!1),n||qn(i)),null;case 13:return Qp(n,i,a);case 4:return Xe(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=Ni(i,null,r,a):ft(n,i,r,a),i.child;case 11:return qp(n,i,i.type,i.pendingProps,a);case 7:return ft(n,i,i.pendingProps,a),i.child;case 8:return ft(n,i,i.pendingProps.children,a),i.child;case 12:return ft(n,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Hn(i,i.type,r.value),ft(n,i,r.children,a),i.child;case 9:return m=i.type._context,r=i.pendingProps.children,Ei(i),m=ct(m),r=r(m),i.flags|=1,ft(n,i,r,a),i.child;case 14:return Hp(n,i,i.type,i.pendingProps,a);case 15:return zp(n,i,i.type,i.pendingProps,a);case 19:return jp(n,i,a);case 31:return IE(n,i,a);case 22:return Fp(n,i,a,i.pendingProps);case 24:return Ei(i),r=ct(je),n===null?(m=jr(),m===null&&(m=Ve,y=Qr(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),i.memoizedState={parent:r,cache:m},$r(i),Hn(i,je,m)):((n.lanes&a)!==0&&(eu(n,i),co(i,null,null,a),uo()),m=n.memoizedState,y=i.memoizedState,m.parent!==r?(m={parent:r,cache:r},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Hn(i,je,r)):(r=y.cache,Hn(i,je,r),r!==m.cache&&Xr(i,[je],a,!0))),ft(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function xn(n){n.flags|=4}function Lu(n,i,a,r,m){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(_m())n.flags|=8192;else throw _i=Va,Wr}else n.flags&=-16777217}function $p(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pg(i))if(_m())n.flags|=8192;else throw _i=Va,Wr}function $a(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Id():536870912,n.lanes|=i,ps|=i)}function yo(n,i){if(!Ae)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Be(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,r=0;if(i)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=r,n.childLanes=a,i}function UE(n,i,a){var r=i.pendingProps;switch(Fr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return a=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),gn(je),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ts(i)?xn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yr())),Be(i),null;case 26:var m=i.type,y=i.memoizedState;return n===null?(xn(i),y!==null?(Be(i),$p(i,y)):(Be(i),Lu(i,m,null,r,a))):y?y!==n.memoizedState?(xn(i),Be(i),$p(i,y)):(Be(i),i.flags&=-16777217):(n=n.memoizedProps,n!==r&&xn(i),Be(i),Lu(i,m,n,r,a)),null;case 27:if(ca(i),a=ge.current,m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Be(i),null}n=ee.current,ts(i)?Ih(i):(n=ag(m,r,a),i.stateNode=n,xn(i))}return Be(i),null;case 5:if(ca(i),m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Be(i),null}if(y=ee.current,ts(i))Ih(i);else{var E=pl(ge.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?E.createElement(m,{is:r.is}):E.createElement(m)}}y[rt]=i,y[vt]=r;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=y;e:switch(dt(y,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xn(i)}}return Be(i),Lu(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(o(166));if(n=ge.current,ts(i)){if(n=i.stateNode,a=i.memoizedProps,r=null,m=ut,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}n[rt]=i,n=!!(n.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Qm(n.nodeValue,a)),n||qn(i,!0)}else n=pl(n).createTextNode(r),n[rt]=i,i.stateNode=n}return Be(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(r=ts(i),a!==null){if(n===null){if(!r)throw Error(o(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[rt]=i}else xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),n=!1}else a=Yr(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(It(i),i):(It(i),null);if((i.flags&128)!==0)throw Error(o(558))}return Be(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ts(i),r!==null&&r.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[rt]=i}else xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),m=!1}else m=Yr(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(It(i),i):(It(i),null)}return It(i),(i.flags&128)!==0?(i.lanes=a,i):(a=r!==null,n=n!==null&&n.memoizedState!==null,a&&(r=i.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==m&&(r.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),$a(i,i.updateQueue),Be(i),null);case 4:return Le(),n===null&&ic(i.stateNode.containerInfo),Be(i),null;case 10:return gn(i.type),Be(i),null;case 19:if(F(Qe),r=i.memoizedState,r===null)return Be(i),null;if(m=(i.flags&128)!==0,y=r.rendering,y===null)if(m)yo(r,!1);else{if(Oe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=qa(n),y!==null){for(i.flags|=128,yo(r,!1),n=y.updateQueue,i.updateQueue=n,$a(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Mh(a,n),a=a.sibling;return te(Qe,Qe.current&1|2),Ae&&pn(i,r.treeForkCount),i.child}n=n.sibling}r.tail!==null&&Nt()>sl&&(i.flags|=128,m=!0,yo(r,!1),i.lanes=4194304)}else{if(!m)if(n=qa(y),n!==null){if(i.flags|=128,m=!0,n=n.updateQueue,i.updateQueue=n,$a(i,n),yo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!Ae)return Be(i),null}else 2*Nt()-r.renderingStartTime>sl&&a!==536870912&&(i.flags|=128,m=!0,yo(r,!1),i.lanes=4194304);r.isBackwards?(y.sibling=i.child,i.child=y):(n=r.last,n!==null?n.sibling=y:i.child=y,r.last=y)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=Nt(),n.sibling=null,a=Qe.current,te(Qe,m?a&1|2:a&1),Ae&&pn(i,r.treeForkCount),n):(Be(i),null);case 22:case 23:return It(i),su(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),a=i.updateQueue,a!==null&&$a(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),n!==null&&F(Ci),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gn(je),Be(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function LE(n,i){switch(Fr(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return gn(je),Le(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(It(i),i.alternate===null)throw Error(o(340));xi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(It(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));xi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return F(Qe),null;case 4:return Le(),null;case 10:return gn(i.type),null;case 22:case 23:return It(i),su(),n!==null&&F(Ci),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return gn(je),null;case 25:return null;default:return null}}function em(n,i){switch(Fr(i),i.tag){case 3:gn(je),Le();break;case 26:case 27:case 5:ca(i);break;case 4:Le();break;case 31:i.memoizedState!==null&&It(i);break;case 13:It(i);break;case 19:F(Qe);break;case 10:gn(i.type);break;case 22:case 23:It(i),su(),n!==null&&F(Ci);break;case 24:gn(je)}}function vo(n,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var m=r.next;a=m;do{if((a.tag&n)===n){r=void 0;var y=a.create,E=a.inst;r=y(),E.destroy=r}a=a.next}while(a!==m)}}catch(C){we(i,i.return,C)}}function Kn(n,i,a){try{var r=i.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var y=m.next;r=y;do{if((r.tag&n)===n){var E=r.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,m=i;var _=a,L=C;try{L()}catch(Y){we(m,_,Y)}}}r=r.next}while(r!==y)}}catch(Y){we(i,i.return,Y)}}function tm(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Yh(i,a)}catch(r){we(n,n.return,r)}}}function nm(n,i,a){a.props=bi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(r){we(n,i,r)}}function To(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof a=="function"?n.refCleanup=a(r):a.current=r}}catch(m){we(n,i,m)}}function ln(n,i){var a=n.ref,r=n.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(m){we(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){we(n,i,m)}else a.current=null}function im(n){var i=n.type,a=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(m){we(n,n.return,m)}}function Vu(n,i,a){try{var r=n.stateNode;iC(r,n.type,a,i),r[vt]=i}catch(m){we(n,n.return,m)}}function sm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ei(n.type)||n.tag===4}function ku(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ei(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bu(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=fn));else if(r!==4&&(r===27&&ei(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Bu(n,i,a),n=n.sibling;n!==null;)Bu(n,i,a),n=n.sibling}function el(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(r!==4&&(r===27&&ei(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(el(n,i,a),n=n.sibling;n!==null;)el(n,i,a),n=n.sibling}function om(n){var i=n.stateNode,a=n.memoizedProps;try{for(var r=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);dt(i,r,a),i[rt]=n,i[vt]=a}catch(y){we(n,n.return,y)}}var Sn=!1,et=!1,Gu=!1,am=typeof WeakSet=="function"?WeakSet:Set,at=null;function VE(n,i){if(n=n.containerInfo,ac=Sl,n=vh(n),Ir(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var m=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,C=-1,_=-1,L=0,Y=0,K=n,V=null;t:for(;;){for(var B;K!==a||m!==0&&K.nodeType!==3||(C=E+m),K!==y||r!==0&&K.nodeType!==3||(_=E+r),K.nodeType===3&&(E+=K.nodeValue.length),(B=K.firstChild)!==null;)V=K,K=B;for(;;){if(K===n)break t;if(V===a&&++L===m&&(C=E),V===y&&++Y===r&&(_=E),(B=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=B}a=C===-1||_===-1?null:{start:C,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(lc={focusedElem:n,selectionRange:a},Sl=!1,at=i;at!==null;)if(i=at,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,at=n;else for(;at!==null;){switch(i=at,y=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,m=y.memoizedProps,y=y.memoizedState,r=a.stateNode;try{var ie=bi(a.type,m);n=r.getSnapshotBeforeUpdate(ie,y),r.__reactInternalSnapshotBeforeUpdate=n}catch(ue){we(a,a.return,ue)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)cc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,at=n;break}at=i.return}}function lm(n,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(n,a),r&4&&vo(5,a);break;case 1:if(Cn(n,a),r&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){we(a,a.return,E)}else{var m=bi(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){we(a,a.return,E)}}r&64&&tm(a),r&512&&To(a,a.return);break;case 3:if(Cn(n,a),r&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yh(n,i)}catch(E){we(a,a.return,E)}}break;case 27:i===null&&r&4&&om(a);case 26:case 5:Cn(n,a),i===null&&r&4&&im(a),r&512&&To(a,a.return);break;case 12:Cn(n,a);break;case 31:Cn(n,a),r&4&&cm(n,a);break;case 13:Cn(n,a),r&4&&fm(n,a),r&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=YE.bind(null,a),fC(n,a))));break;case 22:if(r=a.memoizedState!==null||Sn,!r){i=i!==null&&i.memoizedState!==null||et,m=Sn;var y=et;Sn=r,(et=i)&&!y?An(n,a,(a.subtreeFlags&8772)!==0):Cn(n,a),Sn=m,et=y}break;case 30:break;default:Cn(n,a)}}function rm(n){var i=n.alternate;i!==null&&(n.alternate=null,rm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&mr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var He=null,xt=!1;function En(n,i,a){for(a=a.child;a!==null;)um(n,i,a),a=a.sibling}function um(n,i,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(zs,a)}catch{}switch(a.tag){case 26:et||ln(a,i),En(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||ln(a,i);var r=He,m=xt;ei(a.type)&&(He=a.stateNode,xt=!1),En(n,i,a),bo(a.stateNode),He=r,xt=m;break;case 5:et||ln(a,i);case 6:if(r=He,m=xt,He=null,En(n,i,a),He=r,xt=m,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(y){we(a,i,y)}else try{He.removeChild(a.stateNode)}catch(y){we(a,i,y)}break;case 18:He!==null&&(xt?(n=He,tg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Es(n)):tg(He,a.stateNode));break;case 4:r=He,m=xt,He=a.stateNode.containerInfo,xt=!0,En(n,i,a),He=r,xt=m;break;case 0:case 11:case 14:case 15:Kn(2,a,i),et||Kn(4,a,i),En(n,i,a);break;case 1:et||(ln(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&nm(a,i,r)),En(n,i,a);break;case 21:En(n,i,a);break;case 22:et=(r=et)||a.memoizedState!==null,En(n,i,a),et=r;break;default:En(n,i,a)}}function cm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Es(n)}catch(a){we(i,i.return,a)}}}function fm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Es(n)}catch(a){we(i,i.return,a)}}function kE(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new am),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new am),i;default:throw Error(o(435,n.tag))}}function tl(n,i){var a=kE(n);i.forEach(function(r){if(!a.has(r)){a.add(r);var m=JE.bind(null,n,r);r.then(m,m)}})}function St(n,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var m=a[r],y=n,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(ei(C.type)){He=C.stateNode,xt=!1;break e}break;case 5:He=C.stateNode,xt=!1;break e;case 3:case 4:He=C.stateNode.containerInfo,xt=!0;break e}C=C.return}if(He===null)throw Error(o(160));um(y,E,m),He=null,xt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dm(i,n),i=i.sibling}var Wt=null;function dm(n,i){var a=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:St(i,n),Et(n),r&4&&(Kn(3,n,n.return),vo(3,n),Kn(5,n,n.return));break;case 1:St(i,n),Et(n),r&512&&(et||a===null||ln(a,a.return)),r&64&&Sn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var m=Wt;if(St(i,n),Et(n),r&512&&(et||a===null||ln(a,a.return)),r&4){var y=a!==null?a.memoizedState:null;if(r=n.memoizedState,a===null)if(r===null)if(n.stateNode===null){e:{r=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ys]||y[rt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(r),m.head.insertBefore(y,m.querySelector("head > title"))),dt(y,r,a),y[rt]=n,ot(y),r=y;break e;case"link":var E=dg("link","href",m).get(r+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}y=m.createElement(r),dt(y,r,a),m.head.appendChild(y);break;case"meta":if(E=dg("meta","content",m).get(r+(a.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}y=m.createElement(r),dt(y,r,a),m.head.appendChild(y);break;default:throw Error(o(468,r))}y[rt]=n,ot(y),r=y}n.stateNode=r}else hg(m,n.type,n.stateNode);else n.stateNode=fg(m,r,n.memoizedProps);else y!==r?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,r===null?hg(m,n.type,n.stateNode):fg(m,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Vu(n,n.memoizedProps,a.memoizedProps)}break;case 27:St(i,n),Et(n),r&512&&(et||a===null||ln(a,a.return)),a!==null&&r&4&&Vu(n,n.memoizedProps,a.memoizedProps);break;case 5:if(St(i,n),Et(n),r&512&&(et||a===null||ln(a,a.return)),n.flags&32){m=n.stateNode;try{Yi(m,"")}catch(ie){we(n,n.return,ie)}}r&4&&n.stateNode!=null&&(m=n.memoizedProps,Vu(n,m,a!==null?a.memoizedProps:m)),r&1024&&(Gu=!0);break;case 6:if(St(i,n),Et(n),r&4){if(n.stateNode===null)throw Error(o(162));r=n.memoizedProps,a=n.stateNode;try{a.nodeValue=r}catch(ie){we(n,n.return,ie)}}break;case 3:if(yl=null,m=Wt,Wt=ml(i.containerInfo),St(i,n),Wt=m,Et(n),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(i.containerInfo)}catch(ie){we(n,n.return,ie)}Gu&&(Gu=!1,hm(n));break;case 4:r=Wt,Wt=ml(n.stateNode.containerInfo),St(i,n),Et(n),Wt=r;break;case 12:St(i,n),Et(n);break;case 31:St(i,n),Et(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,tl(n,r)));break;case 13:St(i,n),Et(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(il=Nt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,tl(n,r)));break;case 22:m=n.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,L=Sn,Y=et;if(Sn=L||m,et=Y||_,St(i,n),et=Y,Sn=L,Et(n),r&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(a===null||_||Sn||et||Ri(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){_=a=i;try{if(y=_.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=_.stateNode;var K=_.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ie){we(_,_.return,ie)}}}else if(i.tag===6){if(a===null){_=i;try{_.stateNode.nodeValue=m?"":_.memoizedProps}catch(ie){we(_,_.return,ie)}}}else if(i.tag===18){if(a===null){_=i;try{var B=_.stateNode;m?ng(B,!0):ng(_.stateNode,!1)}catch(ie){we(_,_.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,tl(n,a))));break;case 19:St(i,n),Et(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,tl(n,r)));break;case 30:break;case 21:break;default:St(i,n),Et(n)}}function Et(n){var i=n.flags;if(i&2){try{for(var a,r=n.return;r!==null;){if(sm(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var m=a.stateNode,y=ku(n);el(n,y,m);break;case 5:var E=a.stateNode;a.flags&32&&(Yi(E,""),a.flags&=-33);var C=ku(n);el(n,C,E);break;case 3:case 4:var _=a.stateNode.containerInfo,L=ku(n);Bu(n,L,_);break;default:throw Error(o(161))}}catch(Y){we(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function hm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;hm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Cn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)lm(n,i.alternate,i),i=i.sibling}function Ri(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Kn(4,i,i.return),Ri(i);break;case 1:ln(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&nm(i,i.return,a),Ri(i);break;case 27:bo(i.stateNode);case 26:case 5:ln(i,i.return),Ri(i);break;case 22:i.memoizedState===null&&Ri(i);break;case 30:Ri(i);break;default:Ri(i)}n=n.sibling}}function An(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,m=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:An(m,y,a),vo(4,y);break;case 1:if(An(m,y,a),r=y,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){we(r,r.return,L)}if(r=y,m=r.updateQueue,m!==null){var C=r.stateNode;try{var _=m.shared.hiddenCallbacks;if(_!==null)for(m.shared.hiddenCallbacks=null,m=0;m<_.length;m++)Oh(_[m],C)}catch(L){we(r,r.return,L)}}a&&E&64&&tm(y),To(y,y.return);break;case 27:om(y);case 26:case 5:An(m,y,a),a&&r===null&&E&4&&im(y),To(y,y.return);break;case 12:An(m,y,a);break;case 31:An(m,y,a),a&&E&4&&cm(m,y);break;case 13:An(m,y,a),a&&E&4&&fm(m,y);break;case 22:y.memoizedState===null&&An(m,y,a),To(y,y.return);break;case 30:break;default:An(m,y,a)}i=i.sibling}}function qu(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&so(a))}function Hu(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&so(n))}function $t(n,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pm(n,i,a,r),i=i.sibling}function pm(n,i,a,r){var m=i.flags;switch(i.tag){case 0:case 11:case 15:$t(n,i,a,r),m&2048&&vo(9,i);break;case 1:$t(n,i,a,r);break;case 3:$t(n,i,a,r),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&so(n)));break;case 12:if(m&2048){$t(n,i,a,r),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(_){we(i,i.return,_)}}else $t(n,i,a,r);break;case 31:$t(n,i,a,r);break;case 13:$t(n,i,a,r);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?$t(n,i,a,r):xo(n,i):y._visibility&2?$t(n,i,a,r):(y._visibility|=2,fs(n,i,a,r,(i.subtreeFlags&10256)!==0||!1)),m&2048&&qu(E,i);break;case 24:$t(n,i,a,r),m&2048&&Hu(i.alternate,i);break;default:$t(n,i,a,r)}}function fs(n,i,a,r,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=n,E=i,C=a,_=r,L=E.flags;switch(E.tag){case 0:case 11:case 15:fs(y,E,C,_,m),vo(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?fs(y,E,C,_,m):xo(y,E):(Y._visibility|=2,fs(y,E,C,_,m)),m&&L&2048&&qu(E.alternate,E);break;case 24:fs(y,E,C,_,m),m&&L&2048&&Hu(E.alternate,E);break;default:fs(y,E,C,_,m)}i=i.sibling}}function xo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,r=i,m=r.flags;switch(r.tag){case 22:xo(a,r),m&2048&&qu(r.alternate,r);break;case 24:xo(a,r),m&2048&&Hu(r.alternate,r);break;default:xo(a,r)}i=i.sibling}}var So=8192;function ds(n,i,a){if(n.subtreeFlags&So)for(n=n.child;n!==null;)mm(n,i,a),n=n.sibling}function mm(n,i,a){switch(n.tag){case 26:ds(n,i,a),n.flags&So&&n.memoizedState!==null&&CC(a,Wt,n.memoizedState,n.memoizedProps);break;case 5:ds(n,i,a);break;case 3:case 4:var r=Wt;Wt=ml(n.stateNode.containerInfo),ds(n,i,a),Wt=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=So,So=16777216,ds(n,i,a),So=r):ds(n,i,a));break;default:ds(n,i,a)}}function gm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Eo(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];at=r,vm(r,n)}gm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ym(n),n=n.sibling}function ym(n){switch(n.tag){case 0:case 11:case 15:Eo(n),n.flags&2048&&Kn(9,n,n.return);break;case 3:Eo(n);break;case 12:Eo(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,nl(n)):Eo(n);break;default:Eo(n)}}function nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];at=r,vm(r,n)}gm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Kn(8,i,i.return),nl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,nl(i));break;default:nl(i)}n=n.sibling}}function vm(n,i){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Kn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:so(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,at=r;else e:for(a=n;at!==null;){r=at;var m=r.sibling,y=r.return;if(rm(r),r===a){at=null;break e}if(m!==null){m.return=y,at=m;break e}at=y}}}var BE={getCacheForType:function(n){var i=ct(je),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return ct(je).controller.signal}},GE=typeof WeakMap=="function"?WeakMap:Map,be=0,Ve=null,Te=null,Se=0,Re=0,Pt=null,Xn=!1,hs=!1,zu=!1,_n=0,Oe=0,Qn=0,wi=0,Fu=0,Ut=0,ps=0,Co=null,Ct=null,Ou=!1,il=0,Tm=0,sl=1/0,ol=null,Zn=null,nt=0,jn=null,ms=null,Nn=0,Yu=0,Ju=null,xm=null,Ao=0,Ku=null;function Lt(){return(be&2)!==0&&Se!==0?Se&-Se:H.T!==null?$u():Vd()}function Sm(){if(Ut===0)if((Se&536870912)===0||Ae){var n=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Ut=n}else Ut=536870912;return n=Dt.current,n!==null&&(n.flags|=32),Ut}function At(n,i,a){(n===Ve&&(Re===2||Re===9)||n.cancelPendingCommit!==null)&&(gs(n,0),Wn(n,Se,Ut,!1)),Os(n,a),((be&2)===0||n!==Ve)&&(n===Ve&&((be&2)===0&&(wi|=a),Oe===4&&Wn(n,Se,Ut,!1)),rn(n))}function Em(n,i,a){if((be&6)!==0)throw Error(o(327));var r=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Fs(n,i),m=r?zE(n,i):Qu(n,i,!0),y=r;do{if(m===0){hs&&!r&&Wn(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!qE(a)){m=Qu(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=n;m=Co;var _=C.current.memoizedState.isDehydrated;if(_&&(gs(C,E).flags|=256),E=Qu(C,E,!1),E!==2){if(zu&&!_){C.errorRecoveryDisabledLanes|=y,wi|=y,m=4;break e}y=Ct,Ct=m,y!==null&&(Ct===null?Ct=y:Ct.push.apply(Ct,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){gs(n,0),Wn(n,i,0,!0);break}e:{switch(r=n,y=m,y){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Wn(r,i,Ut,!Xn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(m=il+300-Nt(),10<m)){if(Wn(r,i,Ut,!Xn),ma(r,0,!0)!==0)break e;Nn=i,r.timeoutHandle=$m(Cm.bind(null,r,a,Ct,ol,Ou,i,Ut,wi,ps,Xn,y,"Throttled",-0,0),m);break e}Cm(r,a,Ct,ol,Ou,i,Ut,wi,ps,Xn,y,null,-0,0)}}break}while(!0);rn(n)}function Cm(n,i,a,r,m,y,E,C,_,L,Y,K,V,B){if(n.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},mm(i,y,K);var ie=(y&62914560)===y?il-Nt():(y&4194048)===y?Tm-Nt():0;if(ie=AC(K,ie),ie!==null){Nn=y,n.cancelPendingCommit=ie(Dm.bind(null,n,i,y,a,r,m,E,C,_,Y,K,null,V,B)),Wn(n,y,E,!L);return}}Dm(n,i,y,a,r,m,E,C,_)}function qE(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var m=a[r],y=m.getSnapshot;m=m.value;try{if(!Rt(y(),m))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wn(n,i,a,r){i&=~Fu,i&=~wi,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var m=i;0<m;){var y=31-bt(m),E=1<<y;r[y]=-1,m&=~E}a!==0&&Pd(n,a,i)}function al(){return(be&6)===0?(_o(0),!1):!0}function Xu(){if(Te!==null){if(Re===0)var n=Te.return;else n=Te,mn=Si=null,cu(n),as=null,ao=0,n=Te;for(;n!==null;)em(n.alternate,n),n=n.return;Te=null}}function gs(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,aC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Nn=0,Xu(),Ve=n,Te=a=hn(n.current,null),Se=i,Re=0,Pt=null,Xn=!1,hs=Fs(n,i),zu=!1,ps=Ut=Fu=wi=Qn=Oe=0,Ct=Co=null,Ou=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var m=31-bt(r),y=1<<m;i|=n[m],r&=~y}return _n=i,Ma(),a}function Am(n,i){ye=null,H.H=mo,i===os||i===La?(i=qh(),Re=3):i===Wr?(i=qh(),Re=4):Re=i===Nu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pt=i,Te===null&&(Oe=1,Qa(n,Gt(i,n.current)))}function _m(){var n=Dt.current;return n===null?!0:(Se&4194048)===Se?Ft===null:(Se&62914560)===Se||(Se&536870912)!==0?n===Ft:!1}function Nm(){var n=H.H;return H.H=mo,n===null?mo:n}function Mm(){var n=H.A;return H.A=BE,n}function ll(){Oe=4,Xn||(Se&4194048)!==Se&&Dt.current!==null||(hs=!0),(Qn&134217727)===0&&(wi&134217727)===0||Ve===null||Wn(Ve,Se,Ut,!1)}function Qu(n,i,a){var r=be;be|=2;var m=Nm(),y=Mm();(Ve!==n||Se!==i)&&(ol=null,gs(n,i)),i=!1;var E=Oe;e:do try{if(Re!==0&&Te!==null){var C=Te,_=Pt;switch(Re){case 8:Xu(),E=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(i=!0);var L=Re;if(Re=0,Pt=null,ys(n,C,_,L),a&&hs){E=0;break e}break;default:L=Re,Re=0,Pt=null,ys(n,C,_,L)}}HE(),E=Oe;break}catch(Y){Am(n,Y)}while(!0);return i&&n.shellSuspendCounter++,mn=Si=null,be=r,H.H=m,H.A=y,Te===null&&(Ve=null,Se=0,Ma()),E}function HE(){for(;Te!==null;)bm(Te)}function zE(n,i){var a=be;be|=2;var r=Nm(),m=Mm();Ve!==n||Se!==i?(ol=null,sl=Nt()+500,gs(n,i)):hs=Fs(n,i);e:do try{if(Re!==0&&Te!==null){i=Te;var y=Pt;t:switch(Re){case 1:Re=0,Pt=null,ys(n,i,y,1);break;case 2:case 9:if(Bh(y)){Re=0,Pt=null,Rm(i);break}i=function(){Re!==2&&Re!==9||Ve!==n||(Re=7),rn(n)},y.then(i,i);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Bh(y)?(Re=0,Pt=null,Rm(i)):(Re=0,Pt=null,ys(n,i,y,7));break;case 5:var E=null;switch(Te.tag){case 26:E=Te.memoizedState;case 5:case 27:var C=Te;if(E?pg(E):C.stateNode.complete){Re=0,Pt=null;var _=C.sibling;if(_!==null)Te=_;else{var L=C.return;L!==null?(Te=L,rl(L)):Te=null}break t}}Re=0,Pt=null,ys(n,i,y,5);break;case 6:Re=0,Pt=null,ys(n,i,y,6);break;case 8:Xu(),Oe=6;break e;default:throw Error(o(462))}}FE();break}catch(Y){Am(n,Y)}while(!0);return mn=Si=null,H.H=r,H.A=m,be=a,Te!==null?0:(Ve=null,Se=0,Ma(),Oe)}function FE(){for(;Te!==null&&!dS();)bm(Te)}function bm(n){var i=Wp(n.alternate,n,_n);n.memoizedProps=n.pendingProps,i===null?rl(n):Te=i}function Rm(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Jp(a,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=Jp(a,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:cu(i);default:em(a,i),i=Te=Mh(i,_n),i=Wp(a,i,_n)}n.memoizedProps=n.pendingProps,i===null?rl(n):Te=i}function ys(n,i,a,r){mn=Si=null,cu(i),as=null,ao=0;var m=i.return;try{if(DE(n,m,i,a,Se)){Oe=1,Qa(n,Gt(a,n.current)),Te=null;return}}catch(y){if(m!==null)throw Te=m,y;Oe=1,Qa(n,Gt(a,n.current)),Te=null;return}i.flags&32768?(Ae||r===1?n=!0:hs||(Se&536870912)!==0?n=!1:(Xn=n=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),wm(i,n)):rl(i)}function rl(n){var i=n;do{if((i.flags&32768)!==0){wm(i,Xn);return}n=i.return;var a=UE(i.alternate,i,_n);if(a!==null){Te=a;return}if(i=i.sibling,i!==null){Te=i;return}Te=i=n}while(i!==null);Oe===0&&(Oe=5)}function wm(n,i){do{var a=LE(n.alternate,n);if(a!==null){a.flags&=32767,Te=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Te=n;return}Te=n=a}while(n!==null);Oe=6,Te=null}function Dm(n,i,a,r,m,y,E,C,_){n.cancelPendingCommit=null;do ul();while(nt!==0);if((be&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(y=i.lanes|i.childLanes,y|=kr,ES(n,a,y,E,C,_),n===Ve&&(Te=Ve=null,Se=0),ms=i,jn=n,Nn=a,Yu=y,Ju=m,xm=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KE(fa,function(){return Vm(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,m=O.p,O.p=2,E=be,be|=4;try{VE(n,i,a)}finally{be=E,O.p=m,H.T=r}}nt=1,Im(),Pm(),Um()}}function Im(){if(nt===1){nt=0;var n=jn,i=ms,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var r=O.p;O.p=2;var m=be;be|=4;try{dm(i,n);var y=lc,E=vh(n.containerInfo),C=y.focusedElem,_=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&yh(C.ownerDocument.documentElement,C)){if(_!==null&&Ir(C)){var L=_.start,Y=_.end;if(Y===void 0&&(Y=L),"selectionStart"in C)C.selectionStart=L,C.selectionEnd=Math.min(Y,C.value.length);else{var K=C.ownerDocument||document,V=K&&K.defaultView||window;if(V.getSelection){var B=V.getSelection(),ie=C.textContent.length,ue=Math.min(_.start,ie),Pe=_.end===void 0?ue:Math.min(_.end,ie);!B.extend&&ue>Pe&&(E=Pe,Pe=ue,ue=E);var D=gh(C,ue),b=gh(C,Pe);if(D&&b&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==b.node||B.focusOffset!==b.offset)){var U=K.createRange();U.setStart(D.node,D.offset),B.removeAllRanges(),ue>Pe?(B.addRange(U),B.extend(b.node,b.offset)):(U.setEnd(b.node,b.offset),B.addRange(U))}}}}for(K=[],B=C;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var J=K[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Sl=!!ac,lc=ac=null}finally{be=m,O.p=r,H.T=a}}n.current=i,nt=2}}function Pm(){if(nt===2){nt=0;var n=jn,i=ms,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var r=O.p;O.p=2;var m=be;be|=4;try{lm(n,i.alternate,i)}finally{be=m,O.p=r,H.T=a}}nt=3}}function Um(){if(nt===4||nt===3){nt=0,hS();var n=jn,i=ms,a=Nn,r=xm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nt=5:(nt=0,ms=jn=null,Lm(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Zn=null),hr(a),i=i.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(zs,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=H.T,m=O.p,O.p=2,H.T=null;try{for(var y=n.onRecoverableError,E=0;E<r.length;E++){var C=r[E];y(C.value,{componentStack:C.stack})}}finally{H.T=i,O.p=m}}(Nn&3)!==0&&ul(),rn(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===Ku?Ao++:(Ao=0,Ku=n):Ao=0,_o(0)}}function Lm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,so(i)))}function ul(){return Im(),Pm(),Um(),Vm()}function Vm(){if(nt!==5)return!1;var n=jn,i=Yu;Yu=0;var a=hr(Nn),r=H.T,m=O.p;try{O.p=32>a?32:a,H.T=null,a=Ju,Ju=null;var y=jn,E=Nn;if(nt=0,ms=jn=null,Nn=0,(be&6)!==0)throw Error(o(331));var C=be;if(be|=4,ym(y.current),pm(y,y.current,E,a),be=C,_o(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(zs,y)}catch{}return!0}finally{O.p=m,H.T=r,Lm(n,i)}}function km(n,i,a){i=Gt(a,i),i=_u(n.stateNode,i,2),n=On(n,i,2),n!==null&&(Os(n,2),rn(n))}function we(n,i,a){if(n.tag===3)km(n,n,a);else for(;i!==null;){if(i.tag===3){km(i,n,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){n=Gt(a,n),a=Bp(2),r=On(i,a,2),r!==null&&(Gp(a,r,i,n),Os(r,2),rn(r));break}}i=i.return}}function Zu(n,i,a){var r=n.pingCache;if(r===null){r=n.pingCache=new GE;var m=new Set;r.set(i,m)}else m=r.get(i),m===void 0&&(m=new Set,r.set(i,m));m.has(a)||(zu=!0,m.add(a),n=OE.bind(null,n,i,a),i.then(n,n))}function OE(n,i,a){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ve===n&&(Se&a)===a&&(Oe===4||Oe===3&&(Se&62914560)===Se&&300>Nt()-il?(be&2)===0&&gs(n,0):Fu|=a,ps===Se&&(ps=0)),rn(n)}function Bm(n,i){i===0&&(i=Id()),n=vi(n,i),n!==null&&(Os(n,i),rn(n))}function YE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Bm(n,a)}function JE(n,i){var a=0;switch(n.tag){case 31:case 13:var r=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(i),Bm(n,a)}function KE(n,i){return ur(n,i)}var cl=null,vs=null,ju=!1,fl=!1,Wu=!1,$n=0;function rn(n){n!==vs&&n.next===null&&(vs===null?cl=vs=n:vs=vs.next=n),fl=!0,ju||(ju=!0,QE())}function _o(n,i){if(!Wu&&fl){Wu=!0;do for(var a=!1,r=cl;r!==null;){if(n!==0){var m=r.pendingLanes;if(m===0)var y=0;else{var E=r.suspendedLanes,C=r.pingedLanes;y=(1<<31-bt(42|n)+1)-1,y&=m&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,zm(r,y))}else y=Se,y=ma(r,r===Ve?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||Fs(r,y)||(a=!0,zm(r,y));r=r.next}while(a);Wu=!1}}function XE(){Gm()}function Gm(){fl=ju=!1;var n=0;$n!==0&&oC()&&(n=$n);for(var i=Nt(),a=null,r=cl;r!==null;){var m=r.next,y=qm(r,i);y===0?(r.next=null,a===null?cl=m:a.next=m,m===null&&(vs=a)):(a=r,(n!==0||(y&3)!==0)&&(fl=!0)),r=m}nt!==0&&nt!==5||_o(n),$n!==0&&($n=0)}function qm(n,i){for(var a=n.suspendedLanes,r=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-bt(y),C=1<<E,_=m[E];_===-1?((C&a)===0||(C&r)!==0)&&(m[E]=SS(C,i)):_<=i&&(n.expiredLanes|=C),y&=~C}if(i=Ve,a=Se,a=ma(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,a===0||n===i&&(Re===2||Re===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&cr(r),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Fs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(r!==null&&cr(r),hr(a)){case 2:case 8:a=wd;break;case 32:a=fa;break;case 268435456:a=Dd;break;default:a=fa}return r=Hm.bind(null,n),a=ur(a,r),n.callbackPriority=i,n.callbackNode=a,i}return r!==null&&r!==null&&cr(r),n.callbackPriority=2,n.callbackNode=null,2}function Hm(n,i){if(nt!==0&&nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ul()&&n.callbackNode!==a)return null;var r=Se;return r=ma(n,n===Ve?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(Em(n,r,i),qm(n,Nt()),n.callbackNode!=null&&n.callbackNode===a?Hm.bind(null,n):null)}function zm(n,i){if(ul())return null;Em(n,i,!0)}function QE(){lC(function(){(be&6)!==0?ur(Rd,XE):Gm()})}function $u(){if($n===0){var n=is;n===0&&(n=da,da<<=1,(da&261888)===0&&(da=256)),$n=n}return $n}function Fm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function Om(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function ZE(n,i,a,r,m){if(i==="submit"&&a&&a.stateNode===m){var y=Fm((m[vt]||null).action),E=r.submitter;E&&(i=(i=E[vt]||null)?Fm(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var C=new Ca("action","action",null,r,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if($n!==0){var _=E?Om(m,E):new FormData(m);Tu(a,{pending:!0,data:_,method:m.method,action:y},null,_)}}else typeof y=="function"&&(C.preventDefault(),_=E?Om(m,E):new FormData(m),Tu(a,{pending:!0,data:_,method:m.method,action:y},y,_))},currentTarget:m}]})}}for(var ec=0;ec<Vr.length;ec++){var tc=Vr[ec],jE=tc.toLowerCase(),WE=tc[0].toUpperCase()+tc.slice(1);jt(jE,"on"+WE)}jt(Sh,"onAnimationEnd"),jt(Eh,"onAnimationIteration"),jt(Ch,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(pE,"onTransitionRun"),jt(mE,"onTransitionStart"),jt(gE,"onTransitionCancel"),jt(Ah,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Ym(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var r=n[a],m=r.event;r=r.listeners;e:{var y=void 0;if(i)for(var E=r.length-1;0<=E;E--){var C=r[E],_=C.instance,L=C.currentTarget;if(C=C.listener,_!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=L;try{y(m)}catch(Y){Na(Y)}m.currentTarget=null,y=_}else for(E=0;E<r.length;E++){if(C=r[E],_=C.instance,L=C.currentTarget,C=C.listener,_!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=L;try{y(m)}catch(Y){Na(Y)}m.currentTarget=null,y=_}}}}function xe(n,i){var a=i[pr];a===void 0&&(a=i[pr]=new Set);var r=n+"__bubble";a.has(r)||(Jm(i,n,2,!1),a.add(r))}function nc(n,i,a){var r=0;i&&(r|=4),Jm(a,n,r,i)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ic(n){if(!n[dl]){n[dl]=!0,Gd.forEach(function(a){a!=="selectionchange"&&($E.has(a)||nc(a,!1,n),nc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[dl]||(i[dl]=!0,nc("selectionchange",!1,i))}}function Jm(n,i,a,r){switch(Sg(i)){case 2:var m=MC;break;case 8:m=bC;break;default:m=vc}a=m.bind(null,i,a,n),m=void 0,!Cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),r?m!==void 0?n.addEventListener(i,a,{capture:!0,passive:m}):n.addEventListener(i,a,!0):m!==void 0?n.addEventListener(i,a,{passive:m}):n.addEventListener(i,a,!1)}function sc(n,i,a,r,m){var y=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var C=r.stateNode.containerInfo;if(C===m)break;if(E===4)for(E=r.return;E!==null;){var _=E.tag;if((_===3||_===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;C!==null;){if(E=qi(C),E===null)return;if(_=E.tag,_===5||_===6||_===26||_===27){r=y=E;continue e}C=C.parentNode}}r=r.return}jd(function(){var L=y,Y=Sr(a),K=[];e:{var V=_h.get(n);if(V!==void 0){var B=Ca,ie=n;switch(n){case"keypress":if(Sa(a)===0)break e;case"keydown":case"keyup":B=JS;break;case"focusin":ie="focus",B=Mr;break;case"focusout":ie="blur",B=Mr;break;case"beforeblur":case"afterblur":B=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=US;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=QS;break;case Sh:case Eh:case Ch:B=kS;break;case Ah:B=jS;break;case"scroll":case"scrollend":B=IS;break;case"wheel":B=$S;break;case"copy":case"cut":case"paste":B=GS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nh;break;case"toggle":case"beforetoggle":B=tE}var ue=(i&4)!==0,Pe=!ue&&(n==="scroll"||n==="scrollend"),D=ue?V!==null?V+"Capture":null:V;ue=[];for(var b=L,U;b!==null;){var J=b;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||D===null||(J=Ks(b,D),J!=null&&ue.push(Mo(b,J,U))),Pe)break;b=b.return}0<ue.length&&(V=new B(V,ie,null,a,Y),K.push({event:V,listeners:ue}))}}if((i&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",V&&a!==xr&&(ie=a.relatedTarget||a.fromElement)&&(qi(ie)||ie[Gi]))break e;if((B||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,B?(ie=a.relatedTarget||a.toElement,B=L,ie=ie?qi(ie):null,ie!==null&&(Pe=u(ie),ue=ie.tag,ie!==Pe||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(B=null,ie=L),B!==ie)){if(ue=eh,J="onMouseLeave",D="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(ue=nh,J="onPointerLeave",D="onPointerEnter",b="pointer"),Pe=B==null?V:Js(B),U=ie==null?V:Js(ie),V=new ue(J,b+"leave",B,a,Y),V.target=Pe,V.relatedTarget=U,J=null,qi(Y)===L&&(ue=new ue(D,b+"enter",ie,a,Y),ue.target=U,ue.relatedTarget=Pe,J=ue),Pe=J,B&&ie)t:{for(ue=eC,D=B,b=ie,U=0,J=D;J;J=ue(J))U++;J=0;for(var le=b;le;le=ue(le))J++;for(;0<U-J;)D=ue(D),U--;for(;0<J-U;)b=ue(b),J--;for(;U--;){if(D===b||b!==null&&D===b.alternate){ue=D;break t}D=ue(D),b=ue(b)}ue=null}else ue=null;B!==null&&Km(K,V,B,ue,!1),ie!==null&&Pe!==null&&Km(K,Pe,ie,ue,!0)}}e:{if(V=L?Js(L):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var _e=ch;else if(rh(V))if(fh)_e=fE;else{_e=uE;var oe=rE}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?L&&Tr(L.elementType)&&(_e=ch):_e=cE;if(_e&&(_e=_e(n,L))){uh(K,_e,a,Y);break e}oe&&oe(n,V,L),n==="focusout"&&L&&V.type==="number"&&L.memoizedProps.value!=null&&vr(V,"number",V.value)}switch(oe=L?Js(L):window,n){case"focusin":(rh(oe)||oe.contentEditable==="true")&&(Qi=oe,Pr=L,to=null);break;case"focusout":to=Pr=Qi=null;break;case"mousedown":Ur=!0;break;case"contextmenu":case"mouseup":case"dragend":Ur=!1,Th(K,a,Y);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Th(K,a,Y)}var ve;if(Rr)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Xi?ah(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(ih&&a.locale!=="ko"&&(Xi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Xi&&(ve=Wd()):(kn=Y,Ar="value"in kn?kn.value:kn.textContent,Xi=!0)),oe=hl(L,Ee),0<oe.length&&(Ee=new th(Ee,n,null,a,Y),K.push({event:Ee,listeners:oe}),ve?Ee.data=ve:(ve=lh(a),ve!==null&&(Ee.data=ve)))),(ve=iE?sE(n,a):oE(n,a))&&(Ee=hl(L,"onBeforeInput"),0<Ee.length&&(oe=new th("onBeforeInput","beforeinput",null,a,Y),K.push({event:oe,listeners:Ee}),oe.data=ve)),ZE(K,n,L,a,Y)}Ym(K,i)})}function Mo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function hl(n,i){for(var a=i+"Capture",r=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ks(n,a),m!=null&&r.unshift(Mo(n,m,y)),m=Ks(n,i),m!=null&&r.push(Mo(n,m,y))),n.tag===3)return r;n=n.return}return[]}function eC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Km(n,i,a,r,m){for(var y=i._reactName,E=[];a!==null&&a!==r;){var C=a,_=C.alternate,L=C.stateNode;if(C=C.tag,_!==null&&_===r)break;C!==5&&C!==26&&C!==27||L===null||(_=L,m?(L=Ks(a,y),L!=null&&E.unshift(Mo(a,L,_))):m||(L=Ks(a,y),L!=null&&E.push(Mo(a,L,_)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function Xm(n){return(typeof n=="string"?n:""+n).replace(tC,`
`).replace(nC,"")}function Qm(n,i){return i=Xm(i),Xm(n)===i}function Ie(n,i,a,r,m,y){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Yi(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Yi(n,""+r);break;case"className":ya(n,"class",r);break;case"tabIndex":ya(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(n,a,r);break;case"style":Qd(n,r,y);break;case"data":if(i!=="object"){ya(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ta(""+r),n.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&Ie(n,i,"name",m.name,m,null),Ie(n,i,"formEncType",m.formEncType,m,null),Ie(n,i,"formMethod",m.formMethod,m,null),Ie(n,i,"formTarget",m.formTarget,m,null)):(Ie(n,i,"encType",m.encType,m,null),Ie(n,i,"method",m.method,m,null),Ie(n,i,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ta(""+r),n.setAttribute(a,r);break;case"onClick":r!=null&&(n.onclick=fn);break;case"onScroll":r!=null&&xe("scroll",n);break;case"onScrollEnd":r!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""+r):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":r===!0?n.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,r):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(a,r):n.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(a):n.setAttribute(a,r);break;case"popover":xe("beforetoggle",n),xe("toggle",n),ga(n,"popover",r);break;case"xlinkActuate":cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":cn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":cn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":cn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":cn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ga(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wS.get(a)||a,ga(n,a,r))}}function oc(n,i,a,r,m,y){switch(a){case"style":Qd(n,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof r=="string"?Yi(n,r):(typeof r=="number"||typeof r=="bigint")&&Yi(n,""+r);break;case"onScroll":r!=null&&xe("scroll",n);break;case"onScrollEnd":r!=null&&xe("scrollend",n);break;case"onClick":r!=null&&(n.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),i=a.slice(2,m?a.length-7:void 0),y=n[vt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof r=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,r,m);break e}a in n?n[a]=r:r===!0?n.setAttribute(a,""):ga(n,a,r)}}}function dt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var r=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ie(n,i,y,E,a,null)}}m&&Ie(n,i,"srcSet",a.srcSet,a,null),r&&Ie(n,i,"src",a.src,a,null);return;case"input":xe("invalid",n);var C=y=E=m=null,_=null,L=null;for(r in a)if(a.hasOwnProperty(r)){var Y=a[r];if(Y!=null)switch(r){case"name":m=Y;break;case"type":E=Y;break;case"checked":_=Y;break;case"defaultChecked":L=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,i));break;default:Ie(n,i,r,Y,a,null)}}Yd(n,y,C,_,L,E,m,!1);return;case"select":xe("invalid",n),r=E=y=null;for(m in a)if(a.hasOwnProperty(m)&&(C=a[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":r=C;default:Ie(n,i,m,C,a,null)}i=y,a=E,n.multiple=!!r,i!=null?Oi(n,!!r,i,!1):a!=null&&Oi(n,!!r,a,!0);return;case"textarea":xe("invalid",n),y=m=r=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":r=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Ie(n,i,E,C,a,null)}Kd(n,r,m,y);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(r=a[_],r!=null))switch(_){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ie(n,i,_,r,a,null)}return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(r=0;r<No.length;r++)xe(No[r],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(r=a[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ie(n,i,L,r,a,null)}return;default:if(Tr(i)){for(Y in a)a.hasOwnProperty(Y)&&(r=a[Y],r!==void 0&&oc(n,i,Y,r,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(r=a[C],r!=null&&Ie(n,i,C,r,a,null))}function iC(n,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,C=null,_=null,L=null,Y=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":_=K;default:r.hasOwnProperty(B)||Ie(n,i,B,null,r,K)}}for(var V in r){var B=r[V];if(K=a[V],r.hasOwnProperty(V)&&(B!=null||K!=null))switch(V){case"type":y=B;break;case"name":m=B;break;case"checked":L=B;break;case"defaultChecked":Y=B;break;case"value":E=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,i));break;default:B!==K&&Ie(n,i,V,B,r,K)}}yr(n,E,C,_,L,Y,y,m);return;case"select":B=E=C=V=null;for(y in a)if(_=a[y],a.hasOwnProperty(y)&&_!=null)switch(y){case"value":break;case"multiple":B=_;default:r.hasOwnProperty(y)||Ie(n,i,y,null,r,_)}for(m in r)if(y=r[m],_=a[m],r.hasOwnProperty(m)&&(y!=null||_!=null))switch(m){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==_&&Ie(n,i,m,y,r,_)}i=C,a=E,r=B,V!=null?Oi(n,!!a,V,!1):!!r!=!!a&&(i!=null?Oi(n,!!a,i,!0):Oi(n,!!a,a?[]:"",!1));return;case"textarea":B=V=null;for(C in a)if(m=a[C],a.hasOwnProperty(C)&&m!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ie(n,i,C,null,r,m)}for(E in r)if(m=r[E],y=a[E],r.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":V=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==y&&Ie(n,i,E,m,r,y)}Jd(n,V,B);return;case"option":for(var ie in a)if(V=a[ie],a.hasOwnProperty(ie)&&V!=null&&!r.hasOwnProperty(ie))switch(ie){case"selected":n.selected=!1;break;default:Ie(n,i,ie,null,r,V)}for(_ in r)if(V=r[_],B=a[_],r.hasOwnProperty(_)&&V!==B&&(V!=null||B!=null))switch(_){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Ie(n,i,_,V,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)V=a[ue],a.hasOwnProperty(ue)&&V!=null&&!r.hasOwnProperty(ue)&&Ie(n,i,ue,null,r,V);for(L in r)if(V=r[L],B=a[L],r.hasOwnProperty(L)&&V!==B&&(V!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,i));break;default:Ie(n,i,L,V,r,B)}return;default:if(Tr(i)){for(var Pe in a)V=a[Pe],a.hasOwnProperty(Pe)&&V!==void 0&&!r.hasOwnProperty(Pe)&&oc(n,i,Pe,void 0,r,V);for(Y in r)V=r[Y],B=a[Y],!r.hasOwnProperty(Y)||V===B||V===void 0&&B===void 0||oc(n,i,Y,V,r,B);return}}for(var D in a)V=a[D],a.hasOwnProperty(D)&&V!=null&&!r.hasOwnProperty(D)&&Ie(n,i,D,null,r,V);for(K in r)V=r[K],B=a[K],!r.hasOwnProperty(K)||V===B||V==null&&B==null||Ie(n,i,K,V,r,B)}function Zm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var m=a[r],y=m.transferSize,E=m.initiatorType,C=m.duration;if(y&&C&&Zm(E)){for(E=0,C=m.responseEnd,r+=1;r<a.length;r++){var _=a[r],L=_.startTime;if(L>C)break;var Y=_.transferSize,K=_.initiatorType;Y&&Zm(K)&&(_=_.responseEnd,E+=Y*(_<C?1:(C-L)/(_-L)))}if(--r,i+=8*(y+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ac=null,lc=null;function pl(n){return n.nodeType===9?n:n.ownerDocument}function jm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function rc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uc=null;function oC(){var n=window.event;return n&&n.type==="popstate"?n===uc?!1:(uc=n,!0):(uc=null,!1)}var $m=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(n){return eg.resolve(null).then(n).catch(rC)}:$m;function rC(n){setTimeout(function(){throw n})}function ei(n){return n==="head"}function tg(n,i){var a=i,r=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(r===0){n.removeChild(m),Es(i);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")bo(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,bo(a);for(var y=a.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[Ys]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&bo(n.ownerDocument.body);a=m}while(a);Es(i)}function ng(n,i){var a=n;n=0;do{var r=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=r}while(a)}function cc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cc(a),mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function uC(n,i,a,r){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Ys])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ot(n.nextSibling),n===null)break}return null}function cC(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ot(n.nextSibling),n===null))return null;return n}function ig(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Ot(n.nextSibling),n===null))return null;return n}function fc(n){return n.data==="$?"||n.data==="$~"}function dc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function fC(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Ot(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var hc=null;function sg(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return Ot(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function og(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function ag(n,i,a){switch(i=pl(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function bo(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);mr(n)}var Yt=new Map,lg=new Set;function ml(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mn=O.d;O.d={f:dC,r:hC,D:pC,C:mC,L:gC,m:yC,X:TC,S:vC,M:xC};function dC(){var n=Mn.f(),i=al();return n||i}function hC(n){var i=Hi(n);i!==null&&i.tag===5&&i.type==="form"?Ap(i):Mn.r(n)}var Ts=typeof document>"u"?null:document;function rg(n,i,a){var r=Ts;if(r&&typeof i=="string"&&i){var m=kt(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),lg.has(m)||(lg.add(m),n={rel:n,crossOrigin:a,href:i},r.querySelector(m)===null&&(i=r.createElement("link"),dt(i,"link",n),ot(i),r.head.appendChild(i)))}}function pC(n){Mn.D(n),rg("dns-prefetch",n,null)}function mC(n,i){Mn.C(n,i),rg("preconnect",n,i)}function gC(n,i,a){Mn.L(n,i,a);var r=Ts;if(r&&n&&i){var m='link[rel="preload"][as="'+kt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+kt(a.imageSizes)+'"]')):m+='[href="'+kt(n)+'"]';var y=m;switch(i){case"style":y=xs(n);break;case"script":y=Ss(n)}Yt.has(y)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Yt.set(y,n),r.querySelector(m)!==null||i==="style"&&r.querySelector(Ro(y))||i==="script"&&r.querySelector(wo(y))||(i=r.createElement("link"),dt(i,"link",n),ot(i),r.head.appendChild(i)))}}function yC(n,i){Mn.m(n,i);var a=Ts;if(a&&n){var r=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+kt(r)+'"][href="'+kt(n)+'"]',y=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ss(n)}if(!Yt.has(y)&&(n=T({rel:"modulepreload",href:n},i),Yt.set(y,n),a.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wo(y)))return}r=a.createElement("link"),dt(r,"link",n),ot(r),a.head.appendChild(r)}}}function vC(n,i,a){Mn.S(n,i,a);var r=Ts;if(r&&n){var m=zi(r).hoistableStyles,y=xs(n);i=i||"default";var E=m.get(y);if(!E){var C={loading:0,preload:null};if(E=r.querySelector(Ro(y)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Yt.get(y))&&pc(n,a);var _=E=r.createElement("link");ot(_),dt(_,"link",n),_._p=new Promise(function(L,Y){_.onload=L,_.onerror=Y}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,gl(E,i,r)}E={type:"stylesheet",instance:E,count:1,state:C},m.set(y,E)}}}function TC(n,i){Mn.X(n,i);var a=Ts;if(a&&n){var r=zi(a).hoistableScripts,m=Ss(n),y=r.get(m);y||(y=a.querySelector(wo(m)),y||(n=T({src:n,async:!0},i),(i=Yt.get(m))&&mc(n,i),y=a.createElement("script"),ot(y),dt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function xC(n,i){Mn.M(n,i);var a=Ts;if(a&&n){var r=zi(a).hoistableScripts,m=Ss(n),y=r.get(m);y||(y=a.querySelector(wo(m)),y||(n=T({src:n,async:!0,type:"module"},i),(i=Yt.get(m))&&mc(n,i),y=a.createElement("script"),ot(y),dt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function ug(n,i,a,r){var m=(m=ge.current)?ml(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xs(a.href),a=zi(m).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=xs(a.href);var y=zi(m).hoistableStyles,E=y.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=m.querySelector(Ro(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Yt.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(n,a),y||SC(m,n,a,E.state))),i&&r===null)throw Error(o(528,""));return E}if(i&&r!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ss(a),a=zi(m).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function xs(n){return'href="'+kt(n)+'"'}function Ro(n){return'link[rel="stylesheet"]['+n+"]"}function cg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function SC(n,i,a,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),dt(i,"link",a),ot(i),n.head.appendChild(i))}function Ss(n){return'[src="'+kt(n)+'"]'}function wo(n){return"script[async]"+n}function fg(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+kt(a.href)+'"]');if(r)return i.instance=r,ot(r),r;var m=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),ot(r),dt(r,"style",m),gl(r,a.precedence,n),i.instance=r;case"stylesheet":m=xs(a.href);var y=n.querySelector(Ro(m));if(y)return i.state.loading|=4,i.instance=y,ot(y),y;r=cg(a),(m=Yt.get(m))&&pc(r,m),y=(n.ownerDocument||n).createElement("link"),ot(y);var E=y;return E._p=new Promise(function(C,_){E.onload=C,E.onerror=_}),dt(y,"link",r),i.state.loading|=4,gl(y,a.precedence,n),i.instance=y;case"script":return y=Ss(a.src),(m=n.querySelector(wo(y)))?(i.instance=m,ot(m),m):(r=a,(m=Yt.get(y))&&(r=T({},a),mc(r,m)),n=n.ownerDocument||n,m=n.createElement("script"),ot(m),dt(m,"link",r),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,gl(r,a.precedence,n));return i.instance}function gl(n,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,y=m,E=0;E<r.length;E++){var C=r[E];if(C.dataset.precedence===i)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function pc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var yl=null;function dg(n,i,a){if(yl===null){var r=new Map,m=yl=new Map;m.set(a,r)}else m=yl,r=m.get(a),r||(r=new Map,m.set(a,r));if(r.has(n))return r;for(r.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var y=a[m];if(!(y[Ys]||y[rt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var C=r.get(E);C?C.push(y):r.set(E,[y])}}return r}function hg(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function EC(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function CC(n,i,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=xs(r.href),y=i.querySelector(Ro(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=vl.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=y,ot(y);return}y=i.ownerDocument||i,r=cg(r),(m=Yt.get(m))&&pc(r,m),y=y.createElement("link"),ot(y);var E=y;E._p=new Promise(function(C,_){E.onload=C,E.onerror=_}),dt(y,"link",r),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=vl.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var gc=0;function AC(n,i){return n.stylesheets&&n.count===0&&xl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var r=setTimeout(function(){if(n.stylesheets&&xl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+i);0<n.imgBytes&&gc===0&&(gc=62500*sC());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&xl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>gc?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tl=null;function xl(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tl=new Map,i.forEach(_C,n),Tl=null,vl.call(n))}function _C(n,i){if(!(i.state.loading&4)){var a=Tl.get(n);if(a)var r=a.get(null);else{a=new Map,Tl.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),r=E)}r&&a.set(null,r)}m=i.instance,E=m.getAttribute("data-precedence"),y=a.get(E)||r,y===r&&a.set(null,m),a.set(E,m),this.count++,r=vl.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var Do={$$typeof:w,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function NC(n,i,a,r,m,y,E,C,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function mg(n,i,a,r,m,y,E,C,_,L,Y,K){return n=new NC(n,i,a,E,_,L,Y,K,C),i=1,y===!0&&(i|=24),y=wt(3,null,null,i),n.current=y,y.stateNode=n,i=Qr(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:r,isDehydrated:a,cache:i},$r(y),n}function gg(n){return n?(n=Wi,n):Wi}function yg(n,i,a,r,m,y){m=gg(m),r.context===null?r.context=m:r.pendingContext=m,r=Fn(i),r.payload={element:a},y=y===void 0?null:y,y!==null&&(r.callback=y),a=On(n,r,i),a!==null&&(At(a,n,i),ro(a,n,i))}function vg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function yc(n,i){vg(n,i),(n=n.alternate)&&vg(n,i)}function Tg(n){if(n.tag===13||n.tag===31){var i=vi(n,67108864);i!==null&&At(i,n,67108864),yc(n,67108864)}}function xg(n){if(n.tag===13||n.tag===31){var i=Lt();i=dr(i);var a=vi(n,i);a!==null&&At(a,n,i),yc(n,i)}}var Sl=!0;function MC(n,i,a,r){var m=H.T;H.T=null;var y=O.p;try{O.p=2,vc(n,i,a,r)}finally{O.p=y,H.T=m}}function bC(n,i,a,r){var m=H.T;H.T=null;var y=O.p;try{O.p=8,vc(n,i,a,r)}finally{O.p=y,H.T=m}}function vc(n,i,a,r){if(Sl){var m=Tc(r);if(m===null)sc(n,i,r,El,a),Eg(n,r);else if(wC(m,n,i,a,r))r.stopPropagation();else if(Eg(n,r),i&4&&-1<RC.indexOf(n)){for(;m!==null;){var y=Hi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=hi(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var _=1<<31-bt(E);C.entanglements[1]|=_,E&=~_}rn(y),(be&6)===0&&(sl=Nt()+500,_o(0))}}break;case 31:case 13:C=vi(y,2),C!==null&&At(C,y,2),al(),yc(y,2)}if(y=Tc(r),y===null&&sc(n,i,r,El,a),y===m)break;m=y}m!==null&&r.stopPropagation()}else sc(n,i,r,null,a)}}function Tc(n){return n=Sr(n),xc(n)}var El=null;function xc(n){if(El=null,n=qi(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return El=n,null}function Sg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pS()){case Rd:return 2;case wd:return 8;case fa:case mS:return 32;case Dd:return 268435456;default:return 32}default:return 32}}var Sc=!1,ti=null,ni=null,ii=null,Io=new Map,Po=new Map,si=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(n,i){switch(n){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(i.pointerId)}}function Uo(n,i,a,r,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Hi(i),i!==null&&Tg(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function wC(n,i,a,r,m){switch(i){case"focusin":return ti=Uo(ti,n,i,a,r,m),!0;case"dragenter":return ni=Uo(ni,n,i,a,r,m),!0;case"mouseover":return ii=Uo(ii,n,i,a,r,m),!0;case"pointerover":var y=m.pointerId;return Io.set(y,Uo(Io.get(y)||null,n,i,a,r,m)),!0;case"gotpointercapture":return y=m.pointerId,Po.set(y,Uo(Po.get(y)||null,n,i,a,r,m)),!0}return!1}function Cg(n){var i=qi(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,kd(n.priority,function(){xg(a)});return}}else if(i===31){if(i=h(a),i!==null){n.blockedOn=i,kd(n.priority,function(){xg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Tc(n.nativeEvent);if(a===null){a=n.nativeEvent;var r=new a.constructor(a.type,a);xr=r,a.target.dispatchEvent(r),xr=null}else return i=Hi(a),i!==null&&Tg(i),n.blockedOn=a,!1;i.shift()}return!0}function Ag(n,i,a){Cl(n)&&a.delete(i)}function DC(){Sc=!1,ti!==null&&Cl(ti)&&(ti=null),ni!==null&&Cl(ni)&&(ni=null),ii!==null&&Cl(ii)&&(ii=null),Io.forEach(Ag),Po.forEach(Ag)}function Al(n,i){n.blockedOn===i&&(n.blockedOn=null,Sc||(Sc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DC)))}var _l=null;function _g(n){_l!==n&&(_l=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_l===n&&(_l=null);for(var i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],m=n[i+2];if(typeof r!="function"){if(xc(r||a)===null)continue;break}var y=Hi(a);y!==null&&(n.splice(i,3),i-=3,Tu(y,{pending:!0,data:m,method:a.method,action:r},r,m))}}))}function Es(n){function i(_){return Al(_,n)}ti!==null&&Al(ti,n),ni!==null&&Al(ni,n),ii!==null&&Al(ii,n),Io.forEach(i),Po.forEach(i);for(var a=0;a<si.length;a++){var r=si[a];r.blockedOn===n&&(r.blockedOn=null)}for(;0<si.length&&(a=si[0],a.blockedOn===null);)Cg(a),a.blockedOn===null&&si.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var m=a[r],y=a[r+1],E=m[vt]||null;if(typeof y=="function")E||_g(a);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[vt]||null)C=E.formAction;else if(xc(m)!==null)continue}else C=E.action;typeof C=="function"?a[r+1]=C:(a.splice(r,3),r-=3),_g(a)}}}function Ng(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Ec(n){this._internalRoot=n}Nl.prototype.render=Ec.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,r=Lt();yg(a,r,n,i,null,null)},Nl.prototype.unmount=Ec.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;yg(n.current,2,null,n,null,null),al(),i[Gi]=null}};function Nl(n){this._internalRoot=n}Nl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Vd();n={blockedOn:null,target:n,priority:i};for(var a=0;a<si.length&&i!==0&&i<si[a].priority;a++);si.splice(a,0,n),a===0&&Cg(n)}};var Mg=e.version;if(Mg!=="19.2.0")throw Error(o(527,Mg,"19.2.0"));O.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var IC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{zs=Ml.inject(IC),Mt=Ml}catch{}}return Vo.createRoot=function(n,i){if(!l(n))throw Error(o(299));var a=!1,r="",m=Up,y=Lp,E=Vp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=mg(n,1,!1,null,null,a,r,null,m,y,E,Ng),n[Gi]=i.current,ic(n),new Ec(i)},Vo.hydrateRoot=function(n,i,a){if(!l(n))throw Error(o(299));var r=!1,m="",y=Up,E=Lp,C=Vp,_=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),i=mg(n,1,!0,i,a??null,r,m,_,y,E,C,Ng),i.context=gg(null),a=i.current,r=Lt(),r=dr(r),m=Fn(r),m.callback=null,On(a,m,r),a=r,i.current.lanes=a,Os(i,a),rn(i),n[Gi]=i.current,ic(n),new Nl(i)},Vo.version="19.2.0",Vo}var kg;function zC(){if(kg)return _c.exports;kg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_c.exports=HC(),_c.exports}var FC=zC();const OC=Pv(FC),Pf=G.createContext({});function na(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uf=typeof window<"u",Lf=Uf?G.useLayoutEffect:G.useEffect,Xl=G.createContext(null);function Vf(t,e){t.indexOf(e)===-1&&t.push(e)}function Ql(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const bn=(t,e,s)=>s>e?e:s<t?t:s;let kf=()=>{};const Rn={},Uv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Lv(t){return typeof t=="object"&&t!==null}const Vv=t=>/^0[^.\s]+$/u.test(t);function Bf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qt=t=>t,YC=(t,e)=>s=>e(t(s)),ia=(...t)=>t.reduce(YC),Ps=(t,e,s)=>{const o=e-t;return o===0?1:(s-t)/o};class Gf{constructor(){this.subscriptions=[]}add(e){return Vf(this.subscriptions,e),()=>Ql(this.subscriptions,e)}notify(e,s,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,s,o);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nn=t=>t*1e3,Xt=t=>t/1e3;function kv(t,e){return e?t*(1e3/e):0}const JC=(t,e,s)=>{const o=e-t;return((s-t)%o+o)%o+t},Bv=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,KC=1e-7,XC=12;function QC(t,e,s,o,l){let u,c,h=0;do c=e+(s-e)/2,u=Bv(c,o,l)-t,u>0?s=c:e=c;while(Math.abs(u)>KC&&++h<XC);return c}function sa(t,e,s,o){if(t===e&&s===o)return Qt;const l=u=>QC(u,0,1,t,s);return u=>u===0||u===1?u:Bv(l(u),e,o)}const Gv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qv=t=>e=>1-t(1-e),Hv=sa(.33,1.53,.69,.99),qf=qv(Hv),zv=Gv(qf),Fv=t=>(t*=2)<1?.5*qf(t):.5*(2-Math.pow(2,-10*(t-1))),Hf=t=>1-Math.sin(Math.acos(t)),Ov=qv(Hf),Yv=Gv(Hf),ZC=sa(.42,0,1,1),jC=sa(0,0,.58,1),Jv=sa(.42,0,.58,1),Kv=t=>Array.isArray(t)&&typeof t[0]!="number";function Xv(t,e){return Kv(t)?t[JC(0,t.length,e)]:t}const Qv=t=>Array.isArray(t)&&typeof t[0]=="number",WC={linear:Qt,easeIn:ZC,easeInOut:Jv,easeOut:jC,circIn:Hf,circInOut:Yv,circOut:Ov,backIn:qf,backInOut:zv,backOut:Hv,anticipate:Fv},$C=t=>typeof t=="string",Bg=t=>{if(Qv(t)){kf(t.length===4);const[e,s,o,l]=t;return sa(e,s,o,l)}else if($C(t))return WC[t];return t},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eA(t,e){let s=new Set,o=new Set,l=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,T=!1,S=!1)=>{const N=S&&l?s:o;return T&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{o.delete(v),c.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[s,o]=[o,s],s.forEach(g),s.clear(),l=!1,u&&(u=!1,p.process(v))}};return p}const tA=40;function Zv(t,e){let s=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,c=bl.reduce((w,Q)=>(w[Q]=eA(u),w),{}),{setup:h,read:g,resolveKeyframes:p,preUpdate:v,update:T,preRender:S,render:A,postRender:N}=c,R=()=>{const w=Rn.useManualTiming?l.timestamp:performance.now();s=!1,Rn.useManualTiming||(l.delta=o?1e3/60:Math.max(Math.min(w-l.timestamp,tA),1)),l.timestamp=w,l.isProcessing=!0,h.process(l),g.process(l),p.process(l),v.process(l),T.process(l),S.process(l),A.process(l),N.process(l),l.isProcessing=!1,s&&e&&(o=!1,t(R))},I=()=>{s=!0,o=!0,l.isProcessing||t(R)};return{schedule:bl.reduce((w,Q)=>{const q=c[Q];return w[Q]=(X,z=!1,W=!1)=>(s||I(),q.schedule(X,z,W)),w},{}),cancel:w=>{for(let Q=0;Q<bl.length;Q++)c[bl[Q]].cancel(w)},state:l,steps:c}}const{schedule:qe,cancel:wn,state:ht,steps:Rc}=Zv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0);let Ul;function nA(){Ul=void 0}const _t={now:()=>(Ul===void 0&&_t.set(ht.isProcessing||Rn.useManualTiming?ht.timestamp:performance.now()),Ul),set:t=>{Ul=t,queueMicrotask(nA)}},jv=t=>e=>typeof e=="string"&&e.startsWith(t),zf=jv("--"),iA=jv("var(--"),Ff=t=>iA(t)?sA.test(t.split("/*")[0].trim()):!1,sA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ls={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qo={...Ls,transform:t=>bn(0,1,t)},Rl={...Ls,default:1},zo=t=>Math.round(t*1e5)/1e5,Of=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oA(t){return t==null}const aA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yf=(t,e)=>s=>!!(typeof s=="string"&&aA.test(s)&&s.startsWith(t)||e&&!oA(s)&&Object.prototype.hasOwnProperty.call(s,e)),Wv=(t,e,s)=>o=>{if(typeof o!="string")return o;const[l,u,c,h]=o.match(Of);return{[t]:parseFloat(l),[e]:parseFloat(u),[s]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},lA=t=>bn(0,255,t),wc={...Ls,transform:t=>Math.round(lA(t))},Pi={test:Yf("rgb","red"),parse:Wv("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:o=1})=>"rgba("+wc.transform(t)+", "+wc.transform(e)+", "+wc.transform(s)+", "+zo(Qo.transform(o))+")"};function rA(t){let e="",s="",o="",l="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),o=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),o=t.substring(3,4),l=t.substring(4,5),e+=e,s+=s,o+=o,l+=l),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const $c={test:Yf("#"),parse:rA,transform:Pi.transform},oa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ai=oa("deg"),un=oa("%"),de=oa("px"),uA=oa("vh"),cA=oa("vw"),Gg={...un,parse:t=>un.parse(t)/100,transform:t=>un.transform(t*100)},Cs={test:Yf("hsl","hue"),parse:Wv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+un.transform(zo(e))+", "+un.transform(zo(s))+", "+zo(Qo.transform(o))+")"},tt={test:t=>Pi.test(t)||$c.test(t)||Cs.test(t),parse:t=>Pi.test(t)?Pi.parse(t):Cs.test(t)?Cs.parse(t):$c.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Pi.transform(t):Cs.transform(t),getAnimatableNone:t=>{const e=tt.parse(t);return e.alpha=0,tt.transform(e)}},fA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dA(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Of))==null?void 0:e.length)||0)+(((s=t.match(fA))==null?void 0:s.length)||0)>0}const $v="number",eT="color",hA="var",pA="var(",qg="${}",mA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zo(t){const e=t.toString(),s=[],o={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(mA,g=>(tt.test(g)?(o.color.push(u),l.push(eT),s.push(tt.parse(g))):g.startsWith(pA)?(o.var.push(u),l.push(hA),s.push(g)):(o.number.push(u),l.push($v),s.push(parseFloat(g))),++u,qg)).split(qg);return{values:s,split:h,indexes:o,types:l}}function tT(t){return Zo(t).values}function nT(t){const{split:e,types:s}=Zo(t),o=e.length;return l=>{let u="";for(let c=0;c<o;c++)if(u+=e[c],l[c]!==void 0){const h=s[c];h===$v?u+=zo(l[c]):h===eT?u+=tt.transform(l[c]):u+=l[c]}return u}}const gA=t=>typeof t=="number"?0:tt.test(t)?tt.getAnimatableNone(t):t;function yA(t){const e=tT(t);return nT(t)(e.map(gA))}const ri={test:dA,parse:tT,createTransformer:nT,getAnimatableNone:yA};function Dc(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function vA({hue:t,saturation:e,lightness:s,alpha:o}){t/=360,e/=100,s/=100;let l=0,u=0,c=0;if(!e)l=u=c=s;else{const h=s<.5?s*(1+e):s+e-s*e,g=2*s-h;l=Dc(g,h,t+1/3),u=Dc(g,h,t),c=Dc(g,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:o}}function ql(t,e){return s=>s>0?e:t}const ze=(t,e,s)=>t+(e-t)*s,Ic=(t,e,s)=>{const o=t*t,l=s*(e*e-o)+o;return l<0?0:Math.sqrt(l)},TA=[$c,Pi,Cs],xA=t=>TA.find(e=>e.test(t));function Hg(t){const e=xA(t);if(!e)return!1;let s=e.parse(t);return e===Cs&&(s=vA(s)),s}const zg=(t,e)=>{const s=Hg(t),o=Hg(e);if(!s||!o)return ql(t,e);const l={...s};return u=>(l.red=Ic(s.red,o.red,u),l.green=Ic(s.green,o.green,u),l.blue=Ic(s.blue,o.blue,u),l.alpha=ze(s.alpha,o.alpha,u),Pi.transform(l))},ef=new Set(["none","hidden"]);function SA(t,e){return ef.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function EA(t,e){return s=>ze(t,e,s)}function Jf(t){return typeof t=="number"?EA:typeof t=="string"?Ff(t)?ql:tt.test(t)?zg:_A:Array.isArray(t)?iT:typeof t=="object"?tt.test(t)?zg:CA:ql}function iT(t,e){const s=[...t],o=s.length,l=t.map((u,c)=>Jf(u)(u,e[c]));return u=>{for(let c=0;c<o;c++)s[c]=l[c](u);return s}}function CA(t,e){const s={...t,...e},o={};for(const l in s)t[l]!==void 0&&e[l]!==void 0&&(o[l]=Jf(t[l])(t[l],e[l]));return l=>{for(const u in o)s[u]=o[u](l);return s}}function AA(t,e){const s=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=t.indexes[u][o[u]],h=t.values[c]??0;s[l]=h,o[u]++}return s}const _A=(t,e)=>{const s=ri.createTransformer(e),o=Zo(t),l=Zo(e);return o.indexes.var.length===l.indexes.var.length&&o.indexes.color.length===l.indexes.color.length&&o.indexes.number.length>=l.indexes.number.length?ef.has(t)&&!l.values.length||ef.has(e)&&!o.values.length?SA(t,e):ia(iT(AA(o,l),l.values),s):ql(t,e)};function sT(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ze(t,e,s):Jf(t)(t,e)}const NA=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>qe.update(e,s),stop:()=>wn(e),now:()=>ht.isProcessing?ht.timestamp:_t.now()}},oT=(t,e,s=10)=>{let o="";const l=Math.max(Math.round(e/s),2);for(let u=0;u<l;u++)o+=Math.round(t(u/(l-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Hl=2e4;function Kf(t){let e=0;const s=50;let o=t.next(e);for(;!o.done&&e<Hl;)e+=s,o=t.next(e);return e>=Hl?1/0:e}function aT(t,e=100,s){const o=s({...t,keyframes:[0,e]}),l=Math.min(Kf(o),Hl);return{type:"keyframes",ease:u=>o.next(l*u).value/e,duration:Xt(l)}}const MA=5;function lT(t,e,s){const o=Math.max(e-MA,0);return kv(s-t(o),e-o)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pc=.001;function bA({duration:t=Je.duration,bounce:e=Je.bounce,velocity:s=Je.velocity,mass:o=Je.mass}){let l,u,c=1-e;c=bn(Je.minDamping,Je.maxDamping,c),t=bn(Je.minDuration,Je.maxDuration,Xt(t)),c<1?(l=p=>{const v=p*c,T=v*t,S=v-s,A=tf(p,c),N=Math.exp(-T);return Pc-S/A*N},u=p=>{const T=p*c*t,S=T*s+s,A=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-T),R=tf(Math.pow(p,2),c);return(-l(p)+Pc>0?-1:1)*((S-A)*N)/R}):(l=p=>{const v=Math.exp(-p*t),T=(p-s)*t+1;return-Pc+v*T},u=p=>{const v=Math.exp(-p*t),T=(s-p)*(t*t);return v*T});const h=5/t,g=wA(l,u,h);if(t=nn(t),isNaN(g))return{stiffness:Je.stiffness,damping:Je.damping,duration:t};{const p=Math.pow(g,2)*o;return{stiffness:p,damping:c*2*Math.sqrt(o*p),duration:t}}}const RA=12;function wA(t,e,s){let o=s;for(let l=1;l<RA;l++)o=o-t(o)/e(o);return o}function tf(t,e){return t*Math.sqrt(1-e*e)}const DA=["duration","bounce"],IA=["stiffness","damping","mass"];function Fg(t,e){return e.some(s=>t[s]!==void 0)}function PA(t){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...t};if(!Fg(t,IA)&&Fg(t,DA))if(t.visualDuration){const s=t.visualDuration,o=2*Math.PI/(s*1.2),l=o*o,u=2*bn(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:Je.mass,stiffness:l,damping:u}}else{const s=bA(t);e={...e,...s,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function jo(t=Je.visualDuration,e=Je.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:o,restDelta:l}=s;const u=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:g,damping:p,mass:v,duration:T,velocity:S,isResolvedFromDuration:A}=PA({...s,velocity:-Xt(s.velocity||0)}),N=S||0,R=p/(2*Math.sqrt(g*v)),I=c-u,P=Xt(Math.sqrt(g/v)),k=Math.abs(I)<5;o||(o=k?Je.restSpeed.granular:Je.restSpeed.default),l||(l=k?Je.restDelta.granular:Je.restDelta.default);let w;if(R<1){const q=tf(P,R);w=X=>{const z=Math.exp(-R*P*X);return c-z*((N+R*P*I)/q*Math.sin(q*X)+I*Math.cos(q*X))}}else if(R===1)w=q=>c-Math.exp(-P*q)*(I+(N+P*I)*q);else{const q=P*Math.sqrt(R*R-1);w=X=>{const z=Math.exp(-R*P*X),W=Math.min(q*X,300);return c-z*((N+R*P*I)*Math.sinh(W)+q*I*Math.cosh(W))/q}}const Q={calculatedDuration:A&&T||null,next:q=>{const X=w(q);if(A)h.done=q>=T;else{let z=q===0?N:0;R<1&&(z=q===0?nn(N):lT(w,q,X));const W=Math.abs(z)<=o,j=Math.abs(c-X)<=l;h.done=W&&j}return h.value=h.done?c:X,h},toString:()=>{const q=Math.min(Kf(Q),Hl),X=oT(z=>Q.next(q*z).value,q,30);return q+"ms "+X},toTransition:()=>{}};return Q}jo.applyToOptions=t=>{const e=aT(t,100,jo);return t.ease=e.ease,t.duration=nn(e.duration),t.type="keyframes",t};function nf({keyframes:t,velocity:e=0,power:s=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:g,restDelta:p=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},A=W=>h!==void 0&&W<h||g!==void 0&&W>g,N=W=>h===void 0?g:g===void 0||Math.abs(h-W)<Math.abs(g-W)?h:g;let R=s*e;const I=T+R,P=c===void 0?I:c(I);P!==I&&(R=P-T);const k=W=>-R*Math.exp(-W/o),w=W=>P+k(W),Q=W=>{const j=k(W),ae=w(W);S.done=Math.abs(j)<=p,S.value=S.done?P:ae};let q,X;const z=W=>{A(S.value)&&(q=W,X=jo({keyframes:[S.value,N(S.value)],velocity:lT(w,W,S.value),damping:l,stiffness:u,restDelta:p,restSpeed:v}))};return z(0),{calculatedDuration:null,next:W=>{let j=!1;return!X&&q===void 0&&(j=!0,Q(W),z(W)),q!==void 0&&W>=q?X.next(W-q):(!j&&Q(W),S)}}}function UA(t,e,s){const o=[],l=s||Rn.mix||sT,u=t.length-1;for(let c=0;c<u;c++){let h=l(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||Qt:e;h=ia(g,h)}o.push(h)}return o}function rT(t,e,{clamp:s=!0,ease:o,mixer:l}={}){const u=t.length;if(kf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=UA(e,o,l),g=h.length,p=v=>{if(c&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=Ps(t[T],t[T+1],v);return h[T](S)};return s?v=>p(bn(t[0],t[u-1],v)):p}function uT(t,e){const s=t[t.length-1];for(let o=1;o<=e;o++){const l=Ps(0,e,o);t.push(ze(s,1,l))}}function cT(t){const e=[0];return uT(e,t.length-1),e}function LA(t,e){return t.map(s=>s*e)}function VA(t,e){return t.map(()=>e||Jv).splice(0,t.length-1)}function Fo({duration:t=300,keyframes:e,times:s,ease:o="easeInOut"}){const l=Kv(o)?o.map(Bg):Bg(o),u={done:!1,value:e[0]},c=LA(s&&s.length===e.length?s:cT(e),t),h=rT(c,e,{ease:Array.isArray(l)?l:VA(e,l)});return{calculatedDuration:t,next:g=>(u.value=h(g),u.done=g>=t,u)}}const kA=t=>t!==null;function Xf(t,{repeat:e,repeatType:s="loop"},o,l=1){const u=t.filter(kA),h=l<0||e&&s!=="loop"&&e%2===1?0:u.length-1;return!h||o===void 0?u[h]:o}const BA={decay:nf,inertia:nf,tween:Fo,keyframes:Fo,spring:jo};function fT(t){typeof t.type=="string"&&(t.type=BA[t.type])}class Qf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const GA=t=>t/100;class Zf extends Qf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,l;const{motionValue:s}=this.options;s&&s.updatedAt!==_t.now()&&this.tick(_t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(o=this.options).onStop)==null||l.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fT(e);const{type:s=Fo,repeat:o=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const g=s||Fo;g!==Fo&&typeof h[0]!="number"&&(this.mixKeyframes=ia(GA,sT(h[0],h[1])),h=[0,100]);const p=g({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Kf(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(o+1)-l,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:o,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return o.next(0);const{delay:p=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:A,type:N,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?P<0:P>l;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let w=this.currentTime,Q=o;if(T){const W=Math.min(this.currentTime,l)/h;let j=Math.floor(W),ae=W%1;!ae&&W>=1&&(ae=1),ae===1&&j--,j=Math.min(j,T+1),!!(j%2)&&(S==="reverse"?(ae=1-ae,A&&(ae-=A/h)):S==="mirror"&&(Q=c)),w=bn(0,1,ae)*h}const q=k?{done:!1,value:v[0]}:Q.next(w);u&&(q.value=u(q.value));let{done:X}=q;!k&&g!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return z&&N!==nf&&(q.value=Xf(v,this.options,I,this.speed)),R&&R(q.value),z&&this.finish(),q}then(e,s){return this.finished.then(e,s)}get duration(){return Xt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(this.currentTime)}set time(e){var s;e=nn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_t.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Xt(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=NA,startTime:s}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function qA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ui=t=>t*180/Math.PI,sf=t=>{const e=Ui(Math.atan2(t[1],t[0]));return of(e)},HA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sf,rotateZ:sf,skewX:t=>Ui(Math.atan(t[1])),skewY:t=>Ui(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},of=t=>(t=t%360,t<0&&(t+=360),t),Og=sf,Yg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yg,scaleY:Jg,scale:t=>(Yg(t)+Jg(t))/2,rotateX:t=>of(Ui(Math.atan2(t[6],t[5]))),rotateY:t=>of(Ui(Math.atan2(-t[2],t[0]))),rotateZ:Og,rotate:Og,skewX:t=>Ui(Math.atan(t[4])),skewY:t=>Ui(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function af(t){return t.includes("scale")?1:0}function lf(t,e){if(!t||t==="none")return af(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,l;if(s)o=zA,l=s;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=HA,l=h}if(!l)return af(e);const u=o[e],c=l[1].split(",").map(OA);return typeof u=="function"?u(c):c[u]}const FA=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return lf(s,e)};function OA(t){return parseFloat(t.trim())}const Vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ks=new Set(Vs),Kg=t=>t===Ls||t===de,YA=new Set(["x","y","z"]),JA=Vs.filter(t=>!YA.has(t));function KA(t){const e=[];return JA.forEach(s=>{const o=t.getValue(s);o!==void 0&&(e.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),e}const Li={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lf(e,"x"),y:(t,{transform:e})=>lf(e,"y")};Li.translateX=Li.x;Li.translateY=Li.y;const Vi=new Set;let rf=!1,uf=!1,cf=!1;function dT(){if(uf){const t=Array.from(Vi).filter(o=>o.needsMeasurement),e=new Set(t.map(o=>o.element)),s=new Map;e.forEach(o=>{const l=KA(o);l.length&&(s.set(o,l),o.render())}),t.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const l=s.get(o);l&&l.forEach(([u,c])=>{var h;(h=o.getValue(u))==null||h.set(c)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}uf=!1,rf=!1,Vi.forEach(t=>t.complete(cf)),Vi.clear()}function hT(){Vi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uf=!0)})}function XA(){cf=!0,hT(),dT(),cf=!1}class jf{constructor(e,s,o,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=o,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vi.add(this),rf||(rf=!0,qe.read(hT),qe.resolveKeyframes(dT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:o,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(o&&s){const h=o.readValue(s,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}qA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vi.delete(this)}cancel(){this.state==="scheduled"&&(Vi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QA=t=>t.startsWith("--");function ZA(t,e,s){QA(e)?t.style.setProperty(e,s):t.style[e]=s}const jA=Bf(()=>window.ScrollTimeline!==void 0),WA={};function $A(t,e){const s=Bf(t);return()=>WA[e]??s()}const pT=$A(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ho=([t,e,s,o])=>`cubic-bezier(${t}, ${e}, ${s}, ${o})`,Xg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function mT(t,e){if(t)return typeof t=="function"?pT()?oT(t,e):"ease-out":Qv(t)?Ho(t):Array.isArray(t)?t.map(s=>mT(s,e)||Xg.easeOut):Xg[t]}function e_(t,e,s,{delay:o=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:g}={},p=void 0){const v={[e]:s};g&&(v.offset=g);const T=mT(h,l);Array.isArray(T)&&(v.easing=T);const S={delay:o,duration:l,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),t.animate(v,S)}function Wf(t){return typeof t=="function"&&"applyToOptions"in t}function t_({type:t,...e}){return Wf(t)&&pT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class n_ extends Qf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:o,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:g}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,kf(typeof e.type!="string");const p=t_(e);this.animation=e_(s,o,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Xf(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):ZA(s,o,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,o;const e=((o=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:o.call(s).duration)||0;return Xt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=nn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&jA()?(this.animation.timeline=e,Qt):s(this)}}const gT={anticipate:Fv,backInOut:zv,circInOut:Yv};function i_(t){return t in gT}function s_(t){typeof t.ease=="string"&&i_(t.ease)&&(t.ease=gT[t.ease])}const Qg=10;class o_ extends n_{constructor(e){s_(e),fT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:o,onComplete:l,element:u,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new Zf({...c,autoplay:!1}),g=nn(this.finishedTime??this.time);s.setWithVelocity(h.sample(g-Qg).value,h.sample(g).value,Qg),h.stop()}}const Zg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ri.test(t)||t==="0")&&!t.startsWith("url("));function a_(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function l_(t,e,s,o){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=Zg(l,e),h=Zg(u,e);return!c||!h?!1:a_(t)||(s==="spring"||Wf(s))&&o}function ff(t){t.duration=0,t.type="keyframes"}const r_=new Set(["opacity","clipPath","filter","transform"]),u_=Bf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c_(t){var v;const{motionValue:e,name:s,repeatDelay:o,repeatType:l,damping:u,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=e.owner.getProps();return u_()&&s&&r_.has(s)&&(s!=="transform"||!p)&&!g&&!o&&l!=="mirror"&&u!==0&&c!=="inertia"}const f_=40;class d_ extends Qf{constructor({autoplay:e=!0,delay:s=0,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:g,motionValue:p,element:v,...T}){var N;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=_t.now();const S={autoplay:e,delay:s,type:o,repeat:l,repeatDelay:u,repeatType:c,name:g,motionValue:p,element:v,...T},A=(v==null?void 0:v.KeyframeResolver)||jf;this.keyframeResolver=new A(h,(R,I,P)=>this.onKeyframesResolved(R,I,S,!P),g,p,v),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,s,o,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:g,isHandoff:p,onUpdate:v}=o;this.resolvedAt=_t.now(),l_(e,u,c,h)||((Rn.instantAnimations||!g)&&(v==null||v(Xf(e,o,s))),e[0]=e[e.length-1],ff(o),o.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>f_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:e},A=!p&&c_(S)?new o_({...S,element:S.motionValue.owner.current}):new Zf(S);A.finished.then(()=>this.notifyFinished()).catch(Qt),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),XA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class h_{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let o=0;o<this.animations.length;o++)this.animations[o][e]=s}attachTimeline(e){const s=this.animations.map(o=>o.attachTimeline(e));return()=>{s.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return jg(this.animations,"duration")}get iterationDuration(){return jg(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(s=>s[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function jg(t,e){let s=0;for(let o=0;o<t.length;o++){const l=t[o][e];l!==null&&l>s&&(s=l)}return s}class p_ extends h_{then(e,s){return this.finished.finally(e).then(()=>{})}}const m_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g_(t){const e=m_.exec(t);if(!e)return[,];const[,s,o,l]=e;return[`--${s??o}`,l]}function yT(t,e,s=1){const[o,l]=g_(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const c=u.trim();return Uv(c)?parseFloat(c):c}return Ff(l)?yT(l,e,s+1):l}function $f(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vT=new Set(["width","height","top","left","right","bottom",...Vs]),y_={test:t=>t==="auto",parse:t=>t},TT=t=>e=>e.test(t),xT=[Ls,de,un,ai,cA,uA,y_],Wg=t=>xT.find(TT(t));function v_(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Vv(t):!0}const T_=new Set(["brightness","contrast","saturate","opacity"]);function x_(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=s.match(Of)||[];if(!o)return t;const l=s.replace(o,"");let u=T_.has(e)?1:0;return o!==s&&(u*=100),e+"("+u+l+")"}const S_=/\b([a-z-]*)\(.*?\)/gu,df={...ri,getAnimatableNone:t=>{const e=t.match(S_);return e?e.map(x_).join(" "):t}},$g={...Ls,transform:Math.round},E_={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Rl,scaleX:Rl,scaleY:Rl,scaleZ:Rl,skew:ai,skewX:ai,skewY:ai,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Qo,originX:Gg,originY:Gg,originZ:de},ed={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...E_,zIndex:$g,fillOpacity:Qo,strokeOpacity:Qo,numOctaves:$g},C_={...ed,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:df,WebkitFilter:df},ST=t=>C_[t];function ET(t,e){let s=ST(t);return s!==df&&(s=ri),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const A_=new Set(["auto","none","0"]);function __(t,e,s){let o=0,l;for(;o<t.length&&!l;){const u=t[o];typeof u=="string"&&!A_.has(u)&&Zo(u).values.length&&(l=t[o]),o++}if(l&&s)for(const u of e)t[u]=ET(s,l)}class N_ extends jf{constructor(e,s,o,l,u){super(e,s,o,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let p=e[g];if(typeof p=="string"&&(p=p.trim(),Ff(p))){const v=yT(p,s.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!vT.has(o)||e.length!==2)return;const[l,u]=e,c=Wg(l),h=Wg(u);if(c!==h)if(Kg(c)&&Kg(h))for(let g=0;g<e.length;g++){const p=e[g];typeof p=="string"&&(e[g]=parseFloat(p))}else Li[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,o=[];for(let l=0;l<e.length;l++)(e[l]===null||v_(e[l]))&&o.push(l);o.length&&__(e,o,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Li[o](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&e.getValue(o,l).jump(l,!1)}measureEndState(){var h;const{element:e,name:s,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,c=o[u];o[u]=Li[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([g,p])=>{e.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function CT(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const l=(s==null?void 0:s[t])??o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}const AT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _T(t){return Lv(t)&&"offsetHeight"in t}const ey=30,M_=t=>!isNaN(parseFloat(t)),Oo={current:void 0};class b_{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var u;const l=_t.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=_t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Gf);const o=this.events[e].add(s);return e==="change"?()=>{o(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Oo.current&&Oo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=_t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ey)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ey);return kv(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ki(t,e){return new b_(t,e)}const{schedule:td}=Zv(queueMicrotask,!1),en={x:!1,y:!1};function NT(){return en.x||en.y}function R_(t){return t==="x"||t==="y"?en[t]?null:(en[t]=!0,()=>{en[t]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}function MT(t,e){const s=CT(t),o=new AbortController,l={passive:!0,...e,signal:o.signal};return[s,l,()=>o.abort()]}function ty(t){return!(t.pointerType==="touch"||NT())}function w_(t,e,s={}){const[o,l,u]=MT(t,s),c=h=>{if(!ty(h))return;const{target:g}=h,p=e(g,h);if(typeof p!="function"||!g)return;const v=T=>{ty(T)&&(p(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,l)};return o.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const bT=(t,e)=>e?t===e?!0:bT(t,e.parentElement):!1,nd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,D_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I_(t){return D_.has(t.tagName)||t.tabIndex!==-1}const Ll=new WeakSet;function ny(t){return e=>{e.key==="Enter"&&t(e)}}function Uc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const P_=(t,e)=>{const s=t.currentTarget;if(!s)return;const o=ny(()=>{if(Ll.has(s))return;Uc(s,"down");const l=ny(()=>{Uc(s,"up")}),u=()=>Uc(s,"cancel");s.addEventListener("keyup",l,e),s.addEventListener("blur",u,e)});s.addEventListener("keydown",o,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),e)};function iy(t){return nd(t)&&!NT()}function U_(t,e,s={}){const[o,l,u]=MT(t,s),c=h=>{const g=h.currentTarget;if(!iy(h))return;Ll.add(g);const p=e(g,h),v=(A,N)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Ll.has(g)&&Ll.delete(g),iy(A)&&typeof p=="function"&&p(A,{success:N})},T=A=>{v(A,g===window||g===document||s.useGlobalTarget||bT(g,A.target))},S=A=>{v(A,!1)};window.addEventListener("pointerup",T,l),window.addEventListener("pointercancel",S,l)};return o.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),_T(h)&&(h.addEventListener("focus",p=>P_(p,l)),!I_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function id(t){return Lv(t)&&"ownerSVGElement"in t}function RT(t){return id(t)&&t.tagName==="svg"}function L_(...t){const e=!Array.isArray(t[0]),s=e?0:-1,o=t[0+s],l=t[1+s],u=t[2+s],c=t[3+s],h=rT(l,u,c);return e?h(o):h}const lt=t=>!!(t&&t.getVelocity),V_=[...xT,tt,ri],k_=t=>V_.find(TT(t)),Zl=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B_(...t){return e=>{let s=!1;const o=t.map(l=>{const u=sy(l,e);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<o.length;l++){const u=o[l];typeof u=="function"?u():sy(t[l],null)}}}}function G_(...t){return G.useCallback(B_(...t),t)}class q_ extends G.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const o=s.offsetParent,l=_T(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H_({children:t,isPresent:e,anchorX:s,root:o}){const l=G.useId(),u=G.useRef(null),c=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=G.useContext(Zl),g=G_(u,t==null?void 0:t.ref);return G.useInsertionEffect(()=>{const{width:p,height:v,top:T,left:S,right:A}=c.current;if(e||!u.current||!p||!v)return;const N=s==="left"?`left: ${S}`:`right: ${A}`;u.current.dataset.motionPopId=l;const R=document.createElement("style");h&&(R.nonce=h);const I=o??document.head;return I.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${T}px !important;
          }
        `),()=>{I.contains(R)&&I.removeChild(R)}},[e]),x.jsx(q_,{isPresent:e,childRef:u,sizeRef:c,children:G.cloneElement(t,{ref:g})})}const z_=({children:t,initial:e,isPresent:s,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,root:g})=>{const p=na(F_),v=G.useId();let T=!0,S=G.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:s,custom:l,onExitComplete:A=>{p.set(A,!0);for(const N of p.values())if(!N)return;o&&o()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[s,p,o]);return u&&T&&(S={...S}),G.useMemo(()=>{p.forEach((A,N)=>p.set(N,!1))},[s]),G.useEffect(()=>{!s&&!p.size&&o&&o()},[s]),c==="popLayout"&&(t=x.jsx(H_,{isPresent:s,anchorX:h,root:g,children:t})),x.jsx(Xl.Provider,{value:S,children:t})};function F_(){return new Map}function wT(t=!0){const e=G.useContext(Xl);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:l}=e,u=G.useId();G.useEffect(()=>{if(t)return l(u)},[t]);const c=G.useCallback(()=>t&&o&&o(u),[u,o,t]);return!s&&o?[!1,c]:[!0]}const wl=t=>t.key||"";function oy(t){const e=[];return G.Children.forEach(t,s=>{G.isValidElement(s)&&e.push(s)}),e}const Dn=({children:t,custom:e,initial:s=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:g})=>{const[p,v]=wT(c),T=G.useMemo(()=>oy(t),[t]),S=c&&!p?[]:T.map(wl),A=G.useRef(!0),N=G.useRef(T),R=na(()=>new Map),[I,P]=G.useState(T),[k,w]=G.useState(T);Lf(()=>{A.current=!1,N.current=T;for(let X=0;X<k.length;X++){const z=wl(k[X]);S.includes(z)?R.delete(z):R.get(z)!==!0&&R.set(z,!1)}},[k,S.length,S.join("-")]);const Q=[];if(T!==I){let X=[...T];for(let z=0;z<k.length;z++){const W=k[z],j=wl(W);S.includes(j)||(X.splice(z,0,W),Q.push(W))}return u==="wait"&&Q.length&&(X=Q),w(oy(X)),P(T),null}const{forceRender:q}=G.useContext(Pf);return x.jsx(x.Fragment,{children:k.map(X=>{const z=wl(X),W=c&&!p?!1:T===k||S.includes(z),j=()=>{if(R.has(z))R.set(z,!0);else return;let ae=!0;R.forEach(ce=>{ce||(ae=!1)}),ae&&(q==null||q(),w(N.current),c&&(v==null||v()),o&&o())};return x.jsx(z_,{isPresent:W,initial:!A.current||s?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:g,onExitComplete:W?void 0:j,anchorX:h,children:X},z)})})},DT=G.createContext({strict:!1}),ay={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Us={};for(const t in ay)Us[t]={isEnabled:e=>ay[t].some(s=>!!e[s])};function O_(t){for(const e in t)Us[e]={...Us[e],...t[e]}}const Y_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Y_.has(t)}let IT=t=>!zl(t);function J_(t){typeof t=="function"&&(IT=e=>e.startsWith("on")?!zl(e):t(e))}try{J_(require("@emotion/is-prop-valid").default)}catch{}function K_(t,e,s){const o={};for(const l in t)l==="values"&&typeof t.values=="object"||(IT(l)||s===!0&&zl(l)||!e&&!zl(l)||t.draggable&&l.startsWith("onDrag"))&&(o[l]=t[l]);return o}const jl=G.createContext({});function Wl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wo(t){return typeof t=="string"||Array.isArray(t)}const sd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],od=["initial",...sd];function $l(t){return Wl(t.animate)||od.some(e=>Wo(t[e]))}function PT(t){return!!($l(t)||t.variants)}function X_(t,e){if($l(t)){const{initial:s,animate:o}=t;return{initial:s===!1||Wo(s)?s:void 0,animate:Wo(o)?o:void 0}}return t.inherit!==!1?e:{}}function Q_(t){const{initial:e,animate:s}=X_(t,G.useContext(jl));return G.useMemo(()=>({initial:e,animate:s}),[ly(e),ly(s)])}function ly(t){return Array.isArray(t)?t.join(" "):t}const $o={};function Z_(t){for(const e in t)$o[e]=t[e],zf(e)&&($o[e].isCSSVariable=!0)}function UT(t,{layout:e,layoutId:s}){return ks.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!$o[t]||t==="opacity")}const j_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W_=Vs.length;function $_(t,e,s){let o="",l=!0;for(let u=0;u<W_;u++){const c=Vs[u],h=t[c];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(c.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||s){const p=AT(h,ed[c]);if(!g){l=!1;const v=j_[c]||c;o+=`${v}(${p}) `}s&&(e[c]=p)}}return o=o.trim(),s?o=s(e,l?"":o):l&&(o="none"),o}function ad(t,e,s){const{style:o,vars:l,transformOrigin:u}=t;let c=!1,h=!1;for(const g in e){const p=e[g];if(ks.has(g)){c=!0;continue}else if(zf(g)){l[g]=p;continue}else{const v=AT(p,ed[g]);g.startsWith("origin")?(h=!0,u[g]=v):o[g]=v}}if(e.transform||(c||s?o.transform=$_(e,t.transform,s):o.transform&&(o.transform="none")),h){const{originX:g="50%",originY:p="50%",originZ:v=0}=u;o.transformOrigin=`${g} ${p} ${v}`}}const ld=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LT(t,e,s){for(const o in e)!lt(e[o])&&!UT(o,s)&&(t[o]=e[o])}function e1({transformTemplate:t},e){return G.useMemo(()=>{const s=ld();return ad(s,e,t),Object.assign({},s.vars,s.style)},[e])}function t1(t,e){const s=t.style||{},o={};return LT(o,s,t),Object.assign(o,e1(t,e)),o}function n1(t,e){const s={},o=t1(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const i1={offset:"stroke-dashoffset",array:"stroke-dasharray"},s1={offset:"strokeDashoffset",array:"strokeDasharray"};function o1(t,e,s=1,o=0,l=!0){t.pathLength=1;const u=l?i1:s1;t[u.offset]=de.transform(-o);const c=de.transform(e),h=de.transform(s);t[u.array]=`${c} ${h}`}function VT(t,{attrX:e,attrY:s,attrScale:o,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...h},g,p,v){if(ad(t,h,p),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),s!==void 0&&(T.y=s),o!==void 0&&(T.scale=o),l!==void 0&&o1(T,l,u,c,!1)}const kT=()=>({...ld(),attrs:{}}),BT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a1(t,e,s,o){const l=G.useMemo(()=>{const u=kT();return VT(u,e,BT(o),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};LT(u,t.style,t),l.style={...u,...l.style}}return l}const l1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rd(t){return typeof t!="string"||t.includes("-")?!1:!!(l1.indexOf(t)>-1||/[A-Z]/u.test(t))}function r1(t,e,s,{latestValues:o},l,u=!1){const h=(rd(t)?a1:n1)(e,o,l,t),g=K_(e,typeof t=="string",u),p=t!==G.Fragment?{...g,...h,ref:s}:{},{children:v}=e,T=G.useMemo(()=>lt(v)?v.get():v,[v]);return G.createElement(t,{...p,children:T})}function ry(t){const e=[{},{}];return t==null||t.values.forEach((s,o)=>{e[0][o]=s.get(),e[1][o]=s.getVelocity()}),e}function ud(t,e,s,o){if(typeof e=="function"){const[l,u]=ry(o);e=e(s!==void 0?s:t.custom,l,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,u]=ry(o);e=e(s!==void 0?s:t.custom,l,u)}return e}function Vl(t){return lt(t)?t.get():t}function u1({scrapeMotionValuesFromProps:t,createRenderState:e},s,o,l){return{latestValues:c1(s,o,l,t),renderState:e()}}function c1(t,e,s,o){const l={},u=o(t,{});for(const S in u)l[S]=Vl(u[S]);let{initial:c,animate:h}=t;const g=$l(t),p=PT(t);e&&p&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=s?s.initial===!1:!1;v=v||c===!1;const T=v?h:c;if(T&&typeof T!="boolean"&&!Wl(T)){const S=Array.isArray(T)?T:[T];for(let A=0;A<S.length;A++){const N=ud(t,S[A]);if(N){const{transitionEnd:R,transition:I,...P}=N;for(const k in P){let w=P[k];if(Array.isArray(w)){const Q=v?w.length-1:0;w=w[Q]}w!==null&&(l[k]=w)}for(const k in R)l[k]=R[k]}}}return l}const GT=t=>(e,s)=>{const o=G.useContext(jl),l=G.useContext(Xl),u=()=>u1(t,e,o,l);return s?u():na(u)};function cd(t,e,s){var u;const{style:o}=t,l={};for(const c in o)(lt(o[c])||e.style&&lt(e.style[c])||UT(c,t)||((u=s==null?void 0:s.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=o[c]);return l}const f1=GT({scrapeMotionValuesFromProps:cd,createRenderState:ld});function qT(t,e,s){const o=cd(t,e,s);for(const l in t)if(lt(t[l])||lt(e[l])){const u=Vs.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;o[u]=t[l]}return o}const d1=GT({scrapeMotionValuesFromProps:qT,createRenderState:kT}),h1=Symbol.for("motionComponentSymbol");function As(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function p1(t,e,s){return G.useCallback(o=>{o&&t.onMount&&t.onMount(o),e&&(o?e.mount(o):e.unmount()),s&&(typeof s=="function"?s(o):As(s)&&(s.current=o))},[e])}const fd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m1="framerAppearId",HT="data-"+fd(m1),zT=G.createContext({});function g1(t,e,s,o,l){var R,I;const{visualElement:u}=G.useContext(jl),c=G.useContext(DT),h=G.useContext(Xl),g=G.useContext(Zl).reducedMotion,p=G.useRef(null);o=o||c.renderer,!p.current&&o&&(p.current=o(t,{visualState:e,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const v=p.current,T=G.useContext(zT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&y1(p.current,s,l,T);const S=G.useRef(!1);G.useInsertionEffect(()=>{v&&S.current&&v.update(s,h)});const A=s[HT],N=G.useRef(!!A&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,A))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,A)));return Lf(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),G.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,A)}),N.current=!1),v.enteringChildren=void 0)}),v}function y1(t,e,s,o){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:FT(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&As(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:v,layoutScroll:g,layoutRoot:p})}function FT(t){if(t)return t.options.allowProjection!==!1?t.projection:FT(t.parent)}function Lc(t,{forwardMotionProps:e=!1}={},s,o){s&&O_(s);const l=rd(t)?d1:f1;function u(h,g){let p;const v={...G.useContext(Zl),...h,layoutId:v1(h)},{isStatic:T}=v,S=Q_(h),A=l(h,T);if(!T&&Uf){T1();const N=x1(v);p=N.MeasureLayout,S.visualElement=g1(t,A,v,o,N.ProjectionNode)}return x.jsxs(jl.Provider,{value:S,children:[p&&S.visualElement?x.jsx(p,{visualElement:S.visualElement,...v}):null,r1(t,h,p1(A,S.visualElement,g),A,T,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=G.forwardRef(u);return c[h1]=t,c}function v1({layoutId:t}){const e=G.useContext(Pf).id;return e&&t!==void 0?e+"-"+t:t}function T1(t,e){G.useContext(DT).strict}function x1(t){const{drag:e,layout:s}=Us;if(!e&&!s)return{};const o={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function S1(t,e){if(typeof Proxy>"u")return Lc;const s=new Map,o=(u,c)=>Lc(u,c,t,e),l=(u,c)=>o(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?o:(s.has(c)||s.set(c,Lc(c,void 0,t,e)),s.get(c))})}function OT({top:t,left:e,right:s,bottom:o}){return{x:{min:e,max:s},y:{min:t,max:o}}}function E1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function C1(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function Vc(t){return t===void 0||t===1}function hf({scale:t,scaleX:e,scaleY:s}){return!Vc(t)||!Vc(e)||!Vc(s)}function Ii(t){return hf(t)||YT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YT(t){return uy(t.x)||uy(t.y)}function uy(t){return t&&t!=="0%"}function Fl(t,e,s){const o=t-s,l=e*o;return s+l}function cy(t,e,s,o,l){return l!==void 0&&(t=Fl(t,l,o)),Fl(t,s,o)+e}function pf(t,e=0,s=1,o,l){t.min=cy(t.min,e,s,o,l),t.max=cy(t.max,e,s,o,l)}function JT(t,{x:e,y:s}){pf(t.x,e.translate,e.scale,e.originPoint),pf(t.y,s.translate,s.scale,s.originPoint)}const fy=.999999999999,dy=1.0000000000001;function A1(t,e,s,o=!1){const l=s.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=s[h],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ns(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,JT(t,c)),o&&Ii(u.latestValues)&&Ns(t,u.latestValues))}e.x<dy&&e.x>fy&&(e.x=1),e.y<dy&&e.y>fy&&(e.y=1)}function _s(t,e){t.min=t.min+e,t.max=t.max+e}function hy(t,e,s,o,l=.5){const u=ze(t.min,t.max,l);pf(t,e,s,u,o)}function Ns(t,e){hy(t.x,e.x,e.scaleX,e.scale,e.originX),hy(t.y,e.y,e.scaleY,e.scale,e.originY)}function KT(t,e){return OT(C1(t.getBoundingClientRect(),e))}function _1(t,e,s){const o=KT(t,s),{scroll:l}=e;return l&&(_s(o.x,l.offset.x),_s(o.y,l.offset.y)),o}const py=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ms=()=>({x:py(),y:py()}),my=()=>({min:0,max:0}),Ye=()=>({x:my(),y:my()}),mf={current:null},XT={current:!1};function N1(){if(XT.current=!0,!!Uf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mf.current=t.matches;t.addEventListener("change",e),e()}else mf.current=!1}const ea=new WeakMap;function M1(t,e,s){for(const o in e){const l=e[o],u=s[o];if(lt(l))t.addValue(o,l);else if(lt(u))t.addValue(o,ki(l,{owner:t}));else if(u!==l)if(t.hasValue(o)){const c=t.getValue(o);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=t.getStaticValue(o);t.addValue(o,ki(c!==void 0?c:l,{owner:t}))}}for(const o in s)e[o]===void 0&&t.removeValue(o);return e}const gy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QT{scrapeMotionValuesFromProps(e,s,o){return{}}constructor({parent:e,props:s,presenceContext:o,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=_t.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,qe.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=p,this.parent=e,this.props=s,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=$l(s),this.isVariantNode=PT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in T){const A=T[S];g[S]!==void 0&&lt(A)&&A.set(g[S])}}mount(e){var s;this.current=e,ea.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,l)=>this.bindToMotionValue(l,o)),XT.current||N1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mf.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=ks.has(e);o&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&qe.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Us){const s=Us[e];if(!s)continue;const{isEnabled:o,Feature:l}=s;if(!this.features[e]&&l&&o(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<gy.length;o++){const l=gy[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=M1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const o=this.values.get(e);s!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&s!==void 0&&(o=ki(s===null?void 0:s,{owner:this}),this.addValue(e,o)),o}readValue(e,s){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Uv(o)||Vv(o))?o=parseFloat(o):!k_(o)&&ri.test(s)&&(o=ET(e,s)),this.setBaseTarget(e,lt(o)?o.get():o)),lt(o)?o.get():o}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var u;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const c=ud(this.props,s,(u=this.presenceContext)==null?void 0:u.custom);c&&(o=c[e])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!lt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Gf),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){td.render(this.render)}}class ZT extends QT{constructor(){super(...arguments),this.KeyframeResolver=N_}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:o}){delete s[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function jT(t,{style:e,vars:s},o,l){const u=t.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,o);for(c in s)u.setProperty(c,s[c])}function b1(t){return window.getComputedStyle(t)}class WT extends ZT{constructor(){super(...arguments),this.type="html",this.renderInstance=jT}readValueFromInstance(e,s){var o;if(ks.has(s))return(o=this.projection)!=null&&o.isProjecting?af(s):FA(e,s);{const l=b1(e),u=(zf(s)?l.getPropertyValue(s):l[s])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:s}){return KT(e,s)}build(e,s,o){ad(e,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,s,o){return cd(e,s,o)}}const $T=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R1(t,e,s,o){jT(t,e,void 0,o);for(const l in e.attrs)t.setAttribute($T.has(l)?l:fd(l),e.attrs[l])}class ex extends ZT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ks.has(s)){const o=ST(s);return o&&o.default||0}return s=$T.has(s)?s:fd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,o){return qT(e,s,o)}build(e,s,o){VT(e,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,s,o,l){R1(e,s,o,l)}mount(e){this.isSVGTag=BT(e.tagName),super.mount(e)}}const w1=(t,e)=>rd(t)?new ex(e):new WT(e,{allowProjection:t!==G.Fragment});function Rs(t,e,s){const o=t.getProps();return ud(o,e,s!==void 0?s:o.custom,t)}const gf=t=>Array.isArray(t);function D1(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ki(s))}function I1(t){return gf(t)?t[t.length-1]||0:t}function P1(t,e){const s=Rs(t,e);let{transitionEnd:o={},transition:l={},...u}=s||{};u={...u,...o};for(const c in u){const h=I1(u[c]);D1(t,c,h)}}function U1(t){return!!(lt(t)&&t.add)}function yf(t,e){const s=t.getValue("willChange");if(U1(s))return s.add(e);if(!s&&Rn.WillChange){const o=new Rn.WillChange("auto");t.addValue("willChange",o),o.add(e)}}function tx(t){return t.props[HT]}const L1=t=>t!==null;function V1(t,{repeat:e,repeatType:s="loop"},o){const l=t.filter(L1),u=e&&s!=="loop"&&e%2===1?0:l.length-1;return l[u]}const k1={type:"spring",stiffness:500,damping:25,restSpeed:10},B1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),G1={type:"keyframes",duration:.8},q1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H1=(t,{keyframes:e})=>e.length>2?G1:ks.has(t)?t.startsWith("scale")?B1(e[1]):k1:q1;function z1({when:t,delay:e,delayChildren:s,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const dd=(t,e,s,o={},l,u)=>c=>{const h=$f(o,t)||{},g=h.delay||o.delay||0;let{elapsed:p=0}=o;p=p-nn(g);const v={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:l};z1(h)||Object.assign(v,H1(t,v)),v.duration&&(v.duration=nn(v.duration)),v.repeatDelay&&(v.repeatDelay=nn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(ff(v),v.delay===0&&(T=!0)),(Rn.instantAnimations||Rn.skipAnimations)&&(T=!0,ff(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,T&&!u&&e.get()!==void 0){const S=V1(v.keyframes,h);if(S!==void 0){qe.update(()=>{v.onUpdate(S),v.onComplete()});return}}return h.isSync?new Zf(v):new d_(v)};function F1({protectedKeys:t,needsAnimating:e},s){const o=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,o}function hd(t,e,{delay:s=0,transitionOverride:o,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;o&&(u=o);const g=[],p=l&&t.animationState&&t.animationState.getState()[l];for(const v in h){const T=t.getValue(v,t.latestValues[v]??null),S=h[v];if(S===void 0||p&&F1(p,v))continue;const A={delay:s,...$f(u||{},v)},N=T.get();if(N!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===N&&!A.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const P=tx(t);if(P){const k=window.MotionHandoffAnimation(P,v,qe);k!==null&&(A.startTime=k,R=!0)}}yf(t,v),T.start(dd(v,T,S,t.shouldReduceMotion&&vT.has(v)?{type:!1}:A,t,R));const I=T.animation;I&&g.push(I)}return c&&Promise.all(g).then(()=>{qe.update(()=>{c&&P1(t,c)})}),g}function nx(t,e,s,o=0,l=1){const u=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*o;return typeof s=="function"?s(u,c):l===1?u*o:h-u*o}function vf(t,e,s={}){var g;const o=Rs(t,e,s.type==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(l=s.transitionOverride);const u=o?()=>Promise.all(hd(t,o,s)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:S}=l;return O1(t,e,p,v,T,S,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(s.delay)])}function O1(t,e,s=0,o=0,l=0,u=1,c){const h=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),h.push(vf(g,e,{...c,delay:s+(typeof o=="function"?0:o)+nx(t.variantChildren,g,o,l,u)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(h)}function Y1(t,e,s={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const l=e.map(u=>vf(t,u,s));o=Promise.all(l)}else if(typeof e=="string")o=vf(t,e,s);else{const l=typeof e=="function"?Rs(t,e,s.custom):e;o=Promise.all(hd(t,l,s))}return o.then(()=>{t.notify("AnimationComplete",e)})}function ix(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let o=0;o<s;o++)if(e[o]!==t[o])return!1;return!0}const J1=od.length;function sx(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?sx(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<J1;s++){const o=od[s],l=t.props[o];(Wo(l)||l===!1)&&(e[o]=l)}return e}const K1=[...sd].reverse(),X1=sd.length;function Q1(t){return e=>Promise.all(e.map(({animation:s,options:o})=>Y1(t,s,o)))}function Z1(t){let e=Q1(t),s=yy(),o=!0;const l=g=>(p,v)=>{var S;const T=Rs(t,v,g==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(T){const{transition:A,transitionEnd:N,...R}=T;p={...p,...R,...N}}return p};function u(g){e=g(t)}function c(g){const{props:p}=t,v=sx(t.parent)||{},T=[],S=new Set;let A={},N=1/0;for(let I=0;I<X1;I++){const P=K1[I],k=s[P],w=p[P]!==void 0?p[P]:v[P],Q=Wo(w),q=P===g?k.isActive:null;q===!1&&(N=I);let X=w===v[P]&&w!==p[P]&&Q;if(X&&o&&t.manuallyAnimateOnMount&&(X=!1),k.protectedKeys={...A},!k.isActive&&q===null||!w&&!k.prevProp||Wl(w)||typeof w=="boolean")continue;const z=j1(k.prevProp,w);let W=z||P===g&&k.isActive&&!X&&Q||I>N&&Q,j=!1;const ae=Array.isArray(w)?w:[w];let ce=ae.reduce(l(P),{});q===!1&&(ce={});const{prevResolvedValues:pe={}}=k,Ue={...pe,...ce},st=O=>{W=!0,S.has(O)&&(j=!0,S.delete(O)),k.needsAnimating[O]=!0;const Z=t.getValue(O);Z&&(Z.liveStyle=!1)};for(const O in Ue){const Z=ce[O],re=pe[O];if(A.hasOwnProperty(O))continue;let he=!1;gf(Z)&&gf(re)?he=!ix(Z,re):he=Z!==re,he?Z!=null?st(O):S.add(O):Z!==void 0&&S.has(O)?st(O):k.protectedKeys[O]=!0}k.prevProp=w,k.prevResolvedValues=ce,k.isActive&&(A={...A,...ce}),o&&t.blockInitialAnimation&&(W=!1);const Ke=X&&z;W&&(!Ke||j)&&T.push(...ae.map(O=>{const Z={type:P};if(typeof O=="string"&&o&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,he=Rs(re,O);if(re.enteringChildren&&he){const{delayChildren:M}=he.transition||{};Z.delay=nx(re.enteringChildren,t,M)}}return{animation:O,options:Z}}))}if(S.size){const I={};if(typeof p.initial!="boolean"){const P=Rs(t,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(I.transition=P.transition)}S.forEach(P=>{const k=t.getBaseTarget(P),w=t.getValue(P);w&&(w.liveStyle=!0),I[P]=k??null}),T.push({animation:I})}let R=!!T.length;return o&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),o=!1,R?e(T):Promise.resolve()}function h(g,p){var T;if(s[g].isActive===p)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(S=>{var A;return(A=S.animationState)==null?void 0:A.setActive(g,p)}),s[g].isActive=p;const v=c(g);for(const S in s)s[S].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=yy()}}}function j1(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ix(e,t):!1}function Di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yy(){return{animate:Di(!0),whileInView:Di(),whileHover:Di(),whileTap:Di(),whileDrag:Di(),whileFocus:Di(),exit:Di()}}class ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W1 extends ui{constructor(e){super(e),e.animationState||(e.animationState=Z1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $1=0;class eN extends ui{constructor(){super(...arguments),this.id=$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e);s&&!e&&l.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tN={animation:{Feature:W1},exit:{Feature:eN}};function ta(t,e,s,o={passive:!0}){return t.addEventListener(e,s,o),()=>t.removeEventListener(e,s)}function aa(t){return{point:{x:t.pageX,y:t.pageY}}}const nN=t=>e=>nd(e)&&t(e,aa(e));function Yo(t,e,s,o){return ta(t,e,nN(s),o)}const ox=1e-4,iN=1-ox,sN=1+ox,ax=.01,oN=0-ax,aN=0+ax;function yt(t){return t.max-t.min}function lN(t,e,s){return Math.abs(t-e)<=s}function vy(t,e,s,o=.5){t.origin=o,t.originPoint=ze(e.min,e.max,t.origin),t.scale=yt(s)/yt(e),t.translate=ze(s.min,s.max,t.origin)-t.originPoint,(t.scale>=iN&&t.scale<=sN||isNaN(t.scale))&&(t.scale=1),(t.translate>=oN&&t.translate<=aN||isNaN(t.translate))&&(t.translate=0)}function Jo(t,e,s,o){vy(t.x,e.x,s.x,o?o.originX:void 0),vy(t.y,e.y,s.y,o?o.originY:void 0)}function Ty(t,e,s){t.min=s.min+e.min,t.max=t.min+yt(e)}function rN(t,e,s){Ty(t.x,e.x,s.x),Ty(t.y,e.y,s.y)}function xy(t,e,s){t.min=e.min-s.min,t.max=t.min+yt(e)}function Ko(t,e,s){xy(t.x,e.x,s.x),xy(t.y,e.y,s.y)}function Kt(t){return[t("x"),t("y")]}const lx=({current:t})=>t?t.ownerDocument.defaultView:null,Sy=(t,e)=>Math.abs(t-e);function uN(t,e){const s=Sy(t.x,e.x),o=Sy(t.y,e.y);return Math.sqrt(s**2+o**2)}class rx{constructor(e,s,{transformPagePoint:o,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Bc(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,N=uN(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!N)return;const{point:R}=S,{timestamp:I}=ht;this.history.push({...R,timestamp:I});const{onStart:P,onMove:k}=this.handlers;A||(P&&P(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,S)},this.handlePointerMove=(S,A)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kc(A,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(S,A)=>{this.end();const{onEnd:N,onSessionEnd:R,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Bc(S.type==="pointercancel"?this.lastMoveEventInfo:kc(A,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,P),R&&R(S,P)},!nd(e))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=c,this.contextWindow=l||window;const h=aa(e),g=kc(h,this.transformPagePoint),{point:p}=g,{timestamp:v}=ht;this.history=[{...p,timestamp:v}];const{onSessionStart:T}=s;T&&T(e,Bc(g,this.history)),this.removeListeners=ia(Yo(this.contextWindow,"pointermove",this.handlePointerMove),Yo(this.contextWindow,"pointerup",this.handlePointerUp),Yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function kc(t,e){return e?{point:e(t.point)}:t}function Ey(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bc({point:t},e){return{point:t,delta:Ey(t,ux(e)),offset:Ey(t,cN(e)),velocity:fN(e,.1)}}function cN(t){return t[0]}function ux(t){return t[t.length-1]}function fN(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,o=null;const l=ux(t);for(;s>=0&&(o=t[s],!(l.timestamp-o.timestamp>nn(e)));)s--;if(!o)return{x:0,y:0};const u=Xt(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function dN(t,{min:e,max:s},o){return e!==void 0&&t<e?t=o?ze(e,t,o.min):Math.max(t,e):s!==void 0&&t>s&&(t=o?ze(s,t,o.max):Math.min(t,s)),t}function Cy(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function hN(t,{top:e,left:s,bottom:o,right:l}){return{x:Cy(t.x,s,l),y:Cy(t.y,e,o)}}function Ay(t,e){let s=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,o]=[o,s]),{min:s,max:o}}function pN(t,e){return{x:Ay(t.x,e.x),y:Ay(t.y,e.y)}}function mN(t,e){let s=.5;const o=yt(t),l=yt(e);return l>o?s=Ps(e.min,e.max-o,t.min):o>l&&(s=Ps(t.min,t.max-l,e.min)),bn(0,1,s)}function gN(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Tf=.35;function yN(t=Tf){return t===!1?t=0:t===!0&&(t=Tf),{x:_y(t,"left","right"),y:_y(t,"top","bottom")}}function _y(t,e,s){return{min:Ny(t,e),max:Ny(t,s)}}function Ny(t,e){return typeof t=="number"?t:t[e]||0}const vN=new WeakMap;class TN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(aa(T).point)},c=(T,S)=>{const{drag:A,dragPropagation:N,onDragStart:R}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R_(A),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kt(P=>{let k=this.getAxisMotionValue(P).get()||0;if(un.test(k)){const{projection:w}=this.visualElement;if(w&&w.layout){const Q=w.layout.layoutBox[P];Q&&(k=yt(Q)*(parseFloat(k)/100))}}this.originPoint[P]=k}),R&&qe.postRender(()=>R(T,S)),yf(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:R,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:P}=S;if(N&&this.currentDirection===null){this.currentDirection=xN(P),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",S.point,P),this.updateAxis("y",S.point,P),this.visualElement.render(),I&&I(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Kt(T=>{var S;return this.getAnimationState(T)==="paused"&&((S=this.getAxisMotionValue(T).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new rx(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:o,contextWindow:lx(this.visualElement)})}stop(e,s){const o=e||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!o)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&qe.postRender(()=>h(o,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,o){const{drag:l}=this.getProps();if(!o||!Dl(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(c=dN(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&As(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=hN(o.layoutBox,e):this.constraints=!1,this.elastic=yN(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Kt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=gN(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!As(e))return!1;const o=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=_1(o,l.root,this.visualElement.getTransformPagePoint());let c=pN(l.layout.layoutBox,u);if(s){const h=s(E1(c));this.hasMutatedConstraints=!!h,h&&(c=OT(h))}return c}startAnimation(e){const{drag:s,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},p=Kt(v=>{if(!Dl(v,s,this.currentDirection))return;let T=g&&g[v]||{};c&&(T={min:0,max:0});const S=l?200:1e6,A=l?40:1e7,N={type:"inertia",velocity:o?e[v]:0,bounceStiffness:S,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const o=this.getAxisMotionValue(e);return yf(this.visualElement,e),o.start(dd(e,o,0,s,this.visualElement,!1))}stopAnimation(){Kt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kt(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),l=o[s];return l||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Kt(s=>{const{drag:o}=this.getProps();if(!Dl(s,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[s];u.set(e[s]-ze(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!As(s)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Kt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const g=h.get();l[c]=mN({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Kt(c=>{if(!Dl(c,e,null))return;const h=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];h.set(ze(g,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;vN.set(this.visualElement,this);const e=this.visualElement.current,s=Yo(e,"pointerdown",g=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();As(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),qe.read(o);const c=ta(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kt(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),s(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=Tf,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Dl(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function xN(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class SN extends ui{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new TN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const My=t=>(e,s)=>{t&&qe.postRender(()=>t(e,s))};class EN extends ui{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new rx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:My(e),onStart:My(s),onMove:o,onEnd:(u,c)=>{delete this.session,l&&qe.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function by(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ko={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const s=by(t,e.target.x),o=by(t,e.target.y);return`${s}% ${o}%`}},CN={correct:(t,{treeScale:e,projectionDelta:s})=>{const o=t,l=ri.parse(t);if(l.length>5)return o;const u=ri.createTransformer(t),c=typeof l[0]!="number"?1:0,h=s.x.scale*e.x,g=s.y.scale*e.y;l[0+c]/=h,l[1+c]/=g;const p=ze(h,g,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}};let Gc=!1;class AN extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=e;Z_(_N),u&&(s.group&&s.group.add(u),o&&o.register&&l&&o.register(u),Gc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:o,drag:l,isPresent:u}=this.props,{projection:c}=o;return c&&(c.isPresent=u,Gc=!0,l||e.layoutDependency!==s||s===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),td.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:l}=e;Gc=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cx(t){const[e,s]=wT(),o=G.useContext(Pf);return x.jsx(AN,{...t,layoutGroup:o,switchLayoutGroup:G.useContext(zT),isPresent:e,safeToRemove:s})}const _N={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:CN};function fx(t,e,s){const o=lt(t)?t:ki(t);return o.start(dd("",o,e,s)),o.animation}const NN=(t,e)=>t.depth-e.depth;class MN{constructor(){this.children=[],this.isDirty=!1}add(e){Vf(this.children,e),this.isDirty=!0}remove(e){Ql(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NN),this.isDirty=!1,this.children.forEach(e)}}function bN(t,e){const s=_t.now(),o=({timestamp:l})=>{const u=l-s;u>=e&&(wn(o),t(u-e))};return qe.setup(o,!0),()=>wn(o)}const dx=["TopLeft","TopRight","BottomLeft","BottomRight"],RN=dx.length,Ry=t=>typeof t=="string"?parseFloat(t):t,wy=t=>typeof t=="number"||de.test(t);function wN(t,e,s,o,l,u){l?(t.opacity=ze(0,s.opacity??1,DN(o)),t.opacityExit=ze(e.opacity??1,0,IN(o))):u&&(t.opacity=ze(e.opacity??1,s.opacity??1,o));for(let c=0;c<RN;c++){const h=`border${dx[c]}Radius`;let g=Dy(e,h),p=Dy(s,h);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||wy(g)===wy(p)?(t[h]=Math.max(ze(Ry(g),Ry(p),o),0),(un.test(p)||un.test(g))&&(t[h]+="%")):t[h]=p}(e.rotate||s.rotate)&&(t.rotate=ze(e.rotate||0,s.rotate||0,o))}function Dy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DN=hx(0,.5,Ov),IN=hx(.5,.95,Qt);function hx(t,e,s){return o=>o<t?0:o>e?1:s(Ps(t,e,o))}function Iy(t,e){t.min=e.min,t.max=e.max}function Jt(t,e){Iy(t.x,e.x),Iy(t.y,e.y)}function Py(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uy(t,e,s,o,l){return t-=e,t=Fl(t,1/s,o),l!==void 0&&(t=Fl(t,1/l,o)),t}function PN(t,e=0,s=1,o=.5,l,u=t,c=t){if(un.test(e)&&(e=parseFloat(e),e=ze(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=ze(u.min,u.max,o);t===u&&(h-=e),t.min=Uy(t.min,e,s,h,l),t.max=Uy(t.max,e,s,h,l)}function Ly(t,e,[s,o,l],u,c){PN(t,e[s],e[o],e[l],e.scale,u,c)}const UN=["x","scaleX","originX"],LN=["y","scaleY","originY"];function Vy(t,e,s,o){Ly(t.x,e,UN,s?s.x:void 0,o?o.x:void 0),Ly(t.y,e,LN,s?s.y:void 0,o?o.y:void 0)}function ky(t){return t.translate===0&&t.scale===1}function px(t){return ky(t.x)&&ky(t.y)}function By(t,e){return t.min===e.min&&t.max===e.max}function VN(t,e){return By(t.x,e.x)&&By(t.y,e.y)}function Gy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mx(t,e){return Gy(t.x,e.x)&&Gy(t.y,e.y)}function qy(t){return yt(t.x)/yt(t.y)}function Hy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kN{constructor(){this.members=[]}add(e){Vf(this.members,e),e.scheduleRender()}remove(e){if(Ql(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(l=>e===l);if(s===0)return!1;let o;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,s){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,s&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:o}=e;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BN(t,e,s){let o="";const l=t.x.translate/e.x,u=t.y.translate/e.y,c=(s==null?void 0:s.z)||0;if((l||u||c)&&(o=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:v,rotateX:T,rotateY:S,skewX:A,skewY:N}=s;p&&(o=`perspective(${p}px) ${o}`),v&&(o+=`rotate(${v}deg) `),T&&(o+=`rotateX(${T}deg) `),S&&(o+=`rotateY(${S}deg) `),A&&(o+=`skewX(${A}deg) `),N&&(o+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,g=t.y.scale*e.y;return(h!==1||g!==1)&&(o+=`scale(${h}, ${g})`),o||"none"}const qc=["","X","Y","Z"],GN=1e3;let qN=0;function Hc(t,e,s,o){const{latestValues:l}=e;l[t]&&(s[t]=l[t],e.setStaticValue(t,0),o&&(o[t]=0))}function gx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=tx(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",qe,!(l||u))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&gx(o)}function yx({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=qN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FN),this.nodes.forEach(KN),this.nodes.forEach(XN),this.nodes.forEach(ON)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new MN)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gf),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const g=this.eventHandlers.get(c);g&&g.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=id(c)&&!RT(c),this.instance=c;const{layoutId:h,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{T=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==T&&(T=A,this.root.updateBlockedByResize=!0,v&&v(),v=bN(S,250),kl.hasAnimatedSinceResize&&(kl.hasAnimatedSinceResize=!1,this.nodes.forEach(Oy)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||$N,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=p.getProps(),P=!this.targetLayout||!mx(this.targetLayout,A),k=!T&&S;if(this.options.layoutRoot||this.resumeFrom||k||T&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...$f(N,"layout"),onPlay:R,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(v,k)}else T||Oy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JN),this.nodes.forEach(HN),this.nodes.forEach(zN)):this.nodes.forEach(Fy),this.clearAllSnapshots();const h=_t.now();ht.delta=bn(0,1e3/60,h-ht.timestamp),ht.timestamp=h,ht.isProcessing=!0,Rc.update.process(ht),Rc.preRender.process(ht),Rc.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,td.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YN),this.sharedNodes.forEach(ZN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yt(this.snapshot.measuredBox.x)&&!yt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!px(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ii(this.latestValues)||v)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return c&&(g=this.removeTransform(g)),eM(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ye();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(tM))){const{scroll:v}=this.root;v&&(_s(h.x,v.offset.x),_s(h.y,v.offset.y))}return h}removeElementScroll(c){var g;const h=Ye();if(Jt(h,c),(g=this.scroll)!=null&&g.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:S}=v;v!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Jt(h,c),_s(h.x,T.offset.x),_s(h.y,T.offset.y))}return h}applyTransform(c,h=!1){const g=Ye();Jt(g,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ns(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ii(v.latestValues)&&Ns(g,v.latestValues)}return Ii(this.latestValues)&&Ns(g,this.latestValues),g}removeTransform(c){const h=Ye();Jt(h,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Ii(p.latestValues))continue;hf(p.latestValues)&&p.updateSnapshot();const v=Ye(),T=p.measurePageBox();Jt(v,T),Vy(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ii(this.latestValues)&&Vy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ko(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),JT(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ko(this.relativeTargetOrigin,this.target,A.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hf(this.parent.latestValues)||YT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Jt(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;A1(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ye());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Py(this.prevProjectionDelta.x,this.projectionDelta.x),Py(this.prevProjectionDelta.y,this.projectionDelta.y)),Jo(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Hy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ms(),this.projectionDelta=Ms(),this.projectionDeltaWithTransform=Ms()}setAnimationOrigin(c,h=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},T=Ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Ye(),A=g?g.source:void 0,N=this.layout?this.layout.source:void 0,R=A!==N,I=this.getStack(),P=!I||I.members.length<=1,k=!!(R&&!P&&this.options.crossfade===!0&&!this.path.some(WN));this.animationProgress=0;let w;this.mixTargetDelta=Q=>{const q=Q/1e3;Yy(T.x,c.x,q),Yy(T.y,c.y,q),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ko(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jN(this.relativeTarget,this.relativeTargetOrigin,S,q),w&&VN(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ye()),Jt(w,this.relativeTarget)),R&&(this.animationValues=v,wN(v,p,this.latestValues,q,k,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,g,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{kl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ki(0)),this.currentAnimation=fx(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:g,layout:p,latestValues:v}=c;if(!(!h||!g||!p)){if(this!==c&&this.layout&&p&&vx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Ye();const T=yt(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const S=yt(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}Jt(h,g),Ns(h,v),Jo(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kN),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const p={};g.z&&Hc("z",c,p,this.animationValues);for(let v=0;v<qc.length;v++)Hc(`rotate${qc[v]}`,c,p,this.animationValues),Hc(`skew${qc[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Vl(h==null?void 0:h.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Vl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ii(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=BN(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),c.transform=T;const{x:S,y:A}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in $o){if(v[N]===void 0)continue;const{correct:R,applyTo:I,isCSSVariable:P}=$o[N],k=T==="none"?v[N]:R(v[N],p);if(I){const w=I.length;for(let Q=0;Q<w;Q++)c[I[Q]]=k}else P?this.options.visualElement.renderState.vars[N]=k:c[N]=k}this.options.layoutId&&(c.pointerEvents=p===this?Vl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(zy),this.root.sharedNodes.clear()}}}function HN(t){t.updateLayout()}function zN(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:l}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?Kt(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],A=yt(S);S.min=o[T].min,S.max=S.min+A}):vx(u,e.layoutBox,o)&&Kt(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],A=yt(o[T]);S.max=S.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+A)});const h=Ms();Jo(h,o,e.layoutBox);const g=Ms();c?Jo(g,t.applyTransform(l,!0),e.measuredBox):Jo(g,o,e.layoutBox);const p=!px(h);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:A}=T;if(S&&A){const N=Ye();Ko(N,e.layoutBox,S.layoutBox);const R=Ye();Ko(R,o,A.layoutBox),mx(N,R)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=N,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:g,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function FN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ON(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YN(t){t.clearSnapshot()}function zy(t){t.clearMeasurements()}function Fy(t){t.isLayoutDirty=!1}function JN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Oy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KN(t){t.resolveTargetDelta()}function XN(t){t.calcProjection()}function QN(t){t.resetSkewAndRotation()}function ZN(t){t.removeLeadSnapshot()}function Yy(t,e,s){t.translate=ze(e.translate,0,s),t.scale=ze(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Jy(t,e,s,o){t.min=ze(e.min,s.min,o),t.max=ze(e.max,s.max,o)}function jN(t,e,s,o){Jy(t.x,e.x,s.x,o),Jy(t.y,e.y,s.y,o)}function WN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $N={duration:.45,ease:[.4,0,.1,1]},Ky=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xy=Ky("applewebkit/")&&!Ky("chrome/")?Math.round:Qt;function Qy(t){t.min=Xy(t.min),t.max=Xy(t.max)}function eM(t){Qy(t.x),Qy(t.y)}function vx(t,e,s){return t==="position"||t==="preserve-aspect"&&!lN(qy(e),qy(s),.2)}function tM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nM=yx({attachResizeListener:(t,e)=>ta(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zc={current:void 0},Tx=yx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zc.current){const t=new nM({});t.mount(window),t.setOptions({layoutScroll:!0}),zc.current=t}return zc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iM={pan:{Feature:EN},drag:{Feature:SN,ProjectionNode:Tx,MeasureLayout:cx}};function Zy(t,e,s){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=o[l];u&&qe.postRender(()=>u(e,aa(e)))}class sM extends ui{mount(){const{current:e}=this.node;e&&(this.unmount=w_(e,(s,o)=>(Zy(this.node,o,"Start"),l=>Zy(this.node,l,"End"))))}unmount(){}}class oM extends ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(ta(this.node.current,"focus",()=>this.onFocus()),ta(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jy(t,e,s){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=o[l];u&&qe.postRender(()=>u(e,aa(e)))}class aM extends ui{mount(){const{current:e}=this.node;e&&(this.unmount=U_(e,(s,o)=>(jy(this.node,o,"Start"),(l,{success:u})=>jy(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xf=new WeakMap,Fc=new WeakMap,lM=t=>{const e=xf.get(t.target);e&&e(t)},rM=t=>{t.forEach(lM)};function uM({root:t,...e}){const s=t||document;Fc.has(s)||Fc.set(s,{});const o=Fc.get(s),l=JSON.stringify(e);return o[l]||(o[l]=new IntersectionObserver(rM,{root:t,...e})),o[l]}function cM(t,e,s){const o=uM(e);return xf.set(t,s),o.observe(t),()=>{xf.delete(t),o.unobserve(t)}}const fM={some:0,all:1};class dM extends ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:o,amount:l="some",once:u}=e,c={root:s?s.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:fM[l]},h=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=p?v:T;S&&S(g)};return cM(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(hM(e,s))&&this.startObserver()}unmount(){}}function hM({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const pM={inView:{Feature:dM},tap:{Feature:aM},focus:{Feature:oM},hover:{Feature:sM}},mM={layout:{ProjectionNode:Tx,MeasureLayout:cx}},gM={...tN,...pM,...iM,...mM},fe=S1(gM,w1);function xx(t){const e=na(()=>ki(t)),{isStatic:s}=G.useContext(Zl);if(s){const[,o]=G.useState(t);G.useEffect(()=>e.on("change",o),[])}return e}function Sx(t,e){const s=xx(e()),o=()=>s.set(e());return o(),Lf(()=>{const l=()=>qe.preRender(o,!1,!0),u=t.map(c=>c.on("change",l));return()=>{u.forEach(c=>c()),wn(o)}}),s}function yM(t){Oo.current=[],t();const e=Sx(Oo.current,t);return Oo.current=void 0,e}function vM(t,e,s,o){if(typeof t=="function")return yM(t);const l=typeof e=="function"?e:L_(e,s,o);return Array.isArray(t)?Wy(t,l):Wy([t],([u])=>l(u))}function Wy(t,e){const s=na(()=>[]);return Sx(t,()=>{s.length=0;const o=t.length;for(let l=0;l<o;l++)s[l]=t[l].get();return e(s)})}function pd(t){return typeof t=="object"&&!Array.isArray(t)}function Ex(t,e,s,o){return typeof t=="string"&&pd(e)?CT(t,s,o):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function TM(t,e,s){return t*(e+1)}function $y(t,e,s,o){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?s:e.startsWith("<")?Math.max(0,s+parseFloat(e.slice(1))):o.get(e)??t}function xM(t,e,s){for(let o=0;o<t.length;o++){const l=t[o];l.at>e&&l.at<s&&(Ql(t,l),o--)}}function SM(t,e,s,o,l,u){xM(t,l,u);for(let c=0;c<e.length;c++)t.push({value:e[c],at:ze(l,u,o[c]),easing:Xv(s,c)})}function EM(t,e){for(let s=0;s<t.length;s++)t[s]=t[s]/(e+1)}function CM(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const AM="easeInOut";function _M(t,{defaultTransition:e={},...s}={},o,l){const u=e.duration||.3,c=new Map,h=new Map,g={},p=new Map;let v=0,T=0,S=0;for(let A=0;A<t.length;A++){const N=t[A];if(typeof N=="string"){p.set(N,T);continue}else if(!Array.isArray(N)){p.set(N.name,$y(T,N.at,v,p));continue}let[R,I,P={}]=N;P.at!==void 0&&(T=$y(T,P.at,v,p));let k=0;const w=(Q,q,X,z=0,W=0)=>{const j=NM(Q),{delay:ae=0,times:ce=cT(j),type:pe="keyframes",repeat:Ue,repeatType:st,repeatDelay:Ke=0,...H}=q;let{ease:O=e.ease||"easeOut",duration:Z}=q;const re=typeof ae=="function"?ae(z,W):ae,he=j.length,M=Wf(pe)?pe:l==null?void 0:l[pe||"keyframes"];if(he<=2&&M){let se=100;if(he===2&&RM(j)){const Xe=j[1]-j[0];se=Math.abs(Xe)}const ge={...H};Z!==void 0&&(ge.duration=nn(Z));const Ce=aT(ge,se,M);O=Ce.ease,Z=Ce.duration}Z??(Z=u);const F=T+re;ce.length===1&&ce[0]===0&&(ce[1]=1);const te=ce.length-j.length;if(te>0&&uT(ce,te),j.length===1&&j.unshift(null),Ue){Z=TM(Z,Ue);const se=[...j],ge=[...ce];O=Array.isArray(O)?[...O]:[O];const Ce=[...O];for(let Xe=0;Xe<Ue;Xe++){j.push(...se);for(let Le=0;Le<se.length;Le++)ce.push(ge[Le]+(Xe+1)),O.push(Le===0?"linear":Xv(Ce,Le-1))}EM(ce,Ue)}const ee=F+Z;SM(X,j,O,ce,F,ee),k=Math.max(re+Z,k),S=Math.max(ee,S)};if(lt(R)){const Q=e0(R,h);w(I,P,t0("default",Q))}else{const Q=Ex(R,I,o,g),q=Q.length;for(let X=0;X<q;X++){I=I,P=P;const z=Q[X],W=e0(z,h);for(const j in I)w(I[j],MM(P,j),t0(j,W),X,q)}}v=T,T+=k}return h.forEach((A,N)=>{for(const R in A){const I=A[R];I.sort(CM);const P=[],k=[],w=[];for(let q=0;q<I.length;q++){const{at:X,value:z,easing:W}=I[q];P.push(z),k.push(Ps(0,S,X)),w.push(W||"easeOut")}k[0]!==0&&(k.unshift(0),P.unshift(P[0]),w.unshift(AM)),k[k.length-1]!==1&&(k.push(1),P.push(null)),c.has(N)||c.set(N,{keyframes:{},transition:{}});const Q=c.get(N);Q.keyframes[R]=P,Q.transition[R]={...e,duration:S,ease:w,times:k,...s}}}),c}function e0(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function t0(t,e){return e[t]||(e[t]=[]),e[t]}function NM(t){return Array.isArray(t)?t:[t]}function MM(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const bM=t=>typeof t=="number",RM=t=>t.every(bM);function wM(t,e){return t in e}class DM extends QT{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,s){if(wM(s,e)){const o=e[s];if(typeof o=="string"||typeof o=="number")return o}}getBaseTargetFromProps(){}removeValueFromRenderState(e,s){delete s.output[e]}measureInstanceViewportBox(){return Ye()}build(e,s){Object.assign(e.output,s)}renderInstance(e,{output:s}){Object.assign(e,s)}sortInstanceNodePosition(){return 0}}function IM(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},s=id(t)&&!RT(t)?new ex(e):new WT(e);s.mount(t),ea.set(t,s)}function PM(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},s=new DM(e);s.mount(t),ea.set(t,s)}function UM(t,e){return lt(t)||typeof t=="number"||typeof t=="string"&&!pd(e)}function Cx(t,e,s,o){const l=[];if(UM(t,e))l.push(fx(t,pd(e)&&e.default||e,s&&(s.default||s)));else{const u=Ex(t,e,o),c=u.length;for(let h=0;h<c;h++){const g=u[h],p=g instanceof Element?IM:PM;ea.has(g)||p(g);const v=ea.get(g),T={...s};"delay"in T&&typeof T.delay=="function"&&(T.delay=T.delay(h,c)),l.push(...hd(v,{...e,transition:T},{}))}}return l}function LM(t,e,s){const o=[];return _M(t,e,s,{spring:jo}).forEach(({keyframes:u,transition:c},h)=>{o.push(...Cx(h,u,c))}),o}function VM(t){return Array.isArray(t)&&t.some(Array.isArray)}function kM(t){function e(s,o,l){let u=[],c;if(VM(s))u=LM(s,o,t);else{const{onComplete:g,...p}=l||{};typeof g=="function"&&(c=g),u=Cx(s,o,p,t)}const h=new p_(u);return c&&h.finished.then(c),h}return e}const BM=kM();async function GM(t){var u;let e=window.pdfjsLib||window.pdfjsDistBuildPdf;if(!e)try{await new Promise((c,h)=>{const g=document.createElement("script");g.src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js",g.onload=()=>c(),g.onerror=h,document.head.appendChild(g)}),e=window.pdfjsLib||window.pdfjsDistBuildPdf;try{e.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js"}catch{}}catch{return await t.arrayBuffer(),""}const s=await t.arrayBuffer(),o=await e.getDocument({data:s}).promise;let l="";for(let c=1;c<=o.numPages;c++){const p=(await(await o.getPage(c)).getTextContent()).items.map(v=>v.str).join(" ");l+=`
`+p}if((l.trim().length||0)<120)try{let c=window.Tesseract;c||(await new Promise((p,v)=>{const T=document.createElement("script");T.src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js",T.onload=()=>p(),T.onerror=v,document.head.appendChild(T)}),c=window.Tesseract);let h="";const g=Math.min(2,o.numPages);for(let p=1;p<=g;p++){const v=await o.getPage(p),T=v.getViewport({scale:2}),S=document.createElement("canvas"),A=S.getContext("2d");if(!A)continue;S.width=T.width,S.height=T.height,await v.render({canvasContext:A,viewport:T}).promise;const N=S.toDataURL("image/png"),R=await window.Tesseract.recognize(N,"spa");h+=`
`+(((u=R==null?void 0:R.data)==null?void 0:u.text)||"")}h.trim().length>l.trim().length&&(l=h)}catch(c){console.warn("OCR fallback not available",c)}return l}const qM=["Repsol","Endesa","Iberdrola","Naturgy","TotalEnergies","Holaluz","Acciona","EDP","Octopus","Baser","CHC","Factorenergia","Lucera"],HM=t=>(e,...s)=>new RegExp(String.raw(e,...s),t),la=HM("i"),zM=la`(?:Periodo(?:\s+de\s+Facturaci[o]n)?|Periodo)[:\s]*(?:del\s*)?([0-3]?\d[\/.\-][01]?\d[\/.\-](?:\d{2}|\d{4}))\s*(?:a|al||-)\s*([0-3]?\d[\/.\-][01]?\d[\/.\-](?:\d{2}|\d{4}))`,FM=la`(IMPORTE\s+A\s+PAGAR|Importe\s+a\s+pagar|Total\s+(?:importe\s+)?a\s+pagar)[^\d]*(\d+[\.,]?\d*)\s*?`,OM=la`(Total\s+factura|Total\s+importe\s+factura)[^\d]*(\d+[\.,]?\d*)\s*`,YM=new RegExp("(Total\\s+energ[i]a|Energ[i]a\\s+total)[^\\d]*(\\d+[\\.,]?\\d*)\\s*","i"),JM=la`(Consumo\s+(?:total|en\s+este\s+periodo|del\s+periodo)|Energ[i]a\s+(?:consumida|facturada))[^\d]*(\d+[\.,]?\d*)\s*kWh`,tn=t=>t?Number(t.replace(/\./g,"").replace(/\s/g,"").replace(",",".")):void 0,KM=(t,e,s=240)=>t.slice(Math.max(0,e-s),Math.min(t.length,e+s));function XM(t){return qM.find(e=>new RegExp(e,"i").test(t))}function QM(t){var u,c,h;const e=t.toLowerCase().indexOf("cups");if(e>=0){const p=(u=KM(t,e,160).match(new RegExp("ES[0-9]{2}[0-9A-Z]{16,22}","i")))==null?void 0:u[0];if(p)return p.toUpperCase()}const s=(c=t.match(new RegExp("cups=\\s*(ES[0-9]{2}[0-9A-Z]{16,22})","i")))==null?void 0:c[1];if(s)return s.toUpperCase();const l=(h=t.replace(/[\s-]/g,"").match(new RegExp("ES[0-9]{2}[0-9A-Z]{16,22}","i")))==null?void 0:h[0];return l?l.toUpperCase():void 0}function ZM(t){let e=t.match(zM);if(e){const[,s,o]=e;return{from:s,to:o}}return{}}function Ax(t){var u,c,h;const e={},s=(u=t.match(/P1[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh|Punta[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh/i))==null?void 0:u[1],o=(c=t.match(/P2[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh|Llano[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh/i))==null?void 0:c[1],l=(h=t.match(/P3[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh|Valle[^\d]{0,60}(\d+[\.,]?\d*)\s*kWh/i))==null?void 0:h[1];return s&&(e.p1=tn(s)),o&&(e.p2=tn(o)),l&&(e.p3=tn(l)),e}function jM(t){var u,c,h,g;const s=tn((u=t.match(YM))==null?void 0:u[2])??tn((c=t.match(OM))==null?void 0:c[2]),o=tn((h=t.match(FM))==null?void 0:h[2]);let l=tn((g=t.match(JM))==null?void 0:g[2]);if(l==null){const p=Ax(t),T=[p.p1,p.p2,p.p3].filter(S=>typeof S=="number"&&!Number.isNaN(S)).reduce((S,A)=>S+A,0);T>0&&(l=Number(T.toFixed(3)))}return{totalAmountEur:o,grossAmountEur:s,amountDueEur:o,totalKwh:l}}function WM(t){const e=la`(Servicios|Alquiler de Equipos|Endesa X)[^\n]{0,140}?(\d+[\.,]?\d*)\s*`,s=t.match(e);if(s!=null&&s[2])return tn(s[2])}function $M(t){const e=t.match(/Bono\s+Social[^-\d\n]*(-?\d+[\.,]\d*)/i);return e!=null&&e[1]?Math.abs(tn(e[1])??0):void 0}function eb(t){const e=t.match(/(?:Compensaci[o]n\s+simplificada\s+de\s+excedentes|Compensaci[o]n\s+excedentes)[^-\d\n]*(-?\d+[\.,]\d*)/i);return e!=null&&e[1]?Math.abs(tn(e[1])??0):void 0}function tb(t){const e=t.match(/Bater[i]a\s+Virtual[^-\d\n]*(-?\d+[\.,]\d*)/i);return e!=null&&e[1]?Math.abs(tn(e[1])??0):void 0}function nb(t){var o;if(/pvpc/i.test(t))return"PVPC";const e=t.match(/(?:Tarifa|Peaje\s+de\s+acceso|Contrato\s+de\s+acceso)\s*:\s*([^\n\r]+)/i);if(e!=null&&e[1]){const l=e[1].trim();if(/2\.0\s?TD/i.test(l))return"2.0TD";if(/(fija|plana|estable|nica)/i.test(l))return"Tarifa Fija";if(l.length>2)return l.substring(0,30)}if(/nica|Fija|Estable/i.test(t))return"Fija/Estable";const s=t.match(/2\.0\s?TD|3\.0\s?TD/i);return(o=s==null?void 0:s[0])==null?void 0:o.toUpperCase()}function ib(t){return{id:crypto.randomUUID(),provider:XM(t),tariff:nb(t),cups:QM(t),billingPeriod:ZM(t),servicesAmountEur:WM(t),bonusSocialEur:$M(t),compensationTotalEur:eb(t),virtualBatterySavingEur:tb(t),invoiceNumber:"N/A",contractedPower:{},consumptionByPeriodKwh:Ax(t),energySummary:jM(t),rawText:t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sb,ob;function ab(){return{geminiUrl:sb,vertexUrl:ob}}function lb(t,e,s,o){var l,u;if(!(t!=null&&t.baseUrl)){const c=ab();return e?(l=c.vertexUrl)!==null&&l!==void 0?l:s:(u=c.geminiUrl)!==null&&u!==void 0?u:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pn{}function ne(t,e){const s=/\{([^}]+)\}/g;return t.replace(s,(o,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(t,e,s){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(s))t[h]=Array.from({length:s.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(s))for(let p=0;p<g.length;p++){const v=g[p];d(v,e.slice(u+1),s[p])}else for(const p of g)d(p,e.slice(u+1),s)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];d(g[0],e.slice(u+1),s);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],l=t[o];if(l!==void 0){if(!s||typeof s=="object"&&Object.keys(s).length===0||s===l)return;if(typeof l=="object"&&typeof s=="object"&&l!==null&&s!==null)Object.assign(l,s);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.assign(t,s):t[o]=s}function f(t,e,s=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return s;const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(h=>f(h,e.slice(o+1),s)):s}else return s}else t=t[l]}return t}catch(o){if(o instanceof TypeError)return s;throw o}}function rb(t,e){for(const[s,o]of Object.entries(e)){const l=s.split("."),u=o.split("."),c=new Set;let h=-1;for(let g=0;g<l.length;g++)if(l[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const p=u[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Sf(t,l,u,0,c)}}function Sf(t,e,s,o,l){if(o>=e.length||typeof t!="object"||t===null)return;const u=e[o];if(u.endsWith("[]")){const c=u.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Sf(g,e,s,o+1,l)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!l.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,v]of Object.entries(g)){const T=[];for(const S of s.slice(o))S==="*"?T.push(p):T.push(S);d(c,T,v)}for(const p of h)delete c[p]}}else{const c=t;u in c&&Sf(c[u],e,s,o+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function md(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ub(t){const e={},s=f(t,["operationName"]);s!=null&&d(e,["operationName"],s);const o=f(t,["resourceName"]);return o!=null&&d(e,["_url","resourceName"],o),e}function cb(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],db(c)),e}function fb(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],hb(c)),e}function db(t){const e={},s=f(t,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>pb(c))),d(e,["generatedVideos"],u)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function hb(t){const e={},s=f(t,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>mb(c))),d(e,["generatedVideos"],u)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function pb(t){const e={},s=f(t,["video"]);return s!=null&&d(e,["video"],Sb(s)),e}function mb(t){const e={},s=f(t,["_self"]);return s!=null&&d(e,["video"],Eb(s)),e}function gb(t){const e={},s=f(t,["operationName"]);return s!=null&&d(e,["_url","operationName"],s),e}function yb(t){const e={},s=f(t,["operationName"]);return s!=null&&d(e,["_url","operationName"],s),e}function vb(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],Tb(c)),e}function Tb(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function _x(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],xb(c)),e}function xb(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function Sb(t){const e={},s=f(t,["uri"]);s!=null&&d(e,["uri"],s);const o=f(t,["encodedVideo"]);o!=null&&d(e,["videoBytes"],md(o));const l=f(t,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function Eb(t){const e={},s=f(t,["gcsUri"]);s!=null&&d(e,["uri"],s);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],md(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var n0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(n0||(n0={}));var i0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(i0||(i0={}));var s0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(s0||(s0={}));var $;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($||($={}));var o0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(o0||(o0={}));var a0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(a0||(a0={}));var l0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(l0||(l0={}));var r0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(r0||(r0={}));var u0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(u0||(u0={}));var c0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(c0||(c0={}));var f0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(f0||(f0={}));var d0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(d0||(d0={}));var h0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(h0||(h0={}));var p0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(p0||(p0={}));var m0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(m0||(m0={}));var g0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(g0||(g0={}));var y0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(y0||(y0={}));var v0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(v0||(v0={}));var Ol;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ol||(Ol={}));var T0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(T0||(T0={}));var x0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(x0||(x0={}));var S0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(S0||(S0={}));var Ef;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ef||(Ef={}));var E0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(E0||(E0={}));var C0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(C0||(C0={}));var A0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(A0||(A0={}));var _0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_0||(_0={}));var N0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(N0||(N0={}));var M0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(M0||(M0={}));var b0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(b0||(b0={}));var R0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(R0||(R0={}));var w0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(w0||(w0={}));var D0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(D0||(D0={}));var I0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(I0||(I0={}));var P0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(P0||(P0={}));var U0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(U0||(U0={}));var L0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(L0||(L0={}));var V0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(V0||(V0={}));var k0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(k0||(k0={}));var B0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(B0||(B0={}));var G0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(G0||(G0={}));var q0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(q0||(q0={}));var H0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(H0||(H0={}));var z0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(z0||(z0={}));var F0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(F0||(F0={}));var O0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(O0||(O0={}));var Y0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Y0||(Y0={}));var J0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(J0||(J0={}));var K0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(K0||(K0={}));var X0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(X0||(X0={}));var Q0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q0||(Q0={}));var Z0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Z0||(Z0={}));var bs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bs||(bs={}));class Cf{constructor(e){const s={};for(const o of e.headers.entries())s[o[0]]=o[1];this.headers=s,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bo{get text(){var e,s,o,l,u,c,h,g;if(((l=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const S of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[A,N]of Object.entries(S))A!=="text"&&A!=="thought"&&(N!==null||N!==void 0)&&T.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,s,o,l,u,c,h,g;if(((l=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,A]of Object.entries(T))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,s,o,l,u,c,h,g;if(((l=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,s,o,l,u,c,h,g,p;if(((l=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,s,o,l,u,c,h,g,p;if(((l=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class j0{}class W0{}class Cb{}class Ab{}class _b{}class Nb{}class $0{}class ev{}class tv{}class Mb{}class Yl{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new Yl;let l;const u=e;return s?l=fb(u):l=cb(u),Object.assign(o,l),o}}class nv{}class iv{}class sv{}class bb{}class Rb{}class wb{}class gd{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new gd,u=vb(e);return Object.assign(o,u),o}}class Db{}class Ib{}class Pb{}class ov{}class Ub{get text(){var e,s,o;let l="",u=!1;const c=[];for(const h of(o=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,s,o;let l="";const u=[];for(const c of(o=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&u.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class Lb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yd{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new yd,u=_x(e);return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const s=e.split("/",2);return`publishers/${s[0]}/models/${s[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Nx(t,e){const s=Me(t,e);return s?s.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${s}`:s.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${s}`:s:""}function Mx(t){return Array.isArray(t)?t.map(e=>Jl(e)):[Jl(t)]}function Jl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bx(t){const e=Jl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rx(t){const e=Jl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function av(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function wx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>av(e)):[av(t)]}function Af(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mt(t){if(t==null)throw new Error("ContentUnion is required");return Af(t)?t:{role:"user",parts:wx(t)}}function vd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(s=>{const o=mt(s);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const s=mt(e);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]}return Array.isArray(e)?e.map(s=>mt(s)):[mt(e)]}function Zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lv(t)||rv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(t)]}const e=[],s=[],o=Af(t[0]);for(const l of t){const u=Af(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(lv(l)||rv(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(l)}}return o||e.push({role:"user",parts:wx(s)}),e}function Vb(t,e){t.includes("null")&&(e.nullable=!0);const s=t.filter(o=>o!=="null");if(s.length===1)e.type=Object.values($).includes(s[0].toUpperCase())?s[0].toUpperCase():$.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of s)e.anyOf.push({type:Object.values($).includes(o.toUpperCase())?o.toUpperCase():$.TYPE_UNSPECIFIED})}}function ws(t){const e={},s=["items"],o=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&Vb(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values($).includes(h.toUpperCase())?h.toUpperCase():$.TYPE_UNSPECIFIED}else if(s.includes(c))e[c]=ws(h);else if(o.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(ws(p))}e[c]=g}else if(l.includes(c)){const g={};for(const[p,v]of Object.entries(h))g[p]=ws(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Td(t){return ws(t)}function xd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Sd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Bs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ws(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ws(e.response));return t}function Gs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const s of t)e.push(s);return e}function kb(t,e,s,o=1){const l=!e.startsWith(`${s}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${s}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${s}/${e}`:e:l?`${s}/${e}`:e}function Un(t,e){if(typeof e!="string")throw new Error("name must be a string");return kb(t,e,"cachedContents")}function Dx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ci(t){return md(t)}function Bb(t){return t!=null&&typeof t=="object"&&"name"in t}function Gb(t){return t!=null&&typeof t=="object"&&"video"in t}function qb(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ix(t){var e;let s;if(Bb(t)&&(s=t.name),!(qb(t)&&(s=t.uri,s===void 0))&&!(Gb(t)&&(s=(e=t.video)===null||e===void 0?void 0:e.uri,s===void 0))){if(typeof t=="string"&&(s=t),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const l=s.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${s}`);s=l[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function Px(t,e){let s;return t.isVertexAI()?s=e?"publishers/google/models":"models":s=e?"models":"tunedModels",s}function Ux(t){for(const e of["models","tunedModels","publisherModels"])if(Hb(t,e))return t[e];return[]}function Hb(t,e){return t!==null&&typeof t=="object"&&e in t}function zb(t,e={}){const s=t,o={name:s.name,description:s.description,parametersJsonSchema:s.inputSchema};return s.outputSchema&&(o.responseJsonSchema=s.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Fb(t,e={}){const s=[],o=new Set;for(const l of t){const u=l.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const c=zb(l,e);c.functionDeclarations&&s.push(...c.functionDeclarations)}return{functionDeclarations:s}}function Lx(t,e){let s;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))s={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))s={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))s={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");s={inlinedRequests:e}}else s=e;const o=[s.gcsUri,s.bigqueryUri].filter(Boolean).length,l=[s.inlinedRequests,s.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return s}function Ob(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Vx(t){if(typeof t!="object"||t===null)return{};const e=t,s=e.inlinedResponses;if(typeof s!="object"||s===null)return t;const l=s.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let u=!1;for(const c of l){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qs(t,e){const s=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(s))return s.split("/").pop();throw new Error(`Invalid batch job name: ${s}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(s))return s.split("/").pop();if(/^\d+$/.test(s))return s;throw new Error(`Invalid batch job name: ${s}.`)}function kx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(t){const e={},s=f(t,["responsesFile"]);s!=null&&d(e,["fileName"],s);const o=f(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>ER(c))),d(e,["inlinedResponses"],u)}const l=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["inlinedEmbedContentResponses"],u)}return e}function Jb(t){const e={},s=f(t,["predictionsFormat"]);s!=null&&d(e,["format"],s);const o=f(t,["gcsDestination","outputUriPrefix"]);o!=null&&d(e,["gcsUri"],o);const l=f(t,["bigqueryDestination","outputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function Kb(t){const e={},s=f(t,["format"]);s!=null&&d(e,["predictionsFormat"],s);const o=f(t,["gcsUri"]);o!=null&&d(e,["gcsDestination","outputUriPrefix"],o);const l=f(t,["bigqueryUri"]);if(l!=null&&d(e,["bigqueryDestination","outputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bl(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata","displayName"]);o!=null&&d(e,["displayName"],o);const l=f(t,["metadata","state"]);l!=null&&d(e,["state"],kx(l));const u=f(t,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const p=f(t,["metadata","output"]);return p!=null&&d(e,["dest"],Yb(Vx(p))),e}function _f(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const l=f(t,["state"]);l!=null&&d(e,["state"],kx(l));const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(e,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const v=f(t,["model"]);v!=null&&d(e,["model"],v);const T=f(t,["inputConfig"]);T!=null&&d(e,["src"],Xb(T));const S=f(t,["outputConfig"]);S!=null&&d(e,["dest"],Jb(Vx(S)));const A=f(t,["completionStats"]);return A!=null&&d(e,["completionStats"],A),e}function Xb(t){const e={},s=f(t,["instancesFormat"]);s!=null&&d(e,["format"],s);const o=f(t,["gcsSource","uris"]);o!=null&&d(e,["gcsUri"],o);const l=f(t,["bigquerySource","inputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function Qb(t,e){const s={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=f(e,["fileName"]);o!=null&&d(s,["fileName"],o);const l=f(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>SR(t,c))),d(s,["requests","requests"],u)}return s}function Zb(t){const e={},s=f(t,["format"]);s!=null&&d(e,["instancesFormat"],s);const o=f(t,["gcsUri"]);o!=null&&d(e,["gcsSource","uris"],o);const l=f(t,["bigqueryUri"]);if(l!=null&&d(e,["bigquerySource","inputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function jb(t){const e={},s=f(t,["data"]);if(s!=null&&d(e,["data"],s),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Wb(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function $b(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function eR(t){const e={},s=f(t,["content"]);s!=null&&d(e,["content"],s);const o=f(t,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],tR(o));const l=f(t,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function tR(t){const e={},s=f(t,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["citations"],o)}return e}function Bx(t){const e={},s=f(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>RR(u))),d(e,["parts"],l)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function nR(t,e){const s={},o=f(t,["displayName"]);if(e!==void 0&&o!=null&&d(e,["batch","displayName"],o),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return s}function iR(t,e){const s={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const l=f(t,["dest"]);return e!==void 0&&l!=null&&d(e,["outputConfig"],Kb(Ob(l))),s}function uv(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["src"]);l!=null&&d(s,["batch","inputConfig"],Qb(t,Lx(t,l)));const u=f(e,["config"]);return u!=null&&nR(u,s),s}function sR(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["model"],Me(t,o));const l=f(e,["src"]);l!=null&&d(s,["inputConfig"],Zb(Lx(t,l)));const u=f(e,["config"]);return u!=null&&iR(u,s),s}function oR(t,e){const s={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&d(e,["batch","displayName"],o),s}function aR(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["src"]);l!=null&&d(s,["batch","inputConfig"],hR(t,l));const u=f(e,["config"]);return u!=null&&oR(u,s),s}function lR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function rR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function uR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function cR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function fR(t,e){const s={},o=f(e,["contents"]);if(o!=null){let u=vd(t,o);Array.isArray(u)&&(u=u.map(c=>c)),d(s,["requests[]","request","content"],u)}const l=f(e,["config"]);return l!=null&&(d(s,["_self"],dR(l,s)),rb(s,{"requests[].*":"requests[].request.*"})),s}function dR(t,e){const s={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function hR(t,e){const s={},o=f(e,["fileName"]);o!=null&&d(s,["file_name"],o);const l=f(e,["inlinedRequests"]);return l!=null&&d(s,["requests"],fR(t,l)),s}function pR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function mR(t,e,s){const o={},l=f(e,["systemInstruction"]);s!==void 0&&l!=null&&d(s,["systemInstruction"],Bx(mt(l)));const u=f(e,["temperature"]);u!=null&&d(o,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const h=f(e,["topK"]);h!=null&&d(o,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(o,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(o,["presencePenalty"],A);const N=f(e,["frequencyPenalty"]);N!=null&&d(o,["frequencyPenalty"],N);const R=f(e,["seed"]);R!=null&&d(o,["seed"],R);const I=f(e,["responseMimeType"]);I!=null&&d(o,["responseMimeType"],I);const P=f(e,["responseSchema"]);P!=null&&d(o,["responseSchema"],Td(P));const k=f(e,["responseJsonSchema"]);if(k!=null&&d(o,["responseJsonSchema"],k),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=f(e,["safetySettings"]);if(s!==void 0&&w!=null){let pe=w;Array.isArray(pe)&&(pe=pe.map(Ue=>wR(Ue))),d(s,["safetySettings"],pe)}const Q=f(e,["tools"]);if(s!==void 0&&Q!=null){let pe=Gs(Q);Array.isArray(pe)&&(pe=pe.map(Ue=>DR(Bs(Ue)))),d(s,["tools"],pe)}const q=f(e,["toolConfig"]);if(s!==void 0&&q!=null&&d(s,["toolConfig"],q),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=f(e,["cachedContent"]);s!==void 0&&X!=null&&d(s,["cachedContent"],Un(t,X));const z=f(e,["responseModalities"]);z!=null&&d(o,["responseModalities"],z);const W=f(e,["mediaResolution"]);W!=null&&d(o,["mediaResolution"],W);const j=f(e,["speechConfig"]);if(j!=null&&d(o,["speechConfig"],xd(j)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=f(e,["thinkingConfig"]);ae!=null&&d(o,["thinkingConfig"],ae);const ce=f(e,["imageConfig"]);return ce!=null&&d(o,["imageConfig"],ce),o}function gR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>eR(p))),d(e,["candidates"],g)}const l=f(t,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function yR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function vR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],qs(t,o)),s}function TR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(t,["enableWidget"]);return s!=null&&d(e,["enableWidget"],s),e}function xR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(t,["timeRangeFilter"]);return s!=null&&d(e,["timeRangeFilter"],s),e}function SR(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["request","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let h=Zt(l);Array.isArray(h)&&(h=h.map(g=>Bx(g))),d(s,["request","contents"],h)}const u=f(e,["metadata"]);u!=null&&d(s,["metadata"],u);const c=f(e,["config"]);return c!=null&&d(s,["request","generationConfig"],mR(t,c,f(s,["request"],{}))),s}function ER(t){const e={},s=f(t,["response"]);s!=null&&d(e,["response"],gR(s));const o=f(t,["error"]);return o!=null&&d(e,["error"],o),e}function CR(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);if(e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return s}function AR(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),s}function _R(t){const e={},s=f(t,["config"]);return s!=null&&CR(s,e),e}function NR(t){const e={},s=f(t,["config"]);return s!=null&&AR(s,e),e}function MR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Bl(c))),d(e,["batchJobs"],u)}return e}function bR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_f(c))),d(e,["batchJobs"],u)}return e}function RR(t){const e={},s=f(t,["functionCall"]);s!=null&&d(e,["functionCall"],s);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],pR(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],jb(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function wR(t){const e={},s=f(t,["category"]);if(s!=null&&d(e,["category"],s),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function DR(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],TR(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],xR(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var In;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(In||(In={}));class Bi{constructor(e,s,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=s,this.init(e,o,l)}init(e,s,o){var l,u;this.nameInternal=e,this.pageInternal=s[this.nameInternal]||[],this.sdkHttpResponseInternal=s==null?void 0:s.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=s.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR extends Pn{constructor(e){super(),this.apiClient=e,this.create=async s=>(this.apiClient.isVertexAI()&&(s.config=this.formatDestination(s.src,s.config)),this.createInternal(s)),this.createEmbeddings=async s=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(s)},this.list=async(s={})=>new Bi(In.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(s),s)}createInlinedGenerateContentRequest(e){const s=uv(this.apiClient,e),o=s._url,l=ne("{model}:batchGenerateContent",o),h=s.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=S,T.request=A}p.push(T)}return h.requests=p,delete s.config,delete s._url,delete s._query,{path:l,body:s}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,s){const o=s?Object.assign({},s):{},l=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${l}`),o.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${l}`;else if(c)o.dest=`${c}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=sR(this.apiClient,e);return h=ne("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>_f(v))}else{const p=uv(this.apiClient,e);return h=ne("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bl(v))}}async createEmbeddingsInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aR(this.apiClient,e);return u=ne("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Bl(g))}}async get(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=vR(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>_f(v))}else{const p=yR(this.apiClient,e);return h=ne("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bl(v))}}async cancel(e){var s,o,l,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=$b(this.apiClient,e);c=ne("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=Wb(this.apiClient,e);c=ne("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=NR(e);return h=ne("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=bR(v),S=new ov;return Object.assign(S,T),S})}else{const p=_R(e);return h=ne("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=MR(v),S=new ov;return Object.assign(S,T),S})}}async delete(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=rR(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>cR(v))}else{const p=lR(this.apiClient,e);return h=ne("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>uR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(t){const e={},s=f(t,["data"]);if(s!=null&&d(e,["data"],s),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function cv(t){const e={},s=f(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ew(u))),d(e,["parts"],l)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function UR(t,e){const s={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let v=Zt(c);Array.isArray(v)&&(v=v.map(T=>cv(T))),d(e,["contents"],v)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],cv(mt(h)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>tw(T))),d(e,["tools"],v)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],p),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function LR(t,e){const s={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=Zt(c);Array.isArray(T)&&(T=T.map(S=>S)),d(e,["contents"],T)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],mt(h));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>nw(S))),d(e,["tools"],T)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],p);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),s}function VR(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["model"],Nx(t,o));const l=f(e,["config"]);return l!=null&&UR(l,s),s}function kR(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["model"],Nx(t,o));const l=f(e,["config"]);return l!=null&&LR(l,s),s}function BR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],Un(t,o)),s}function GR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],Un(t,o)),s}function qR(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function HR(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function zR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function FR(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=f(t,["description"]);s!=null&&d(e,["description"],s);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function OR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],Un(t,o)),s}function YR(t,e){const s={},o=f(e,["name"]);return o!=null&&d(s,["_url","name"],Un(t,o)),s}function JR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(t,["enableWidget"]);return s!=null&&d(e,["enableWidget"],s),e}function KR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(t,["timeRangeFilter"]);return s!=null&&d(e,["timeRangeFilter"],s),e}function XR(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),s}function QR(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),s}function ZR(t){const e={},s=f(t,["config"]);return s!=null&&XR(s,e),e}function jR(t){const e={},s=f(t,["config"]);return s!=null&&QR(s,e),e}function WR(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function $R(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function ew(t){const e={},s=f(t,["functionCall"]);s!=null&&d(e,["functionCall"],s);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],zR(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],PR(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function tw(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],JR(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],KR(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function nw(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let T=s;Array.isArray(T)&&(T=T.map(S=>FR(S))),d(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function iw(t,e){const s={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),s}function sw(t,e){const s={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),s}function ow(t,e){const s={},o=f(e,["name"]);o!=null&&d(s,["_url","name"],Un(t,o));const l=f(e,["config"]);return l!=null&&iw(l,s),s}function aw(t,e){const s={},o=f(e,["name"]);o!=null&&d(s,["_url","name"],Un(t,o));const l=f(e,["config"]);return l!=null&&sw(l,s),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lw extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Bi(In.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(s),s)}async create(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=kR(this.apiClient,e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=VR(this.apiClient,e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=YR(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=OR(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=GR(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=HR(v),S=new iv;return Object.assign(S,T),S})}else{const p=BR(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=qR(v),S=new iv;return Object.assign(S,T),S})}}async update(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=aw(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=ow(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=jR(e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=$R(v),S=new sv;return Object.assign(S,T),S})}else{const p=ZR(e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=WR(v),S=new sv;return Object.assign(S,T),S})}}}function fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],o=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(t){return this instanceof Ge?(this.v=t,this):new Ge(t)}function Ds(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(t,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(A){return function(N){return Promise.resolve(N).then(A,T)}}function h(A,N){o[A]&&(l[A]=function(R){return new Promise(function(I,P){u.push([A,R,I,P])>1||g(A,R)})},N&&(l[A]=N(l[A])))}function g(A,N){try{p(o[A](N))}catch(R){S(u[0][3],R)}}function p(A){A.value instanceof Ge?Promise.resolve(A.value.v).then(v,T):S(u[0][2],A)}function v(A){g("next",A)}function T(A){g("throw",A)}function S(A,N){A(N),u.shift(),u.length&&g(u[0][0],u[0][1])}}function Xo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof fv=="function"?fv(t):t[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(u){s[u]=t[u]&&function(c){return new Promise(function(h,g){c=t[u](c),l(h,g,c.done,c.value)})}}function l(u,c,h,g){Promise.resolve(g).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rw(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const s=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return s===void 0?!1:Gx(s)}function Gx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uw(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dv(t){if(t===void 0||t.length===0)return[];const e=[],s=t.length;let o=0;for(;o<s;)if(t[o].role==="user")e.push(t[o]),o++;else{const l=[];let u=!0;for(;o<s&&t[o].role==="model";)l.push(t[o]),u&&!Gx(t[o])&&(u=!1),o++;u?e.push(...l):e.pop()}return e}class cw{constructor(e,s){this.modelsModule=e,this.apiClient=s}create(e){return new fw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fw{constructor(e,s,o,l={},u=[]){this.apiClient=e,this.modelsModule=s,this.model=o,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),uw(u)}async sendMessage(e){var s;await this.sendPromise;const o=mt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=e.config)!==null&&s!==void 0?s:this.config});return this.sendPromise=(async()=>{var u,c,h;const g=await l,p=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(T))!==null&&h!==void 0?h:[]);const A=p?[p]:[];this.recordHistory(o,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var s;await this.sendPromise;const o=mt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=e.config)!==null&&s!==void 0?s:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,o)}getHistory(e=!1){const s=e?dv(this.history):this.history;return structuredClone(s)}processStreamResponse(e,s){var o,l;return Ds(this,arguments,function*(){var c,h,g,p;const v=[];try{for(var T=!0,S=Xo(e),A;A=yield Ge(S.next()),c=A.done,!c;T=!0){p=A.value,T=!1;const N=p;if(rw(N)){const R=(l=(o=N.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content;R!==void 0&&v.push(R)}yield yield Ge(N)}}catch(N){h={error:N}}finally{try{!T&&!c&&(g=S.return)&&(yield Ge(g.call(S)))}finally{if(h)throw h.error}}this.recordHistory(s,v)})}recordHistory(e,s,o){let l=[];s.length>0&&s.every(u=>u.role!==void 0)?l=s:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...dv(o)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,er.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dw(t){const e={},s=f(t,["file"]);return s!=null&&d(e,["file"],s),e}function hw(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function pw(t){const e={},s=f(t,["name"]);return s!=null&&d(e,["_url","file"],Ix(s)),e}function mw(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function gw(t){const e={},s=f(t,["name"]);return s!=null&&d(e,["_url","file"],Ix(s)),e}function yw(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),s}function vw(t){const e={},s=f(t,["config"]);return s!=null&&yw(s,e),e}function Tw(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xw extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Bi(In.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(s),s)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(s=>s)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vw(e);return u=ne("files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=Tw(g),v=new Db;return Object.assign(v,p),v})}}async createInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dw(e);return u=ne("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=hw(g),v=new Ib;return Object.assign(v,p),v})}}async get(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gw(e);return u=ne("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pw(e);return u=ne("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=mw(g),v=new Pb;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gl(t){const e={},s=f(t,["data"]);if(s!=null&&d(e,["data"],s),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Sw(t){const e={},s=f(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Vw(u))),d(e,["parts"],l)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function Ew(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Cw(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=f(t,["description"]);s!=null&&d(e,["description"],s);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function Aw(t){const e={},s=f(t,["modelSelectionConfig"]);s!=null&&d(e,["modelConfig"],s);const o=f(t,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const l=f(t,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const A=f(t,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const N=f(t,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const R=f(t,["responseSchema"]);R!=null&&d(e,["responseSchema"],R);const I=f(t,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const P=f(t,["seed"]);P!=null&&d(e,["seed"],P);const k=f(t,["speechConfig"]);k!=null&&d(e,["speechConfig"],qx(k));const w=f(t,["stopSequences"]);w!=null&&d(e,["stopSequences"],w);const Q=f(t,["temperature"]);Q!=null&&d(e,["temperature"],Q);const q=f(t,["thinkingConfig"]);q!=null&&d(e,["thinkingConfig"],q);const X=f(t,["topK"]);X!=null&&d(e,["topK"],X);const z=f(t,["topP"]);if(z!=null&&d(e,["topP"],z),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _w(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(t,["enableWidget"]);return s!=null&&d(e,["enableWidget"],s),e}function Nw(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(t,["timeRangeFilter"]);return s!=null&&d(e,["timeRangeFilter"],s),e}function Mw(t,e){const s={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Sd(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=f(t,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],Sw(mt(N)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let X=Gs(R);Array.isArray(X)&&(X=X.map(z=>Bw(Bs(z)))),d(e,["setup","tools"],X)}const I=f(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],kw(I));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","inputAudioTranscription"],P);const k=f(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],k);const w=f(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const Q=f(t,["contextWindowCompression"]);e!==void 0&&Q!=null&&d(e,["setup","contextWindowCompression"],Q);const q=f(t,["proactivity"]);return e!==void 0&&q!=null&&d(e,["setup","proactivity"],q),s}function bw(t,e){const s={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],Aw(o));const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],qx(Sd(T)));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=f(t,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],mt(N));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let X=Gs(R);Array.isArray(X)&&(X=X.map(z=>Gw(Bs(z)))),d(e,["setup","tools"],X)}const I=f(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],I);const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","inputAudioTranscription"],P);const k=f(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],k);const w=f(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const Q=f(t,["contextWindowCompression"]);e!==void 0&&Q!=null&&d(e,["setup","contextWindowCompression"],Q);const q=f(t,["proactivity"]);return e!==void 0&&q!=null&&d(e,["setup","proactivity"],q),s}function Rw(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["setup","model"],Me(t,o));const l=f(e,["config"]);return l!=null&&d(s,["config"],Mw(l,s)),s}function ww(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["setup","model"],Me(t,o));const l=f(e,["config"]);return l!=null&&d(s,["config"],bw(l,s)),s}function Dw(t){const e={},s=f(t,["musicGenerationConfig"]);return s!=null&&d(e,["musicGenerationConfig"],s),e}function Iw(t){const e={},s=f(t,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["weightedPrompts"],o)}return e}function Pw(t){const e={},s=f(t,["media"]);if(s!=null){let p=Mx(s);Array.isArray(p)&&(p=p.map(v=>Gl(v))),d(e,["mediaChunks"],p)}const o=f(t,["audio"]);o!=null&&d(e,["audio"],Gl(Rx(o)));const l=f(t,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&d(e,["video"],Gl(bx(u)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function Uw(t){const e={},s=f(t,["media"]);if(s!=null){let p=Mx(s);Array.isArray(p)&&(p=p.map(v=>v)),d(e,["mediaChunks"],p)}const o=f(t,["audio"]);o!=null&&d(e,["audio"],Rx(o));const l=f(t,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&d(e,["video"],bx(u));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function Lw(t){const e={},s=f(t,["setupComplete"]);s!=null&&d(e,["setupComplete"],s);const o=f(t,["serverContent"]);o!=null&&d(e,["serverContent"],o);const l=f(t,["toolCall"]);l!=null&&d(e,["toolCall"],l);const u=f(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],qw(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],h);const g=f(t,["sessionResumptionUpdate"]);return g!=null&&d(e,["sessionResumptionUpdate"],g),e}function Vw(t){const e={},s=f(t,["functionCall"]);s!=null&&d(e,["functionCall"],s);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],Ew(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],Gl(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function kw(t){const e={},s=f(t,["handle"]);if(s!=null&&d(e,["handle"],s),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qx(t){const e={},s=f(t,["languageCode"]);s!=null&&d(e,["languageCode"],s);const o=f(t,["voiceConfig"]);if(o!=null&&d(e,["voiceConfig"],o),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Bw(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],_w(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Nw(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function Gw(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let T=s;Array.isArray(T)&&(T=T.map(S=>Cw(S))),d(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function qw(t){const e={},s=f(t,["promptTokenCount"]);s!=null&&d(e,["promptTokenCount"],s);const o=f(t,["cachedContentTokenCount"]);o!=null&&d(e,["cachedContentTokenCount"],o);const l=f(t,["candidatesTokenCount"]);l!=null&&d(e,["responseTokenCount"],l);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const g=f(t,["promptTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["promptTokensDetails"],A)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["cacheTokensDetails"],A)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["responseTokensDetails"],A)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["toolUsePromptTokensDetails"],A)}const S=f(t,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hw(t){const e={},s=f(t,["data"]);if(s!=null&&d(e,["data"],s),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function zw(t){const e={},s=f(t,["content"]);s!=null&&d(e,["content"],s);const o=f(t,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],Fw(o));const l=f(t,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Fw(t){const e={},s=f(t,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["citations"],o)}return e}function Ow(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let u=Zt(l);Array.isArray(u)&&(u=u.map(c=>c)),d(s,["contents"],u)}return s}function Yw(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["tokensInfo"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["tokensInfo"],l)}return e}function Jw(t){const e={},s=f(t,["values"]);s!=null&&d(e,["values"],s);const o=f(t,["statistics"]);return o!=null&&d(e,["statistics"],Kw(o)),e}function Kw(t){const e={},s=f(t,["truncated"]);s!=null&&d(e,["truncated"],s);const o=f(t,["token_count"]);return o!=null&&d(e,["tokenCount"],o),e}function tr(t){const e={},s=f(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>WD(u))),d(e,["parts"],l)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function Xw(t){const e={},s=f(t,["controlType"]);s!=null&&d(e,["controlType"],s);const o=f(t,["enableControlImageComputation"]);return o!=null&&d(e,["computeControl"],o),e}function Qw(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Zw(t,e){const s={},o=f(t,["systemInstruction"]);e!==void 0&&o!=null&&d(e,["systemInstruction"],mt(o));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Yx(h))),d(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],GD(u)),s}function jw(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let c=Zt(l);Array.isArray(c)&&(c=c.map(h=>tr(h))),d(s,["contents"],c)}const u=f(e,["config"]);return u!=null&&Qw(u),s}function Ww(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let c=Zt(l);Array.isArray(c)&&(c=c.map(h=>h)),d(s,["contents"],c)}const u=f(e,["config"]);return u!=null&&Zw(u,s),s}function $w(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["totalTokens"]);o!=null&&d(e,["totalTokens"],o);const l=f(t,["cachedContentTokenCount"]);return l!=null&&d(e,["cachedContentTokenCount"],l),e}function eD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["totalTokens"]);return o!=null&&d(e,["totalTokens"],o),e}function tD(t,e){const s={},o=f(e,["model"]);return o!=null&&d(s,["_url","name"],Me(t,o)),s}function nD(t,e){const s={},o=f(e,["model"]);return o!=null&&d(s,["_url","name"],Me(t,o)),s}function iD(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function sD(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}function oD(t,e){const s={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const A=f(t,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const N=f(t,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const I=f(t,["addWatermark"]);e!==void 0&&I!=null&&d(e,["parameters","addWatermark"],I);const P=f(t,["labels"]);e!==void 0&&P!=null&&d(e,["labels"],P);const k=f(t,["editMode"]);e!==void 0&&k!=null&&d(e,["parameters","editMode"],k);const w=f(t,["baseSteps"]);return e!==void 0&&w!=null&&d(e,["parameters","editConfig","baseSteps"],w),s}function aD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["prompt"]);l!=null&&d(s,["instances[0]","prompt"],l);const u=f(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>s2(g))),d(s,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&oD(c,s),s}function lD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nr(u))),d(e,["generatedImages"],l)}return e}function rD(t,e){const s={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function uD(t,e){const s={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["instances[]","task_type"],o);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["instances[]","title"],l);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),s}function cD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let h=vd(t,l);Array.isArray(h)&&(h=h.map(g=>g)),d(s,["requests[]","content"],h)}const u=f(e,["config"]);u!=null&&rD(u,s);const c=f(e,["model"]);return c!==void 0&&d(s,["requests[]","model"],Me(t,c)),s}function fD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let c=vd(t,l);Array.isArray(c)&&(c=c.map(h=>h)),d(s,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&uD(u,s),s}function dD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function hD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Jw(c))),d(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function pD(t){const e={},s=f(t,["endpoint"]);s!=null&&d(e,["name"],s);const o=f(t,["deployedModelId"]);return o!=null&&d(e,["deployedModelId"],o),e}function mD(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function gD(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=f(t,["description"]);s!=null&&d(e,["description"],s);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function yD(t,e,s){const o={},l=f(e,["systemInstruction"]);s!==void 0&&l!=null&&d(s,["systemInstruction"],tr(mt(l)));const u=f(e,["temperature"]);u!=null&&d(o,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const h=f(e,["topK"]);h!=null&&d(o,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(o,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(o,["presencePenalty"],A);const N=f(e,["frequencyPenalty"]);N!=null&&d(o,["frequencyPenalty"],N);const R=f(e,["seed"]);R!=null&&d(o,["seed"],R);const I=f(e,["responseMimeType"]);I!=null&&d(o,["responseMimeType"],I);const P=f(e,["responseSchema"]);P!=null&&d(o,["responseSchema"],Td(P));const k=f(e,["responseJsonSchema"]);if(k!=null&&d(o,["responseJsonSchema"],k),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=f(e,["safetySettings"]);if(s!==void 0&&w!=null){let pe=w;Array.isArray(pe)&&(pe=pe.map(Ue=>o2(Ue))),d(s,["safetySettings"],pe)}const Q=f(e,["tools"]);if(s!==void 0&&Q!=null){let pe=Gs(Q);Array.isArray(pe)&&(pe=pe.map(Ue=>f2(Bs(Ue)))),d(s,["tools"],pe)}const q=f(e,["toolConfig"]);if(s!==void 0&&q!=null&&d(s,["toolConfig"],q),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=f(e,["cachedContent"]);s!==void 0&&X!=null&&d(s,["cachedContent"],Un(t,X));const z=f(e,["responseModalities"]);z!=null&&d(o,["responseModalities"],z);const W=f(e,["mediaResolution"]);W!=null&&d(o,["mediaResolution"],W);const j=f(e,["speechConfig"]);if(j!=null&&d(o,["speechConfig"],xd(j)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=f(e,["thinkingConfig"]);ae!=null&&d(o,["thinkingConfig"],ae);const ce=f(e,["imageConfig"]);return ce!=null&&d(o,["imageConfig"],ce),o}function vD(t,e,s){const o={},l=f(e,["systemInstruction"]);s!==void 0&&l!=null&&d(s,["systemInstruction"],mt(l));const u=f(e,["temperature"]);u!=null&&d(o,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const h=f(e,["topK"]);h!=null&&d(o,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(o,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(o,["presencePenalty"],A);const N=f(e,["frequencyPenalty"]);N!=null&&d(o,["frequencyPenalty"],N);const R=f(e,["seed"]);R!=null&&d(o,["seed"],R);const I=f(e,["responseMimeType"]);I!=null&&d(o,["responseMimeType"],I);const P=f(e,["responseSchema"]);P!=null&&d(o,["responseSchema"],Td(P));const k=f(e,["responseJsonSchema"]);k!=null&&d(o,["responseJsonSchema"],k);const w=f(e,["routingConfig"]);w!=null&&d(o,["routingConfig"],w);const Q=f(e,["modelSelectionConfig"]);Q!=null&&d(o,["modelConfig"],Q);const q=f(e,["safetySettings"]);if(s!==void 0&&q!=null){let H=q;Array.isArray(H)&&(H=H.map(O=>O)),d(s,["safetySettings"],H)}const X=f(e,["tools"]);if(s!==void 0&&X!=null){let H=Gs(X);Array.isArray(H)&&(H=H.map(O=>Yx(Bs(O)))),d(s,["tools"],H)}const z=f(e,["toolConfig"]);s!==void 0&&z!=null&&d(s,["toolConfig"],z);const W=f(e,["labels"]);s!==void 0&&W!=null&&d(s,["labels"],W);const j=f(e,["cachedContent"]);s!==void 0&&j!=null&&d(s,["cachedContent"],Un(t,j));const ae=f(e,["responseModalities"]);ae!=null&&d(o,["responseModalities"],ae);const ce=f(e,["mediaResolution"]);ce!=null&&d(o,["mediaResolution"],ce);const pe=f(e,["speechConfig"]);pe!=null&&d(o,["speechConfig"],Ox(xd(pe)));const Ue=f(e,["audioTimestamp"]);Ue!=null&&d(o,["audioTimestamp"],Ue);const st=f(e,["thinkingConfig"]);st!=null&&d(o,["thinkingConfig"],st);const Ke=f(e,["imageConfig"]);return Ke!=null&&d(o,["imageConfig"],Ke),o}function hv(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let c=Zt(l);Array.isArray(c)&&(c=c.map(h=>tr(h))),d(s,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(s,["generationConfig"],yD(t,u,s)),s}function pv(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["contents"]);if(l!=null){let c=Zt(l);Array.isArray(c)&&(c=c.map(h=>h)),d(s,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(s,["generationConfig"],vD(t,u,s)),s}function mv(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>zw(p))),d(e,["candidates"],g)}const l=f(t,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function gv(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>v)),d(e,["candidates"],p)}const l=f(t,["createTime"]);l!=null&&d(e,["createTime"],l);const u=f(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=f(t,["responseId"]);h!=null&&d(e,["responseId"],h);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function TD(t,e){const s={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const v=f(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=f(t,["imageSize"]);if(e!==void 0&&A!=null&&d(e,["parameters","sampleImageSize"],A),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function xD(t,e){const s={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const A=f(t,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const N=f(t,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const I=f(t,["addWatermark"]);e!==void 0&&I!=null&&d(e,["parameters","addWatermark"],I);const P=f(t,["labels"]);e!==void 0&&P!=null&&d(e,["labels"],P);const k=f(t,["imageSize"]);e!==void 0&&k!=null&&d(e,["parameters","sampleImageSize"],k);const w=f(t,["enhancePrompt"]);return e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w),s}function SD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["prompt"]);l!=null&&d(s,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&TD(u,s),s}function ED(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["prompt"]);l!=null&&d(s,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&xD(u,s),s}function CD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>LD(c))),d(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],zx(l)),e}function AD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>nr(c))),d(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],Fx(l)),e}function _D(t,e){const s={},o=f(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=f(t,["durationSeconds"]);if(e!==void 0&&l!=null&&d(e,["parameters","durationSeconds"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=f(t,["personGeneration"]);if(e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],ir(v));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(A=>A2(A))),d(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function ND(t,e){const s={},o=f(t,["numberOfVideos"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=f(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const p=f(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const A=f(t,["enhancePrompt"]);e!==void 0&&A!=null&&d(e,["parameters","enhancePrompt"],A);const N=f(t,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const R=f(t,["lastFrame"]);e!==void 0&&R!=null&&d(e,["instances[0]","lastFrame"],sn(R));const I=f(t,["referenceImages"]);if(e!==void 0&&I!=null){let w=I;Array.isArray(w)&&(w=w.map(Q=>_2(Q))),d(e,["instances[0]","referenceImages"],w)}const P=f(t,["mask"]);e!==void 0&&P!=null&&d(e,["instances[0]","mask"],C2(P));const k=f(t,["compressionQuality"]);return e!==void 0&&k!=null&&d(e,["parameters","compressionQuality"],k),s}function MD(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],DD(c)),e}function bD(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],ID(c)),e}function RD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["prompt"]);l!=null&&d(s,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&d(s,["instances[0]","image"],ir(u));const c=f(e,["video"]);c!=null&&d(s,["instances[0]","video"],Jx(c));const h=f(e,["source"]);h!=null&&PD(h,s);const g=f(e,["config"]);return g!=null&&_D(g,s),s}function wD(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["prompt"]);l!=null&&d(s,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&d(s,["instances[0]","image"],sn(u));const c=f(e,["video"]);c!=null&&d(s,["instances[0]","video"],Kx(c));const h=f(e,["source"]);h!=null&&UD(h,s);const g=f(e,["config"]);return g!=null&&ND(g,s),s}function DD(t){const e={},s=f(t,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>kD(c))),d(e,["generatedVideos"],u)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function ID(t){const e={},s=f(t,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>BD(c))),d(e,["generatedVideos"],u)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function PD(t,e){const s={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],ir(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],Jx(u)),s}function UD(t,e){const s={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],sn(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],Kx(u)),s}function LD(t){const e={},s=f(t,["_self"]);s!=null&&d(e,["image"],OD(s));const o=f(t,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const l=f(t,["_self"]);return l!=null&&d(e,["safetyAttributes"],zx(l)),e}function nr(t){const e={},s=f(t,["_self"]);s!=null&&d(e,["image"],Hx(s));const o=f(t,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const l=f(t,["_self"]);l!=null&&d(e,["safetyAttributes"],Fx(l));const u=f(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function VD(t){const e={},s=f(t,["_self"]);s!=null&&d(e,["mask"],Hx(s));const o=f(t,["labels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["labels"],l)}return e}function kD(t){const e={},s=f(t,["video"]);return s!=null&&d(e,["video"],S2(s)),e}function BD(t){const e={},s=f(t,["_self"]);return s!=null&&d(e,["video"],E2(s)),e}function GD(t){const e={},s=f(t,["modelSelectionConfig"]);s!=null&&d(e,["modelConfig"],s);const o=f(t,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const l=f(t,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const A=f(t,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const N=f(t,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const R=f(t,["responseSchema"]);R!=null&&d(e,["responseSchema"],R);const I=f(t,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const P=f(t,["seed"]);P!=null&&d(e,["seed"],P);const k=f(t,["speechConfig"]);k!=null&&d(e,["speechConfig"],Ox(k));const w=f(t,["stopSequences"]);w!=null&&d(e,["stopSequences"],w);const Q=f(t,["temperature"]);Q!=null&&d(e,["temperature"],Q);const q=f(t,["thinkingConfig"]);q!=null&&d(e,["thinkingConfig"],q);const X=f(t,["topK"]);X!=null&&d(e,["topK"],X);const z=f(t,["topP"]);if(z!=null&&d(e,["topP"],z),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qD(t,e){const s={},o=f(e,["model"]);return o!=null&&d(s,["_url","name"],Me(t,o)),s}function HD(t,e){const s={},o=f(e,["model"]);return o!=null&&d(s,["_url","name"],Me(t,o)),s}function zD(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(t,["enableWidget"]);return s!=null&&d(e,["enableWidget"],s),e}function FD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(t,["timeRangeFilter"]);return s!=null&&d(e,["timeRangeFilter"],s),e}function OD(t){const e={},s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],ci(s));const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Hx(t){const e={},s=f(t,["gcsUri"]);s!=null&&d(e,["gcsUri"],s);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],ci(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ir(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=f(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],ci(s));const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function sn(t){const e={},s=f(t,["gcsUri"]);s!=null&&d(e,["gcsUri"],s);const o=f(t,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],ci(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function YD(t,e,s){const o={},l=f(e,["pageSize"]);s!==void 0&&l!=null&&d(s,["_query","pageSize"],l);const u=f(e,["pageToken"]);s!==void 0&&u!=null&&d(s,["_query","pageToken"],u);const c=f(e,["filter"]);s!==void 0&&c!=null&&d(s,["_query","filter"],c);const h=f(e,["queryBase"]);return s!==void 0&&h!=null&&d(s,["_url","models_url"],Px(t,h)),o}function JD(t,e,s){const o={},l=f(e,["pageSize"]);s!==void 0&&l!=null&&d(s,["_query","pageSize"],l);const u=f(e,["pageToken"]);s!==void 0&&u!=null&&d(s,["_query","pageToken"],u);const c=f(e,["filter"]);s!==void 0&&c!=null&&d(s,["_query","filter"],c);const h=f(e,["queryBase"]);return s!==void 0&&h!=null&&d(s,["_url","models_url"],Px(t,h)),o}function KD(t,e){const s={},o=f(e,["config"]);return o!=null&&YD(t,o,s),s}function XD(t,e){const s={},o=f(e,["config"]);return o!=null&&JD(t,o,s),s}function QD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["_self"]);if(l!=null){let u=Ux(l);Array.isArray(u)&&(u=u.map(c=>Nf(c))),d(e,["models"],u)}return e}function ZD(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["_self"]);if(l!=null){let u=Ux(l);Array.isArray(u)&&(u=u.map(c=>Mf(c))),d(e,["models"],u)}return e}function jD(t){const e={},s=f(t,["maskMode"]);s!=null&&d(e,["maskMode"],s);const o=f(t,["segmentationClasses"]);o!=null&&d(e,["maskClasses"],o);const l=f(t,["maskDilation"]);return l!=null&&d(e,["dilation"],l),e}function Nf(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const l=f(t,["description"]);l!=null&&d(e,["description"],l);const u=f(t,["version"]);u!=null&&d(e,["version"],u);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],d2(c));const h=f(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const p=f(t,["supportedGenerationMethods"]);return p!=null&&d(e,["supportedActions"],p),e}function Mf(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const l=f(t,["description"]);l!=null&&d(e,["description"],l);const u=f(t,["versionId"]);u!=null&&d(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>pD(S))),d(e,["endpoints"],T)}const h=f(t,["labels"]);h!=null&&d(e,["labels"],h);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],h2(g));const p=f(t,["defaultCheckpointId"]);p!=null&&d(e,["defaultCheckpointId"],p);const v=f(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["checkpoints"],T)}return e}function WD(t){const e={},s=f(t,["functionCall"]);s!=null&&d(e,["functionCall"],s);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],mD(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],Hw(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function $D(t){const e={},s=f(t,["productImage"]);return s!=null&&d(e,["image"],sn(s)),e}function e2(t,e){const s={},o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const l=f(t,["baseSteps"]);e!==void 0&&l!=null&&d(e,["parameters","editConfig","baseSteps"],l);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&d(e,["parameters","addWatermark"],p);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const A=f(t,["labels"]);return e!==void 0&&A!=null&&d(e,["labels"],A),s}function t2(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["source"]);l!=null&&i2(l,s);const u=f(e,["config"]);return u!=null&&e2(u,s),s}function n2(t){const e={},s=f(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>nr(l))),d(e,["generatedImages"],o)}return e}function i2(t,e){const s={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const l=f(t,["personImage"]);e!==void 0&&l!=null&&d(e,["instances[0]","personImage","image"],sn(l));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>$D(h))),d(e,["instances[0]","productImages"],c)}return s}function s2(t){const e={},s=f(t,["referenceImage"]);s!=null&&d(e,["referenceImage"],sn(s));const o=f(t,["referenceId"]);o!=null&&d(e,["referenceId"],o);const l=f(t,["referenceType"]);l!=null&&d(e,["referenceType"],l);const u=f(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],jD(u));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],Xw(c));const h=f(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],h);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function zx(t){const e={},s=f(t,["safetyAttributes","categories"]);s!=null&&d(e,["categories"],s);const o=f(t,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const l=f(t,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function Fx(t){const e={},s=f(t,["safetyAttributes","categories"]);s!=null&&d(e,["categories"],s);const o=f(t,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const l=f(t,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function o2(t){const e={},s=f(t,["category"]);if(s!=null&&d(e,["category"],s),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function a2(t){const e={},s=f(t,["image"]);return s!=null&&d(e,["image"],sn(s)),e}function l2(t,e){const s={},o=f(t,["mode"]);e!==void 0&&o!=null&&d(e,["parameters","mode"],o);const l=f(t,["maxPredictions"]);e!==void 0&&l!=null&&d(e,["parameters","maxPredictions"],l);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const h=f(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&d(e,["parameters","binaryColorThreshold"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),s}function r2(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["source"]);l!=null&&c2(l,s);const u=f(e,["config"]);return u!=null&&l2(u,s),s}function u2(t){const e={},s=f(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>VD(l))),d(e,["generatedMasks"],o)}return e}function c2(t,e){const s={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],sn(l));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],a2(u)),s}function Ox(t){const e={},s=f(t,["languageCode"]);s!=null&&d(e,["languageCode"],s);const o=f(t,["voiceConfig"]);if(o!=null&&d(e,["voiceConfig"],o),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function f2(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],zD(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],FD(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function Yx(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let T=s;Array.isArray(T)&&(T=T.map(S=>gD(S))),d(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function d2(t){const e={},s=f(t,["baseModel"]);s!=null&&d(e,["baseModel"],s);const o=f(t,["createTime"]);o!=null&&d(e,["createTime"],o);const l=f(t,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function h2(t){const e={},s=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&d(e,["baseModel"],s);const o=f(t,["createTime"]);o!=null&&d(e,["createTime"],o);const l=f(t,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function p2(t,e){const s={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const l=f(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),s}function m2(t,e){const s={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const l=f(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),s}function g2(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","name"],Me(t,o));const l=f(e,["config"]);return l!=null&&p2(l,s),s}function y2(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["config"]);return l!=null&&m2(l,s),s}function v2(t,e){const s={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const l=f(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&d(e,["parameters","safetySetting"],l);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const p=f(t,["enhanceInputImage"]);e!==void 0&&p!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const A=f(t,["mode"]);return e!==void 0&&A!=null&&d(e,["parameters","mode"],A),s}function T2(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["_url","model"],Me(t,o));const l=f(e,["image"]);l!=null&&d(s,["instances[0]","image"],sn(l));const u=f(e,["upscaleFactor"]);u!=null&&d(s,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&v2(c,s),s}function x2(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nr(u))),d(e,["generatedImages"],l)}return e}function S2(t){const e={},s=f(t,["uri"]);s!=null&&d(e,["uri"],s);const o=f(t,["encodedVideo"]);o!=null&&d(e,["videoBytes"],ci(o));const l=f(t,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function E2(t){const e={},s=f(t,["gcsUri"]);s!=null&&d(e,["uri"],s);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],ci(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function C2(t){const e={},s=f(t,["image"]);s!=null&&d(e,["_self"],sn(s));const o=f(t,["maskMode"]);return o!=null&&d(e,["maskMode"],o),e}function A2(t){const e={},s=f(t,["image"]);s!=null&&d(e,["image"],ir(s));const o=f(t,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function _2(t){const e={},s=f(t,["image"]);s!=null&&d(e,["image"],sn(s));const o=f(t,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function Jx(t){const e={},s=f(t,["uri"]);s!=null&&d(e,["uri"],s);const o=f(t,["videoBytes"]);o!=null&&d(e,["encodedVideo"],ci(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["encoding"],l),e}function Kx(t){const e={},s=f(t,["uri"]);s!=null&&d(e,["gcsUri"],s);const o=f(t,["videoBytes"]);o!=null&&d(e,["bytesBase64Encoded"],ci(o));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N2="Content-Type",M2="X-Server-Timeout",b2="User-Agent",bf="x-goog-api-client",R2="1.29.0",w2=`google-genai-sdk/${R2}`,D2="v1beta1",I2="v1beta",yv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class P2{constructor(e){var s,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:D2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:I2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),s=new URL(e);return s.protocol=s.protocol=="http:"?"ws":"wss",s.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,s,o){const l=[this.getRequestUrlInternal(s)];return o&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,s,o);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,s,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,s){const o=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(s))typeof u=="object"?o[l]=Object.assign(Object.assign({},o[l]),u):u!==void 0&&(o[l]=u);return o}async requestStream(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,s,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,s,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,s,o,l){if(s&&s.timeout||l){const u=new AbortController,c=u.signal;if(s.timeout&&(s==null?void 0:s.timeout)>0){const h=setTimeout(()=>u.abort(),s.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=c}return s&&s.extraBody!==null&&U2(e,s.extraBody),e.headers=await this.getHeadersInternal(s,o),e}async unaryApiCall(e,s,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:o})).then(async l=>(await vv(l),new Cf(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,s,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:o})).then(async l=>(await vv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var s;return Ds(this,arguments,function*(){const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:g}=yield Ge(l.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(g,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),A=S.status,N=S.code,R=`got status: ${A}. ${JSON.stringify(T)}`;if(N>=400&&N<600)throw new er({message:R,status:N})}}catch(T){if(T.name==="ApiError")throw T}c+=p;let v=c.match(yv);for(;v;){const T=v[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ge(new Cf(S)),c=c.slice(v[0].length),v=c.match(yv)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{l.releaseLock()}})}async apiCall(e,s){return fetch(e,s).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},s=w2+" "+this.clientOptions.userAgentExtra;return e[b2]=s,e[bf]=s,e[N2]="application/json",e}async getHeadersInternal(e,s){const o=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))o.append(l,u);e.timeout&&e.timeout>0&&o.append(M2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,s),o}getFileName(e){var s;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(s=o.split(/[/\\]/).pop())!==null&&s!==void 0?s:""),o}async uploadFile(e,s){var o;const l={};s!=null&&(l.mimeType=s.mimeType,l.name=s.name,l.displayName=s.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const h=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const g={file:l},p=this.getFileName(e),v=ne("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,p,g,s==null?void 0:s.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,s,o){var l;const u=this.clientOptions.uploader,c=await u.stat(s),h=String(c.size),g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(s),T={};o!=null&&o.customMetadata&&(T.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(T.chunkingConfig=o.chunkingConfig);const S=await this.fetchUploadUrl(p,h,g,v,T,o==null?void 0:o.httpOptions);return u.uploadToFileSearchStore(s,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,s,o,l,u,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s}`,"X-Goog-Upload-Header-Content-Type":`${o}`},l?{"X-Goog-Upload-File-Name":l}:{})};const p=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function vv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const s=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(o);throw s>=400&&s<600?new er({message:l,status:s}):new Error(l)}}function U2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let s={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))s=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,c){const h=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const l=o(s,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L2="mcp_used/unknown";let V2=!1;function Xx(t){for(const e of t)if(k2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return V2}function Qx(t){var e;const s=(e=t[bf])!==null&&e!==void 0?e:"";t[bf]=(s+` ${L2}`).trimStart()}function k2(t){return t!==null&&typeof t=="object"&&t instanceof Ed}function B2(t,e=100){return Ds(this,arguments,function*(){let o,l=0;for(;l<e;){const u=yield Ge(t.listTools({cursor:o}));for(const c of u.tools)yield yield Ge(c),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class Ed{constructor(e=[],s){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=s}static create(e,s){return new Ed(e,s)}async initialize(){var e,s,o,l;if(this.mcpTools.length>0)return;const u={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(s=void 0,Xo(B2(v))),p;p=await g.next(),e=p.done,!e;h=!0){l=p.value,h=!1;const T=l;c.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(T){s={error:T}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(s)throw s.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Fb(this.mcpTools,this.config)}async callTool(e){await this.initialize();const s=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await l.callTool({name:o.name,arguments:o.args},void 0,u);s.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function G2(t,e,s){const o=new Lb;let l;s.data instanceof Blob?l=JSON.parse(await s.data.text()):l=JSON.parse(s.data),Object.assign(o,l),e(o)}class q2{constructor(e,s,o){this.apiClient=e,this.auth=s,this.webSocketFactory=o}async connect(e){var s,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=F2(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(w=>{p=w}),T=e.callbacks,S=function(){p({})},A=this.apiClient,N={onopen:S,onmessage:w=>{G2(A,T.onmessage,w)},onerror:(s=T==null?void 0:T.onerror)!==null&&s!==void 0?s:function(w){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(w){}},R=this.webSocketFactory.create(g,z2(c),N);R.connect(),await v;const k={setup:{model:Me(this.apiClient,e.model)}};return R.send(JSON.stringify(k)),new H2(R,this.apiClient)}}class H2{constructor(e,s){this.conn=e,this.apiClient=s}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const s=Iw(e);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const s=Dw(e);this.conn.send(JSON.stringify(s))}sendPlaybackControl(e){const s={playbackControl:e};this.conn.send(JSON.stringify(s))}play(){this.sendPlaybackControl(bs.PLAY)}pause(){this.sendPlaybackControl(bs.PAUSE)}stop(){this.sendPlaybackControl(bs.STOP)}resetContext(){this.sendPlaybackControl(bs.RESET_CONTEXT)}close(){this.conn.close()}}function z2(t){const e={};return t.forEach((s,o)=>{e[o]=s}),e}function F2(t){const e=new Headers;for(const[s,o]of Object.entries(t))e.append(s,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y2(t,e,s){const o=new Ub;let l;s.data instanceof Blob?l=await s.data.text():s.data instanceof ArrayBuffer?l=new TextDecoder().decode(s.data):l=s.data;const u=JSON.parse(l);if(t.isVertexAI()){const c=Lw(u);Object.assign(o,c)}else Object.assign(o,u);e(o)}class J2{constructor(e,s,o){this.apiClient=e,this.auth=s,this.webSocketFactory=o,this.music=new q2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var s,o,l,u,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Xx(e.config.tools)&&Qx(T);const S=Z2(T);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const j=this.apiClient.getApiKey();let ae="BidiGenerateContent",ce="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ce="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ae}?${ce}=${j}`}let A=()=>{};const N=new Promise(j=>{A=j}),R=e.callbacks,I=function(){var j;(j=R==null?void 0:R.onopen)===null||j===void 0||j.call(R),A({})},P=this.apiClient,k={onopen:I,onmessage:j=>{Y2(P,R.onmessage,j)},onerror:(s=R==null?void 0:R.onerror)!==null&&s!==void 0?s:function(j){},onclose:(o=R==null?void 0:R.onclose)!==null&&o!==void 0?o:function(j){}},w=this.webSocketFactory.create(v,Q2(S),k);w.connect(),await N;let Q=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const j=this.apiClient.getProject(),ae=this.apiClient.getLocation();Q=`projects/${j}/locations/${ae}/`+Q}let q={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ol.AUDIO]}:e.config.responseModalities=[Ol.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],z=[];for(const j of X)if(this.isCallableTool(j)){const ae=j;z.push(await ae.tool())}else z.push(j);z.length>0&&(e.config.tools=z);const W={model:Q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=ww(this.apiClient,W):q=Rw(this.apiClient,W),delete q.config,w.send(JSON.stringify(q)),new X2(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const K2={turnComplete:!0};class X2{constructor(e,s){this.conn=e,this.apiClient=s}tLiveClientContent(e,s){if(s.turns!==null&&s.turns!==void 0){let o=[];try{o=Zt(s.turns),e.isVertexAI()||(o=o.map(l=>tr(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof s.turns}'`)}return{clientContent:{turns:o,turnComplete:s.turnComplete}}}return{clientContent:{turnComplete:s.turnComplete}}}tLiveClienttToolResponse(e,s){let o=[];if(s.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(s.functionResponses)?o=s.functionResponses:o=[s.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(O2)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},K2),e);const s=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(s))}sendRealtimeInput(e){let s={};this.apiClient.isVertexAI()?s={realtimeInput:Uw(e)}:s={realtimeInput:Pw(e)},this.conn.send(JSON.stringify(s))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const s=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(s))}close(){this.conn.close()}}function Q2(t){const e={};return t.forEach((s,o)=>{e[o]=s}),e}function Z2(t){const e=new Headers;for(const[s,o]of Object.entries(t))e.append(s,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tv=10;function xv(t){var e,s,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const c of(s=t==null?void 0:t.tools)!==null&&s!==void 0?s:[])if(Is(c)){l=!0;break}if(!l)return!0;const u=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Is(t){return"callTool"in t&&typeof t.callTool=="function"}function j2(t){var e,s,o;return(o=(s=(e=t.config)===null||e===void 0?void 0:e.tools)===null||s===void 0?void 0:s.some(l=>Is(l)))!==null&&o!==void 0?o:!1}function Sv(t){var e;const s=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,l)=>{if(Is(o))return;const u=o;u.functionDeclarations&&u.functionDeclarations.length>0&&s.push(l)}),s}function Ev(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W2 extends Pn{constructor(e){super(),this.apiClient=e,this.generateContent=async s=>{var o,l,u,c,h;const g=await this.processParamsMaybeAddMcpUsage(s);if(this.maybeMoveToResponseJsonSchem(s),!j2(s)||xv(s.config))return await this.generateContentInternal(g);const p=Sv(s);if(p.length>0){const R=p.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,T;const S=Zt(g.contents),A=(u=(l=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:Tv;let N=0;for(;N<A&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,I=[];for(const P of(h=(c=s.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Is(P)){const w=await P.callTool(v.functionCalls);I.push(...w)}N++,T={role:"user",parts:I},g.contents=Zt(g.contents),g.contents.push(R),g.contents.push(T),Ev(g.config)&&(S.push(R),S.push(T))}return Ev(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async s=>{if(this.maybeMoveToResponseJsonSchem(s),xv(s.config)){const l=await this.processParamsMaybeAddMcpUsage(s);return await this.generateContentStreamInternal(l)}const o=Sv(s);if(o.length>0){const l=o.map(u=>`tools[${u}]`).join(", ");throw new Error(`Incompatible tools found at ${l}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(s)},this.generateImages=async s=>await this.generateImagesInternal(s).then(o=>{var l;let u;const c=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((l=g==null?void 0:g.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async s=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),s==null?void 0:s.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Bi(In.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async s=>{const o={model:s.model,prompt:s.prompt,referenceImages:[],config:s.config};return s.referenceImages&&s.referenceImages&&(o.referenceImages=s.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async s=>{let o={numberOfImages:1,mode:"upscale"};s.config&&(o=Object.assign(Object.assign({},o),s.config));const l={model:s.model,image:s.image,upscaleFactor:s.upscaleFactor,config:o};return await this.upscaleImageInternal(l)},this.generateVideos=async s=>{var o,l,u,c,h,g;if((s.prompt||s.image||s.video)&&s.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=s.video)===null||o===void 0)&&o.uri&&(!((l=s.video)===null||l===void 0)&&l.videoBytes)?s.video={uri:s.video.uri,mimeType:s.video.mimeType}:!((c=(u=s.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(h=s.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(s.source.video={uri:s.source.video.uri,mimeType:s.source.video.mimeType})),await this.generateVideosInternal(s)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var s,o,l;const u=(s=e.config)===null||s===void 0?void 0:s.tools;if(!u)return e;const c=await Promise.all(u.map(async g=>Is(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Xx(e.config.tools)){const g=(l=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Qx(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var s,o,l;const u=new Map;for(const c of(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(Is(c)){const h=c,g=await h.tool();for(const p of(l=g.functionDeclarations)!==null&&l!==void 0?l:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var s,o,l;const u=(l=(o=(s=e.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:Tv;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,T){var S,A;return Ds(this,arguments,function*(){for(var N,R,I,P;h<u;){c&&(h++,c=!1);const q=yield Ge(p.processParamsMaybeAddMcpUsage(T)),X=yield Ge(p.generateContentStreamInternal(q)),z=[],W=[];try{for(var k=!0,w=(R=void 0,Xo(X)),Q;Q=yield Ge(w.next()),N=Q.done,!N;k=!0){P=Q.value,k=!1;const j=P;if(yield yield Ge(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){W.push(j.candidates[0].content);for(const ae of(A=j.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<u&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const ce=yield Ge(v.get(ae.functionCall.name).callTool([ae.functionCall]));z.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(j){R={error:j}}finally{try{!k&&!N&&(I=w.return)&&(yield Ge(I.call(w)))}finally{if(R)throw R.error}}if(z.length>0){c=!0;const j=new Bo;j.candidates=[{content:{role:"user",parts:z}}],yield yield Ge(j);const ae=[];ae.push(...W),ae.push({role:"user",parts:z});const ce=Zt(T.contents).concat(ae);T.contents=ce}else break}})})(this,g,e)}async generateContentInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=pv(this.apiClient,e);return h=ne("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=gv(v),S=new Bo;return Object.assign(S,T),S})}else{const p=hv(this.apiClient,e);return h=ne("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=mv(v),S=new Bo;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=pv(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(T){return Ds(this,arguments,function*(){var S,A,N,R;try{for(var I=!0,P=Xo(T),k;k=yield Ge(P.next()),S=k.done,!S;I=!0){R=k.value,I=!1;const w=R,Q=gv(yield Ge(w.json()));Q.sdkHttpResponse={headers:w.headers};const q=new Bo;Object.assign(q,Q),yield yield Ge(q)}}catch(w){A={error:w}}finally{try{!I&&!S&&(N=P.return)&&(yield Ge(N.call(P)))}finally{if(A)throw A.error}}})})}else{const p=hv(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return Ds(this,arguments,function*(){var S,A,N,R;try{for(var I=!0,P=Xo(T),k;k=yield Ge(P.next()),S=k.done,!S;I=!0){R=k.value,I=!1;const w=R,Q=mv(yield Ge(w.json()));Q.sdkHttpResponse={headers:w.headers};const q=new Bo;Object.assign(q,Q),yield yield Ge(q)}}catch(w){A={error:w}}finally{try{!I&&!S&&(N=P.return)&&(yield Ge(N.call(P)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=fD(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=hD(v),S=new j0;return Object.assign(S,T),S})}else{const p=cD(this.apiClient,e);return h=ne("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=dD(v),S=new j0;return Object.assign(S,T),S})}}async generateImagesInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=ED(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=AD(v),S=new W0;return Object.assign(S,T),S})}else{const p=SD(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=CD(v),S=new W0;return Object.assign(S,T),S})}}async editImageInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=aD(this.apiClient,e);return u=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=lD(g),v=new Cb;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=T2(this.apiClient,e);return u=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=x2(g),v=new Ab;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=t2(this.apiClient,e);return u=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=n2(g),v=new _b;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=r2(this.apiClient,e);return u=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=u2(g),v=new Nb;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=HD(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Mf(v))}else{const p=qD(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Nf(v))}}async listInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=XD(this.apiClient,e);return h=ne("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=ZD(v),S=new $0;return Object.assign(S,T),S})}else{const p=KD(this.apiClient,e);return h=ne("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=QD(v),S=new $0;return Object.assign(S,T),S})}}async update(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=y2(this.apiClient,e);return h=ne("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Mf(v))}else{const p=g2(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Nf(v))}}async delete(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=nD(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=sD(v),S=new ev;return Object.assign(S,T),S})}else{const p=tD(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=iD(v),S=new ev;return Object.assign(S,T),S})}}async countTokens(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Ww(this.apiClient,e);return h=ne("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=eD(v),S=new tv;return Object.assign(S,T),S})}else{const p=jw(this.apiClient,e);return h=ne("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=$w(v),S=new tv;return Object.assign(S,T),S})}}async computeTokens(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=Ow(this.apiClient,e);return u=ne("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=Yw(g),v=new Mb;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=wD(this.apiClient,e);return h=ne("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>{const T=bD(v),S=new Yl;return Object.assign(S,T),S})}else{const p=RD(this.apiClient,e);return h=ne("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=MD(v),S=new Yl;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $2 extends Pn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const s=e.operation,o=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:l,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const s=e.operation,o=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:l,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=yb(e);return h=ne("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c}else{const p=gb(e);return h=ne("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=ub(e);return u=ne("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eI(t){const e={},s=f(t,["data"]);if(s!=null&&d(e,["data"],s),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function tI(t){const e={},s=f(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>uI(u))),d(e,["parts"],l)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function nI(t,e,s){const o={},l=f(e,["expireTime"]);s!==void 0&&l!=null&&d(s,["expireTime"],l);const u=f(e,["newSessionExpireTime"]);s!==void 0&&u!=null&&d(s,["newSessionExpireTime"],u);const c=f(e,["uses"]);s!==void 0&&c!=null&&d(s,["uses"],c);const h=f(e,["liveConnectConstraints"]);s!==void 0&&h!=null&&d(s,["bidiGenerateContentSetup"],rI(t,h));const g=f(e,["lockAdditionalFields"]);return s!==void 0&&g!=null&&d(s,["fieldMask"],g),o}function iI(t,e){const s={},o=f(e,["config"]);return o!=null&&d(s,["config"],nI(t,o,s)),s}function sI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function oI(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(t,["enableWidget"]);return s!=null&&d(e,["enableWidget"],s),e}function aI(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(t,["timeRangeFilter"]);return s!=null&&d(e,["timeRangeFilter"],s),e}function lI(t,e){const s={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Sd(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=f(t,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],tI(mt(N)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let X=Gs(R);Array.isArray(X)&&(X=X.map(z=>fI(Bs(z)))),d(e,["setup","tools"],X)}const I=f(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],cI(I));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","inputAudioTranscription"],P);const k=f(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],k);const w=f(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const Q=f(t,["contextWindowCompression"]);e!==void 0&&Q!=null&&d(e,["setup","contextWindowCompression"],Q);const q=f(t,["proactivity"]);return e!==void 0&&q!=null&&d(e,["setup","proactivity"],q),s}function rI(t,e){const s={},o=f(e,["model"]);o!=null&&d(s,["setup","model"],Me(t,o));const l=f(e,["config"]);return l!=null&&d(s,["config"],lI(l,s)),s}function uI(t){const e={},s=f(t,["functionCall"]);s!=null&&d(e,["functionCall"],s);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],sI(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],eI(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function cI(t){const e={},s=f(t,["handle"]);if(s!=null&&d(e,["handle"],s),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fI(t){const e={},s=f(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],oI(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],aI(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dI(t){const e=[];for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const o=t[s];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(u=>`${s}.${u}`);e.push(...l)}else e.push(s)}return e.join(",")}function hI(t,e){let s=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,s=u):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(s){const u=dI(s);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class pI extends Pn{constructor(e){super(),this.apiClient=e}async create(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=iI(this.apiClient,e);u=ne("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=hI(h,e.config);return l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mI(t,e){const s={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&d(e,["displayName"],o),s}function gI(t){const e={},s=f(t,["config"]);return s!=null&&mI(s,e),e}function yI(t,e){const s={},o=f(t,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),s}function vI(t){const e={},s=f(t,["name"]);s!=null&&d(e,["_url","name"],s);const o=f(t,["config"]);return o!=null&&yI(o,e),e}function TI(t){const e={},s=f(t,["name"]);return s!=null&&d(e,["_url","name"],s),e}function xI(t,e){const s={},o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const l=f(t,["chunkingConfig"]);return e!==void 0&&l!=null&&d(e,["chunkingConfig"],l),s}function SI(t){const e={},s=f(t,["name"]);s!=null&&d(e,["name"],s);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],CI(c)),e}function EI(t){const e={},s=f(t,["fileSearchStoreName"]);s!=null&&d(e,["_url","file_search_store_name"],s);const o=f(t,["fileName"]);o!=null&&d(e,["fileName"],o);const l=f(t,["config"]);return l!=null&&xI(l,e),e}function CI(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function AI(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),s}function _I(t){const e={},s=f(t,["config"]);return s!=null&&AI(s,e),e}function NI(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["fileSearchStores"],u)}return e}function MI(t,e){const s={},o=f(t,["mimeType"]);e!==void 0&&o!=null&&d(e,["mimeType"],o);const l=f(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=f(t,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["customMetadata"],h)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),s}function bI(t){const e={},s=f(t,["fileSearchStoreName"]);s!=null&&d(e,["_url","file_search_store_name"],s);const o=f(t,["config"]);return o!=null&&MI(o,e),e}function RI(t){const e={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(e,["sdkHttpResponse"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(t,e){const s={},o=f(t,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),s}function DI(t){const e={},s=f(t,["name"]);s!=null&&d(e,["_url","name"],s);const o=f(t,["config"]);return o!=null&&wI(o,e),e}function II(t){const e={},s=f(t,["name"]);return s!=null&&d(e,["_url","name"],s),e}function PI(t,e){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),s}function UI(t){const e={},s=f(t,["parent"]);s!=null&&d(e,["_url","parent"],s);const o=f(t,["config"]);return o!=null&&PI(o,e),e}function LI(t){const e={},s=f(t,["sdkHttpResponse"]);s!=null&&d(e,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const l=f(t,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VI extends Pn{constructor(e){super(),this.apiClient=e,this.list=async s=>new Bi(In.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:s.parent,config:o.config}),await this.listInternal(s),s)}async get(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=II(e);return u=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var s,o;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DI(e);l=ne("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UI(e);return u=ne("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=LI(g),v=new bb;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kI extends Pn{constructor(e,s=new VI(e)){super(),this.apiClient=e,this.documents=s,this.list=async(o={})=>new Bi(In.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gI(e);return u=ne("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async get(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TI(e);return u=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var s,o;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vI(e);l=ne("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_I(e);return u=ne("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=NI(g),v=new Rb;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bI(e);return u=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=RI(g),v=new wb;return Object.assign(v,p),v})}}async importFile(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EI(e);return u=ne("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const p=SI(g),v=new gd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BI(t,e){const s={},o=f(t,["name"]);return o!=null&&d(s,["_url","name"],o),s}function GI(t,e){const s={},o=f(t,["name"]);return o!=null&&d(s,["_url","name"],o),s}function qI(t,e,s){const o={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=f(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&d(e,["displayName"],l),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(t,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function HI(t,e,s){const o={};let l=f(s,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const A=f(t,["validationDataset"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec"],Cv(A))}else if(l==="PREFERENCE_TUNING"){const A=f(t,["validationDataset"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec"],Cv(A))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let h=f(s,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=f(t,["epochCount"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=f(t,["epochCount"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let g=f(s,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=f(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(g==="PREFERENCE_TUNING"){const A=f(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let p=f(s,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=f(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(p==="PREFERENCE_TUNING"){const A=f(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=f(s,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=f(t,["adapterSize"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=f(t,["adapterSize"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["beta"]);return e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function zI(t,e){const s={},o=f(t,["baseModel"]);o!=null&&d(s,["baseModel"],o);const l=f(t,["preTunedModel"]);l!=null&&d(s,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&$I(u);const c=f(t,["config"]);return c!=null&&qI(c,s),s}function FI(t,e){const s={},o=f(t,["baseModel"]);o!=null&&d(s,["baseModel"],o);const l=f(t,["preTunedModel"]);l!=null&&d(s,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&eP(u,s,e);const c=f(t,["config"]);return c!=null&&HI(c,s,e),s}function OI(t,e){const s={},o=f(t,["name"]);return o!=null&&d(s,["_url","name"],o),s}function YI(t,e){const s={},o=f(t,["name"]);return o!=null&&d(s,["_url","name"],o),s}function JI(t,e,s){const o={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function KI(t,e,s){const o={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function XI(t,e){const s={},o=f(t,["config"]);return o!=null&&JI(o,s),s}function QI(t,e){const s={},o=f(t,["config"]);return o!=null&&KI(o,s),s}function ZI(t,e){const s={},o=f(t,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const l=f(t,["nextPageToken"]);l!=null&&d(s,["nextPageToken"],l);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Zx(h))),d(s,["tuningJobs"],c)}return s}function jI(t,e){const s={},o=f(t,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const l=f(t,["nextPageToken"]);l!=null&&d(s,["nextPageToken"],l);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Rf(h))),d(s,["tuningJobs"],c)}return s}function WI(t,e){const s={},o=f(t,["name"]);o!=null&&d(s,["model"],o);const l=f(t,["name"]);return l!=null&&d(s,["endpoint"],l),s}function $I(t,e){const s={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=f(t,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),d(s,["examples","examples"],l)}return s}function eP(t,e,s){const o={};let l=f(s,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(s,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Zx(t,e){const s={},o=f(t,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const l=f(t,["name"]);l!=null&&d(s,["name"],l);const u=f(t,["state"]);u!=null&&d(s,["state"],Dx(u));const c=f(t,["createTime"]);c!=null&&d(s,["createTime"],c);const h=f(t,["tuningTask","startTime"]);h!=null&&d(s,["startTime"],h);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(s,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(s,["updateTime"],p);const v=f(t,["description"]);v!=null&&d(s,["description"],v);const T=f(t,["baseModel"]);T!=null&&d(s,["baseModel"],T);const S=f(t,["_self"]);return S!=null&&d(s,["tunedModel"],WI(S)),s}function Rf(t,e){const s={},o=f(t,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const l=f(t,["name"]);l!=null&&d(s,["name"],l);const u=f(t,["state"]);u!=null&&d(s,["state"],Dx(u));const c=f(t,["createTime"]);c!=null&&d(s,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(s,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(s,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(s,["updateTime"],p);const v=f(t,["error"]);v!=null&&d(s,["error"],v);const T=f(t,["description"]);T!=null&&d(s,["description"],T);const S=f(t,["baseModel"]);S!=null&&d(s,["baseModel"],S);const A=f(t,["tunedModel"]);A!=null&&d(s,["tunedModel"],A);const N=f(t,["preTunedModel"]);N!=null&&d(s,["preTunedModel"],N);const R=f(t,["supervisedTuningSpec"]);R!=null&&d(s,["supervisedTuningSpec"],R);const I=f(t,["preferenceOptimizationSpec"]);I!=null&&d(s,["preferenceOptimizationSpec"],I);const P=f(t,["tuningDataStats"]);P!=null&&d(s,["tuningDataStats"],P);const k=f(t,["encryptionSpec"]);k!=null&&d(s,["encryptionSpec"],k);const w=f(t,["partnerModelTuningSpec"]);w!=null&&d(s,["partnerModelTuningSpec"],w);const Q=f(t,["customBaseModel"]);Q!=null&&d(s,["customBaseModel"],Q);const q=f(t,["experiment"]);q!=null&&d(s,["experiment"],q);const X=f(t,["labels"]);X!=null&&d(s,["labels"],X);const z=f(t,["outputUri"]);z!=null&&d(s,["outputUri"],z);const W=f(t,["pipelineJob"]);W!=null&&d(s,["pipelineJob"],W);const j=f(t,["serviceAccount"]);j!=null&&d(s,["serviceAccount"],j);const ae=f(t,["tunedModelDisplayName"]);ae!=null&&d(s,["tunedModelDisplayName"],ae);const ce=f(t,["veoTuningSpec"]);return ce!=null&&d(s,["veoTuningSpec"],ce),s}function tP(t,e){const s={},o=f(t,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const l=f(t,["name"]);l!=null&&d(s,["name"],l);const u=f(t,["metadata"]);u!=null&&d(s,["metadata"],u);const c=f(t,["done"]);c!=null&&d(s,["done"],c);const h=f(t,["error"]);return h!=null&&d(s,["error"],h),s}function Cv(t,e){const s={},o=f(t,["gcsUri"]);o!=null&&d(s,["validationDatasetUri"],o);const l=f(t,["vertexDatasetResource"]);return l!=null&&d(s,["validationDatasetUri"],l),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nP extends Pn{constructor(e){super(),this.apiClient=e,this.get=async s=>await this.getInternal(s),this.list=async(s={})=>new Bi(In.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(s),s),this.tune=async s=>{var o;if(this.apiClient.isVertexAI())if(s.baseModel.startsWith("projects/")){const l={tunedModelName:s.baseModel};!((o=s.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(l.checkpointId=s.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},s),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},s);return await this.tuneInternal(l)}else{const l=Object.assign({},s),u=await this.tuneMldevInternal(l);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Ef.JOB_STATE_QUEUED}}}}async getInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=YI(e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Rf(v))}else{const p=OI(e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Zx(v))}}async listInternal(e){var s,o,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=QI(e);return h=ne("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=jI(v),S=new nv;return Object.assign(S,T),S})}else{const p=XI(e);return h=ne("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=ZI(v),S=new nv;return Object.assign(S,T),S})}}async cancel(e){var s,o,l,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=GI(e);c=ne("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=BI(e);c=ne("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=FI(e,e);return u=ne("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>Rf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var s,o;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zI(e);return u=ne("tunedModels",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>tP(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iP{async download(e,s){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sP=1024*1024*8,oP=3,aP=1e3,lP=2,Kl="x-goog-upload-status";async function rP(t,e,s){var o;const l=await jx(t,e,s),u=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function uP(t,e,s){var o;const l=await jx(t,e,s),u=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=_x(u),h=new yd;return Object.assign(h,c),h}async function jx(t,e,s){var o,l;let u=0,c=0,h=new Cf(new Response),g="upload";for(u=t.size;c<u;){const p=Math.min(sP,u-c),v=t.slice(c,c+p);c+p>=u&&(g+=", finalize");let T=0,S=aP;for(;T<oP&&(h=await s.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[Kl]));)T++,await fP(S),S=S*lP;if(c+=p,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[Kl])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function cP(t){return{size:t.size,type:t.type}}function fP(t){return new Promise(e=>setTimeout(e,t))}class dP{async upload(e,s,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rP(e,s,o)}async uploadToFileSearchStore(e,s,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uP(e,s,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hP{create(e,s,o){return new pP(e,s,o)}}class pP{constructor(e,s,o){this.url=e,this.headers=s,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Av="x-goog-api-key";class mP{constructor(e){this.apiKey=e}async addAuthHeaders(e,s){if(e.get(Av)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Av,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gP="gl-node/";class Wx{constructor(e){var s;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(s=e.vertexai)!==null&&s!==void 0?s:!1,this.apiKey=e.apiKey;const o=lb(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const l=new mP(this.apiKey);this.apiClient=new P2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gP+"web",uploader:new dP,downloader:new iP}),this.models=new W2(this.apiClient),this.live=new J2(this.apiClient,l,new hP),this.batches=new IR(this.apiClient),this.chats=new cw(this.models,this.apiClient),this.caches=new lw(this.apiClient),this.files=new xw(this.apiClient),this.operations=new $2(this.apiClient),this.authTokens=new pI(this.apiClient),this.tunings=new nP(this.apiClient),this.fileSearchStores=new kI(this.apiClient)}}function it(t,e,s=3){if(typeof t!="number"||Number.isNaN(t))return"";const o=t.toLocaleString("es-ES",{maximumFractionDigits:s});return e?`${o} ${e}`:o}function _v(t){return t<10?`0${t}`:String(t)}function Cd(t){var u,c,h;const e=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Madrid",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),s=Number((u=e.find(g=>g.type==="year"))==null?void 0:u.value),o=Number((c=e.find(g=>g.type==="month"))==null?void 0:c.value),l=Number((h=e.find(g=>g.type==="day"))==null?void 0:h.value);return`${s}-${_v(o)}-${_v(l)}`}function yP(){return Cd(new Date)}const wf=yP;function vP(){const t=new Date,e=new Date(t.getTime()-1440*60*1e3);return Cd(e)}function TP(){const t=new Date,e=new Date(t.getTime()+1440*60*1e3);return Cd(e)}function li(t){return new Date(t).toLocaleTimeString("es-ES",{timeZone:"Europe/Madrid",hour:"2-digit",minute:"2-digit",hour12:!1})}const ra="gemini-2.5-flash",ua=()=>new Wx({apiKey:void 0}),xP={type:$.OBJECT,properties:{provider:{type:$.STRING,description:"Nombre de la comercializadora (e.g., Endesa, Iberdrola)."},tariff:{type:$.STRING,description:"Nombre de la tarifa contratada (e.g., 2.0TD, PVPC)."},cups:{type:$.STRING,description:"Cdigo CUPS (ES seguido de 20-22 caracteres)."},billingPeriod:{type:$.OBJECT,properties:{from:{type:$.STRING,description:"Fecha de inicio del periodo de facturacin (YYYY-MM-DD)."},to:{type:$.STRING,description:"Fecha de fin del periodo de facturacin (YYYY-MM-DD)."}}},invoiceNumber:{type:$.STRING,description:"Nmero de la factura."},servicesAmountEur:{type:$.NUMBER,description:"Importe de servicios adicionales o 'Otros conceptos'."},bonusSocialEur:{type:$.NUMBER,description:"Descuento del Bono Social."},compensationTotalEur:{type:$.NUMBER,description:"Total de compensacin por excedentes solares."},virtualBatterySavingEur:{type:$.NUMBER,description:"Ahorro por batera virtual."},contractedPower:{type:$.OBJECT,properties:{p1:{type:$.NUMBER,description:"Potencia contratada en periodo Punta (kW)."},p2:{type:$.NUMBER,description:"Potencia contratada en periodo Llano/Valle (kW)."}}},consumptionByPeriodKwh:{type:$.OBJECT,properties:{p1:{type:$.NUMBER,description:"Consumo en kWh en periodo Punta."},p2:{type:$.NUMBER,description:"Consumo en kWh en periodo Llano."},p3:{type:$.NUMBER,description:"Consumo en kWh en periodo Valle."}}},energySummary:{type:$.OBJECT,properties:{amountDueEur:{type:$.NUMBER,description:"Importe total a pagar de la factura."},totalKwh:{type:$.NUMBER,description:"Consumo total de energa en kWh."}}}}},SP={type:$.OBJECT,properties:{currentPowerKw:{type:$.NUMBER,description:"Potencia actual contratada por el usuario en kW."},recommendedPowerKw:{type:$.NUMBER,description:"Potencia ptima recomendada en kW."},annualSavingsEur:{type:$.NUMBER,description:"Ahorro anual estimado en euros al cambiar a la potencia recomendada."},analysisSummary:{type:$.STRING,description:"Breve explicacin de por qu se recomienda el cambio."}}},EP={type:$.OBJECT,properties:{estimatedAnnualSavingEur:{type:$.NUMBER,description:"Ahorro anual estimado al cambiar a la mejor tarifa recomendada."},bestTariffRecommendation:{type:$.STRING,description:"Nombre de la mejor tarifa recomendada."},bestProviderRecommendation:{type:$.STRING,description:"Nombre de la comercializadora de la mejor tarifa."},averageCostEur:{type:$.NUMBER,description:"Coste medio mensual del usuario con su tarifa actual."},costSimulations:{type:$.ARRAY,items:{type:$.OBJECT,properties:{tariffName:{type:$.STRING},providerName:{type:$.STRING},averageMonthlyCostEur:{type:$.NUMBER},isGreen:{type:$.BOOLEAN,description:"Es una tarifa de energa 100% renovable?"},hasPermanence:{type:$.BOOLEAN,description:"La tarifa tiene compromiso de permanencia?"},priceType:{type:$.STRING,description:"Tipo de precio: 'Fijo' o 'Indexado'."}}}},powerAnalysis:SP}};$.OBJECT,$.ARRAY,$.STRING,$.ARRAY,$.STRING,$.ARRAY,$.STRING,$.STRING;$.OBJECT,$.STRING,$.ARRAY,$.OBJECT,$.STRING,$.NUMBER,$.NUMBER,$.OBJECT,$.STRING,$.NUMBER,$.OBJECT,$.STRING,$.NUMBER,$.OBJECT,$.STRING,$.STRING,$.NUMBER,$.STRING,$.STRING,$.ARRAY,$.STRING;const CP={type:$.OBJECT,properties:{optimalSchedule:{type:$.ARRAY,items:{type:$.OBJECT,properties:{appliance:{type:$.STRING},recommendedTime:{type:$.STRING}}}},estimatedCostEur:{type:$.NUMBER},peakCostComparisonEur:{type:$.NUMBER},savingsPercentage:{type:$.NUMBER},summary:{type:$.STRING}}};function Df(t){return t===null||typeof t!="object"?t:Array.isArray(t)?t.map(Df):Object.keys(t).reduce((e,s)=>{const o=t[s];return typeof o=="string"?/^[\d.,]+$/.test(o)&&!isNaN(parseFloat(o.replace(/\./g,"").replace(",",".")))?e[s]=parseFloat(o.replace(/\./g,"").replace(",",".")):e[s]=o:typeof o=="object"?e[s]=Df(o):e[s]=o,e},{})}async function Ad(t,e,s){const o=ua();try{let u=(await o.models.generateContent({model:ra,contents:t,config:{responseMimeType:"application/json",responseSchema:e}})).text.trim();u.startsWith("```json")?u=u.substring(7,u.length-3).trim():u.startsWith("`")&&(u=u.replace(/^`+|`+$/g,"").trim()),u=u.replace(/,\s*([}\]])/g,"$1");let c;try{c=JSON.parse(u)}catch(h){console.warn("Initial JSON.parse failed, attempting extraction.",{jsonStr:u,error:h});const g=u.indexOf("{"),p=u.indexOf("["),v=u.lastIndexOf("}"),T=u.lastIndexOf("]");let S=-1,A=-1;if(g!==-1&&v>g&&(S=g,A=v),p!==-1&&T>p&&(S===-1||p<g)&&(S=p,A=T),S!==-1)u=u.substring(S,A+1),c=JSON.parse(u);else throw new Error("Could not find a valid JSON object or array in the string.")}return Df(c)}catch(l){return console.error("Critical error in generateAndParseJson, returning fallback object:",l),s}}function Oc(t,e=0){if(typeof t=="number"&&!isNaN(t))return t;if(typeof t=="string"){const s=parseFloat(t.replace(",","."));return isNaN(s)?e:s}return e}async function AP(t){const e=`Extrae la siguiente informacin del texto de esta factura de electricidad. El texto est en espaol. Asegrate de que las fechas estn en formato YYYY-MM-DD. Si un campo no est presente, omtelo. Texto de la factura:

${t}`;return Ad(e,xP,{billingPeriod:{},contractedPower:{},consumptionByPeriodKwh:{},energySummary:{}})}async function Nv(t){const e=`Basado en los datos de estas facturas de un usuario en Espaa, realiza un anlisis integral y devuelve un JSON ESTRICTO, sin texto adicional.

1.  **Anlisis Comparativo de Tarifas:** Recomienda la mejor tarifa y proporciona una simulacin de costes con 2-3 tarifas alternativas. Para cada simulacin, incluye si es energa 100% verde (isGreen), si tiene permanencia (hasPermanence) y el tipo de precio ('Fijo' o 'Indexado').
2.  **Anlisis de Potencia Contratada:** Analiza la potencia contratada del usuario. Si consideras que est sobredimensionada, proporciona una recomendacin para bajarla, estimando el ahorro anual. Si la potencia es correcta, puedes omitir este bloque.

Los datos de las facturas son: 

${JSON.stringify(t,null,2)}`;return Ad(e,EP,{estimatedAnnualSavingEur:0,bestTariffRecommendation:"Indefinida",bestProviderRecommendation:"",averageCostEur:0,costSimulations:[]})}async function _P(t){const e=ua(),s=`Explica de forma muy breve y directa el siguiente concepto del mercado elctrico espaol, en un mximo de 3 frases. El objetivo es dar una definicin rpida, como una ayuda contextual (tooltip). S claro, ve al grano, y usa Markdown (**negrita**) para resaltar los trminos ms importantes. El concepto es: "${t}".`;return(await e.models.generateContent({model:ra,contents:s})).text}async function NP(t,e){const s=`
Eres un asesor de eficiencia energtica. Un usuario quiere saber cul es el mejor momento para usar una serie de electrodomsticos hoy para minimizar su coste.

**Datos de Entrada:**
1.  **Electrodomsticos seleccionados:** ${t.join(", ")}
2.  **Precios de la electricidad (/kWh) para hoy:** ${JSON.stringify(e)}

**Tu Tarea:**
Crea un plan de consumo ptimo. Considera duraciones y consumos tpicos para cada electrodomstico (ej: Lavadora 2h, Horno 1h, Coche elctrico 4-6h). No puedes programar usos que se solapen en el tiempo.

**INSTRUCCIONES ESTRICTAS DE SALIDA:**
1.  **FORMATO OBLIGATORIO:** Tu nica salida debe ser un objeto JSON VLIDO y NADA MS. No incluyas texto, explicaciones, ni \`\`\`json markdown. La respuesta debe ser el JSON puro.
2.  **ESTRUCTURA DEL JSON:** El JSON debe seguir exactamente esta estructura:
    {
      "optimalSchedule": [
        { "appliance": "string", "recommendedTime": "string (HH:00)" }
      ],
      "estimatedCostEur": number,
      "peakCostComparisonEur": number,
      "savingsPercentage": number,
      "summary": "string"
    }
3.  **TIPOS DE DATOS:** Los campos \`estimatedCostEur\`, \`peakCostComparisonEur\`, y \`savingsPercentage\` deben ser de tipo numrico (number), no strings.

**EJEMPLO DE SALIDA VLIDA:**
{
  "optimalSchedule": [
    { "appliance": "Lavadora", "recommendedTime": "04:00" },
    { "appliance": "Coche elctrico", "recommendedTime": "02:00" }
  ],
  "estimatedCostEur": 0.85,
  "peakCostComparisonEur": 2.30,
  "savingsPercentage": 63,
  "summary": "Usando tus electrodomsticos en las horas ms baratas, el coste se reduce significativamente."
}`,o={optimalSchedule:[],estimatedCostEur:0,peakCostComparisonEur:0,savingsPercentage:0,summary:"No se pudo generar el plan de ahorro en este momento. Por favor, intntalo de nuevo ms tarde."};try{const l=await Ad(s,CP,o),u={optimalSchedule:Array.isArray(l.optimalSchedule)?l.optimalSchedule:[],summary:typeof l.summary=="string"?l.summary:"Aqu tienes tu plan de ahorro personalizado.",estimatedCostEur:Oc(l.estimatedCostEur,0),peakCostComparisonEur:Oc(l.peakCostComparisonEur,0),savingsPercentage:Oc(l.savingsPercentage,0)};return u.optimalSchedule.length>0&&u.estimatedCostEur===0&&u.peakCostComparisonEur===0&&(u.summary="No se pudo calcular el coste exacto, pero s las mejores horas para tu consumo."),u}catch(l){return console.error("Critical error in fetchOptimalUsagePlan, returning fallback object:",l),o}}async function MP(t){const e=ua(),s=`
Un usuario ha recibido el siguiente plan de ahorro del simulador de consumo para hoy.

**Datos del Plan:**
- **Electrodomsticos y horas ptimas:** ${t.optimalSchedule.map(l=>`${l.appliance} a las ${l.recommendedTime}`).join(", ")}
- **Coste estimado en horas ptimas:** ${t.estimatedCostEur.toFixed(2)} 
- **Coste si se usaran en horas caras:** ${t.peakCostComparisonEur.toFixed(2)} 
- **Ahorro porcentual:** ${t.savingsPercentage}%

**Tu Tarea:**
Explica de forma muy breve y amigable (mximo 3-4 frases) de dnde salen esas cifras.
- Menciona que el coste estimado es por usar los aparatos en las horas ms baratas del da.
- Explica que el coste "en horas caras" es una simulacin de lo que costara usar esos mismos aparatos en los momentos de precio ms alto.
- El objetivo es que el usuario entienda el valor de planificar su consumo.
- Utiliza **negrita** para los importes y conceptos clave.
`;return(await e.models.generateContent({model:ra,contents:s})).text}async function bP(t){const e=ua(),s=`
Acta como un experto en eficiencia energtica en Espaa. Genera 3 consejos prcticos y accionables para hoy, basndote en los datos de precios de la luz (PVPC) que te proporciono. Los consejos deben ser especficos para el da de hoy.

**Datos de precios para hoy (${t.date}):**
- **Hora ms barata:** ${li(t.bestHour.time)} (${it(t.bestHour.priceEurKWh,"/kWh",5)})
- **Hora ms cara:** ${li(t.worstHour.time)} (${it(t.worstHour.priceEurKWh,"/kWh",5)})
- **Mejor ventana de 2h:** de ${li(t.bestWindow.startTime)} a ${li(t.bestWindow.endTime)}
- **Precio medio del da:** ${it(t.averagePriceEurKWh,"/kWh",5)}

**Instrucciones:**
- Escribe 3 consejos claros y directos.
- Utiliza los datos de precios para que los consejos sean concretos (ej: "Aprovecha las ${li(t.bestHour.time)} para...").
- Formatea la respuesta en Markdown, usando ### para el ttulo de cada consejo y **negrita** para resaltar.
- No aadas introducciones ni conclusiones, solo los 3 consejos.
`;try{return(await e.models.generateContent({model:ra,contents:s})).text}catch(o){throw console.error("Error fetching AI tips:",o),new Error("No se pudieron generar los consejos desde la IA.")}}async function RP(){const t=ua(),e="Acta como un experto en eficiencia energtica en Espaa. Genera una lista de 2 consejos prcticos y poco comunes para que un usuario residencial ahorre en su factura de la luz. Estructura la respuesta con un ttulo corto y una breve explicacin para cada consejo. Usa Markdown para formatear (### para ttulos, - para listas, ** para negrita). No repitas consejos sobre programar lavadoras o evitar horas punta. S ms original.";try{return(await t.models.generateContent({model:ra,contents:e})).text}catch(s){throw console.error("Error fetching generic AI tips:",s),new Error("No se pudieron generar ms consejos en este momento.")}}const $x=typeof window<"u"&&window.MML_API_BASE||"https://europe-west1-mimejorluz-v1.cloudfunctions.net",Yc="mml:prices:",wP=300*1e3,DP=7200*1e3,Il=new Map,Mv=t=>new Promise(e=>setTimeout(e,t));async function eS(t,e,s=3){for(let o=0;o<s;o++)try{const l=await fetch(t,{method:"GET",...e});if(!l.ok&&l.status>=500&&o<s-1){await Mv(250*(o+1));continue}return l}catch(l){if(o>=s-1)throw l;await Mv(250*(o+1))}throw new Error("Failed to fetch after multiple retries")}function bv(t){var e,s,o,l,u,c,h,g;return{date:String(t.date),points:(t.points||[]).map(p=>({time:String(p.time),priceEurKWh:Number(p.priceEurKWh)})),averagePriceEurKWh:Number(t.averagePriceEurKWh),bestHour:{time:String((e=t.bestHour)==null?void 0:e.time),priceEurKWh:Number((s=t.bestHour)==null?void 0:s.priceEurKWh)},worstHour:{time:String((o=t.worstHour)==null?void 0:o.time),priceEurKWh:Number((l=t.worstHour)==null?void 0:l.priceEurKWh)},bestWindow:{startTime:String((u=t.bestWindow)==null?void 0:u.startTime),endTime:String((c=t.bestWindow)==null?void 0:c.endTime),averagePriceEurKWh:Number((h=t.bestWindow)==null?void 0:h.averagePriceEurKWh),explanation:String(((g=t.bestWindow)==null?void 0:g.explanation)||"")},co2Analysis:String(t.co2Analysis||""),actionableTips:Array.isArray(t.actionableTips)?t.actionableTips.map(String):[]}}async function tS(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))throw new Error(`Invalid date format: ${t} (use YYYY-MM-DD)`);const e=Date.now(),s=Il.get(t);if(s&&e-s.ts<wP)return{data:s.data,source:"memory"};try{const g=Yc+t,p=localStorage.getItem(g);if(p){const v=JSON.parse(p);if(e-v.ts<DP)return Il.set(t,v),{data:v.data,source:"localstorage"}}}catch(g){console.warn("Failed to read from localStorage",g)}const o=`${$x}/prices?date=${encodeURIComponent(t)}`,l=await eS(o);if(!l.ok){const g=await l.text().catch(()=>"");try{const p=JSON.parse(g);if(p.error&&p.error.includes("ESIOS devolvi 0 puntos")){console.warn(`No price data available for ${t}. Returning empty analysis.`);const v=bv({date:t,points:[],averagePriceEurKWh:0,bestHour:{time:"",priceEurKWh:0},worstHour:{time:"",priceEurKWh:0},bestWindow:{startTime:"",endTime:"",averagePriceEurKWh:0,explanation:""},co2Analysis:"No hay datos de precios disponibles para esta fecha. Generalmente, los precios para maana se publican sobre las 20:30h.",actionableTips:[],createdAt:Date.now()}),T={data:v,ts:e};Il.set(t,T);try{localStorage.setItem(Yc+t,JSON.stringify(T))}catch(S){console.warn("Failed to write empty response to localStorage",S)}return{data:v,source:"network"}}}catch{}throw new Error(g||`HTTP ${l.status}`)}const u=await l.json(),c=bv(u),h={data:c,ts:e};Il.set(t,h);try{localStorage.setItem(Yc+t,JSON.stringify(h))}catch(g){console.warn("Failed to write to localStorage",g)}return{data:c,source:"network"}}async function IP(){const t=`${$x}/tariffs`,e=await eS(t);if(!e.ok){const s=await e.text().catch(()=>"");throw new Error(s||`HTTP ${e.status}`)}return e.json()}const PP=({onStart:t})=>{const[e,s]=G.useState(!0);return G.useEffect(()=>{const o=setTimeout(()=>{s(!1)},2800);return()=>clearTimeout(o)},[]),x.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-[#EDEEEF] via-[#F7F7F7] to-white relative p-4",children:[x.jsxs("div",{className:"flex flex-col items-center text-center w-full max-w-xs",children:[x.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/logo.png",alt:"MiMejorLuz",className:"w-36 h-auto"}),x.jsxs("div",{className:"text-center mt-2",children:[x.jsx("h1",{className:"text-[26px] font-semibold text-[#1D1D1F] tracking-tight",children:"MiMejorLuz"}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Asesor energtico con IA"})]})]})}),x.jsx("div",{className:"mt-8 flex flex-col items-center w-full min-h-[60px]",children:x.jsx(Dn,{mode:"wait",children:e?x.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"flex flex-col items-center",children:[x.jsx("div",{className:"loader-track",children:x.jsx("div",{className:"loader-progress"})}),x.jsx("p",{className:"text-xs text-[#AEAEB2] mt-3",children:"Analizando el mercado..."})]},"loader"):x.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5,delay:.2},children:x.jsx(fe.button,{onClick:t,className:"w-[220px] h-[46px] bg-[#1D1D1F] text-white font-semibold text-sm rounded-full shadow-lg shadow-gray-400/20",whileHover:{scale:1.03},whileTap:{scale:.98},children:"Comenzar anlisis"})},"button")})})]}),x.jsx("style",{children:`
                .loader-track {
                    width: 180px;
                    height: 8px;
                    background: linear-gradient(180deg, #F4F6F9 0%, #E9EDF3 100%);
                    border-radius: 9999px;
                    overflow: hidden;
                    box-shadow: 0 1px 2px rgba(0,0,0,0.05) inset, 0 1px 0 rgba(255,255,255,0.5);
                    border: 1px solid #D1D9E6;
                }

                .loader-progress {
                    width: 45%;
                    height: 100%;
                    background: linear-gradient(90deg, #EAEFF5 0%, #FFFFFF 50%, #EAEFF5 100%);
                    border-radius: inherit;
                    position: relative;
                    animation: mml-loading-progress 1.4s ease-in-out infinite;
                }
                
                .loader-progress::after {
                    content: "";
                    position: absolute;
                    inset: -4px -40px;
                    background: linear-gradient(120deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 40%);
                    transform: rotate(-12deg);
                    animation: mml-loading-shine 1.6s linear infinite;
                    opacity: 0.9;
                }

                @keyframes mml-loading-progress {
                    0% { transform: translateX(-70%); }
                    50% { transform: translateX(-10%); }
                    100% { transform: translateX(110%); }
                }

                @keyframes mml-loading-shine {
                    0% { transform: translateX(-40%) rotate(-12deg); }
                    100% { transform: translateX(120%) rotate(-12deg); }
                }
            `})]})},UP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),_d=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),fi=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("path",{d:"M12 3L9.5 8.5L4 11L9.5 13.5L12 19L14.5 13.5L20 11L14.5 8.5L12 3Z"})}),nS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 3v18h18"}),x.jsx("path",{d:"M18 17V9"}),x.jsx("path",{d:"M13 17V5"}),x.jsx("path",{d:"M8 17v-3"})]}),iS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M11 20A7 7 0 0 1 4 13V8a2 2 0 0 1 2-2h4l2 4h4a2 2 0 0 1 2 2v2a7 7 0 0 1-7 7h-1z"}),x.jsx("path",{d:"M11 20v-9"})]}),sS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),x.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),Nd=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),oS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),LP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),x.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),x.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),x.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),sr=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),VP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),kP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),BP=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"9 18 15 12 9 6"})}),GP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),x.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),aS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"})]}),qP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),x.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),x.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),x.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),HP=(t,e=2)=>{if(t===0)return"0 Bytes";const s=1024,o=e<0?0:e,l=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,u)).toFixed(o))+" "+l[u]},Jc={pending:{text:"Pendiente",color:"text-gray-500",icon:""},reading:{text:"Leyendo...",color:"text-blue-500",icon:""},analyzing:{text:"Analizando...",color:"text-purple-500",icon:""},done:{text:"OK",color:"text-green-600",icon:""},error:{text:"Error",color:"text-red-500",icon:""},duplicate:{text:"Duplicado",color:"text-yellow-600",icon:""}},zP=({item:t,onDelete:e})=>x.jsxs(fe.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"flex items-center gap-3 p-2 bg-white rounded-lg border border-gray-100",children:[x.jsx("div",{className:"text-gray-400",children:x.jsx(aS,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium truncate",children:t.file.name}),x.jsx("p",{className:"text-xs text-gray-500",children:HP(t.file.size)})]}),x.jsxs("div",{className:`text-xs font-semibold ${Jc[t.status].color} flex items-center gap-1`,children:[x.jsx("span",{children:Jc[t.status].icon})," ",Jc[t.status].text]}),x.jsx("button",{onClick:()=>e(t.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-full hover:bg-red-50/50 transition-colors",children:x.jsx(UP,{className:"w-4 h-4"})})]}),Go=({label:t,name:e,icon:s,className:o,...l})=>{const u=e?`form-input-${e}`:void 0,c=!!s;return x.jsxs("div",{children:[x.jsx("label",{htmlFor:u,className:"block text-xs font-medium text-[#6E6E73] mb-1.5",children:t}),x.jsxs("div",{className:"relative",children:[c&&x.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none",children:s}),x.jsx("input",{id:u,name:e,...l,className:`w-full bg-white border border-[#E5E5EA] rounded-lg py-2.5 text-sm placeholder:text-[#AEAEB2] focus:ring-2 focus:ring-offset-1 focus:ring-[#FFC700] focus:outline-none transition-shadow ${c?"pl-10 pr-3":"px-3"} ${o||""}`})]})]})},FP=({onManualAnalysis:t})=>{const[e,s]=G.useState({provider:"",tariff:"",avgConsumptionKwh:250,peakPowerKw:4.6}),[o,l]=G.useState({}),u=g=>{s(p=>({...p,[g.target.name]:g.target.value})),o[g.target.name]&&l(p=>({...p,[g.target.name]:""}))},c=g=>{const{name:p,value:v}=g.target;if(v){const T=v.replace(",","."),S=parseFloat(T);isNaN(S)||s(A=>({...A,[p]:Number(S.toFixed(2))}))}},h=g=>{g.preventDefault(),t(e)};return x.jsxs("form",{onSubmit:h,className:"space-y-4 p-1",children:[x.jsx(Go,{label:"Comercializadora",type:"text",name:"provider",value:e.provider||"",onChange:u,placeholder:"Ej: Endesa, Iberdrola",autoComplete:"organization",icon:x.jsx(_d,{className:"w-4 h-4 text-[#FFC700]"}),list:"providers-list",className:"focus:scroll-mb-[120px]"}),x.jsxs("datalist",{id:"providers-list",children:[x.jsx("option",{value:"Endesa"}),x.jsx("option",{value:"Iberdrola"}),x.jsx("option",{value:"Naturgy"}),x.jsx("option",{value:"Repsol"}),x.jsx("option",{value:"Holaluz"}),x.jsx("option",{value:"TotalEnergies"})]}),x.jsx(Go,{label:"Tarifa",type:"text",name:"tariff",value:e.tariff||"",onChange:u,placeholder:"Ej: 2.0TD, One Luz",autoComplete:"off",list:"tariffs-list",className:"focus:scroll-mb-[120px]"}),x.jsxs("datalist",{id:"tariffs-list",children:[x.jsx("option",{value:"2.0TD"}),x.jsx("option",{value:"PVPC"}),x.jsx("option",{value:"Plan Estable"}),x.jsx("option",{value:"One Luz"}),x.jsx("option",{value:"Tarifa Plana"})]}),x.jsx(Go,{label:"Consumo mensual medio (kWh)",type:"text",name:"avgConsumptionKwh",value:e.avgConsumptionKwh||"",onChange:u,onBlur:c,placeholder:"Ej: 250",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"focus:scroll-mb-[120px]"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx(Go,{label:"Potencia Punta (kW)",type:"text",name:"peakPowerKw",step:"0.1",value:e.peakPowerKw||"",onChange:u,onBlur:c,placeholder:"Ej: 4.6",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"focus:scroll-mb-[120px]"}),x.jsx(Go,{label:"Potencia Valle (kW)",type:"text",name:"offPeakPowerKw",step:"0.1",value:e.offPeakPowerKw||"",onChange:u,onBlur:c,placeholder:"(opcional)",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"focus:scroll-mb-[120px]"})]}),x.jsx("p",{className:"text-center text-xs text-[#AEAEB2] pt-2",children:"Tambin puedes subir las facturas cuando las tengas."})]})},OP=({invoiceFiles:t,doneFilesCount:e,onFiles:s,onDelete:o,isDragging:l,dragHandlers:u,fileInputRef:c})=>{const h=p=>{p.target.files&&s(p.target.files)},g=()=>{if(e<3){const p=3-e;return`Sube ${p} factura${p>1?"s":""} ms para analizar (mn. 3).`}return e>12?`Has subido ${e-12} de ms. Elimina alguna para continuar (mx. 12).`:`Perfecto! Con ${e} facturas podemos hacer un anlisis detallado.`};return x.jsxs("div",{className:"flex flex-col h-full p-1",children:[x.jsxs("div",{...u,onClick:()=>{var p;return(p=c.current)==null?void 0:p.click()},className:`flex flex-col items-center justify-center min-h-[180px] p-5 border-2 border-dashed rounded-xl text-center cursor-pointer transition-colors ${l?"border-[#FFC700] bg-[#FFC700]/10":"border-[#E5E5EA] bg-white"}`,children:[x.jsx("input",{type:"file",ref:c,onChange:h,multiple:!0,accept:".pdf,application/pdf",className:"hidden"}),x.jsx("div",{className:"w-12 h-12 grid place-items-center bg-white rounded-full shadow-sm mb-3 border border-black/5",children:x.jsx(aS,{className:"w-6 h-6 text-[#AEAEB2]"})}),x.jsx("p",{className:"font-semibold text-sm text-[#1D1D1F]",children:"Arrastra tus facturas PDF aqu"}),x.jsx("p",{className:"text-xs text-[#6E6E73]",children:"o haz clic para seleccionarlas"})]}),x.jsxs("div",{className:"mt-4 flex-1 space-y-2 min-h-[120px]",children:[x.jsx(Dn,{children:t.map(p=>x.jsx(zP,{item:p,onDelete:o},p.id))}),t.length===0&&x.jsx("div",{className:"h-full flex flex-col items-center justify-center text-center",children:x.jsx("p",{className:"text-sm text-[#AEAEB2]",children:"Sube entre 3 y 12 facturas para empezar."})})]}),e>0&&x.jsx("div",{className:"text-center text-xs text-gray-500 py-2 border-t border-[#E4E4E7] mt-2",children:g()})]})},YP=()=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 flex items-start sm:items-center gap-4",children:[x.jsx("div",{className:"w-11 h-11 rounded-full bg-[#E5E5EA] grid place-items-center flex-shrink-0",children:x.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"var(--accent-main)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-[#1D1D1F]",children:"Cmo quieres que te ayude?"}),x.jsx("p",{className:"text-xs text-[#6E6E73] leading-tight mt-0.5",children:"Puedes subir tus facturas o escribir los datos bsicos. Si los escribes a mano, Thiago te sugerir subir una factura para afinar."})]})]}),JP=({invoiceFiles:t,invoices:e,onFiles:s,onDelete:o,onStartAnalysis:l,onManualAnalysis:u,onOpenSettings:c,manualAnalysisError:h,onRetryManualAnalysis:g,progress:p})=>{const[v,T]=G.useState(!1),[S,A]=G.useState("upload"),N=G.useRef(null),R={onDragEnter:w=>{w.preventDefault(),w.stopPropagation(),T(!0)},onDragLeave:w=>{w.preventDefault(),w.stopPropagation(),T(!1)},onDragOver:w=>{w.preventDefault(),w.stopPropagation()},onDrop:w=>{w.preventDefault(),w.stopPropagation(),T(!1),w.dataTransfer.files&&w.dataTransfer.files.length>0&&(s(w.dataTransfer.files),A("upload"))}},I=G.useMemo(()=>e.length,[e]),P=G.useMemo(()=>I>=3&&I<=12,[I]),k=G.useMemo(()=>S==="manual"?"Analizar mis datos":I===0?"Sube entre 3 y 12 facturas":I<3?`Sube ${3-I} ms para analizar`:I>12?`Elimina ${I-12} para continuar`:`Analizar ${I} factura${I>1?"s":""}`,[S,I]);return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsx("header",{className:"shrink-0",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-[#1D1D1F] tracking-tight",children:"Tu Espacio de Anlisis"}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Genera tu panel de ahorro personalizado."})]}),x.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:x.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]})}),x.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4",children:[x.jsx(YP,{}),x.jsxs("div",{className:"relative flex items-center bg-[#E5E5EA] p-1 rounded-full m-1 shrink-0",children:[x.jsx(fe.div,{className:"absolute top-1 bottom-1 bg-white rounded-full shadow-sm",animate:{left:S==="upload"?"4px":"50%",right:S==="manual"?"4px":"50%"},transition:{type:"spring",stiffness:350,damping:30}}),x.jsx("button",{type:"button",onClick:()=>A("upload"),className:`relative flex-1 py-2 text-sm font-semibold rounded-full z-10 transition-colors duration-200 h-9 ${S==="upload"?"text-[#1D1D1F]":"text-[#6E6E73]"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1A3B70]/50`,children:"Subir facturas"}),x.jsx("button",{type:"button",onClick:()=>A("manual"),className:`relative flex-1 py-2 text-sm font-semibold rounded-full z-10 transition-colors duration-200 h-9 ${S==="manual"?"text-[#1D1D1F]":"text-[#6E6E73]"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1A3B70]/50`,children:"Introducir datos"})]}),x.jsxs("div",{className:"mt-3",children:[x.jsx("div",{className:`${S==="upload"?"block":"hidden"}`,children:x.jsx(OP,{invoiceFiles:t,doneFilesCount:I,onFiles:s,onDelete:o,isDragging:v,dragHandlers:R,fileInputRef:N})}),x.jsx("div",{className:`${S==="manual"?"block":"hidden"}`,children:h?x.jsxs(fe.div,{className:"p-4 bg-red-50 text-red-800 rounded-xl text-center flex flex-col justify-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[x.jsx("p",{className:"font-semibold",children:"Error en el anlisis"}),x.jsx("p",{className:"text-sm mt-1",children:h}),x.jsx("button",{onClick:g,className:"mt-4 mx-auto text-sm font-semibold text-white bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg",children:"Reintentar"})]}):x.jsx(FP,{onManualAnalysis:u})})]})]}),x.jsx("div",{className:"shrink-0 bg-[#F7F7F7]/95 backdrop-blur-sm pt-3 px-4 sm:px-6 lg:px-8 border-t border-gray-200/80",style:{paddingBottom:"calc(env(safe-area-inset-bottom, 12px) + 12px)"},children:x.jsx(fe.button,{onClick:S==="upload"?l:()=>{const w=document.querySelector("form");w==null||w.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:S==="upload"&&!P,className:"w-full min-h-[52px] bg-[var(--accent-main)] text-[var(--text-main)] rounded-xl text-base font-semibold disabled:bg-opacity-50 disabled:cursor-not-allowed shadow-lg shadow-amber-400/20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1A3B70]/50",whileHover:{scale:1.02},whileTap:{scale:.98},children:k})})]})},KP=()=>x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center min-h-screen w-full bg-gradient-to-b from-[#EDEEEF] via-[#F7F7F7] to-white p-4",children:[x.jsxs("div",{className:"flex flex-col items-center text-center w-full max-w-xs",children:[x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/logo.png",alt:"Logo MiMejorLuz",className:"w-24 h-auto"}),x.jsx("h3",{className:"text-xl font-semibold text-[#0F172A] mt-6",children:"Generando tu Panel de Ahorro"}),x.jsx("p",{className:"text-sm text-[#6E6E73] mt-2",children:"Consultando a la IA..."}),x.jsx("div",{className:"mt-8",children:x.jsx("div",{className:"loader-track",children:x.jsx("div",{className:"loader-progress"})})})]}),x.jsx("style",{children:`
                .loader-track {
                    width: 180px;
                    height: 6px; /* Ajustado para ser ms delgado como en la imagen */
                    background: linear-gradient(180deg, #F4F6F9 0%, #E9EDF3 100%);
                    border-radius: 9999px;
                    overflow: hidden;
                    box-shadow: 0 1px 2px rgba(0,0,0,0.05) inset, 0 1px 0 rgba(255,255,255,0.5);
                    border: 1px solid #D1D9E6;
                }

                .loader-progress {
                    width: 45%;
                    height: 100%;
                    background: linear-gradient(90deg, #EAEFF5 0%, #FFFFFF 50%, #EAEFF5 100%);
                    border-radius: inherit;
                    position: relative;
                    animation: mml-loading-progress 1.4s ease-in-out infinite;
                }
                
                .loader-progress::after {
                    content: "";
                    position: absolute;
                    inset: -4px -40px;
                    background: linear-gradient(120deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 40%);
                    transform: rotate(-12deg);
                    animation: mml-loading-shine 1.6s linear infinite;
                    opacity: 0.9;
                }

                @keyframes mml-loading-progress {
                    0% { transform: translateX(-70%); }
                    50% { transform: translateX(-10%); }
                    100% { transform: translateX(110%); }
                }

                @keyframes mml-loading-shine {
                    0% { transform: translateX(-40%) rotate(-12deg); }
                    100% { transform: translateX(120%) rotate(-12deg); }
                }
            `})]}),XP=({value:t,unit:e,className:s})=>{const o=xx(0),l=vM(o,u=>it(Math.round(u),e));return G.useEffect(()=>BM(o,t,{duration:1.2,ease:"easeOut"}).stop,[t,o]),x.jsx(fe.p,{className:s,children:l})},QP=({icon:t,title:e,message:s,ctaText:o,onCtaClick:l})=>x.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"premium-card p-8 text-center flex flex-col items-center",children:[x.jsx("div",{className:"text-gray-400 mb-3",children:t||x.jsx(nS,{})}),x.jsx("h4",{className:"font-semibold text-[#2A2A2D]",children:e}),x.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:s}),o&&l&&x.jsx(fe.button,{whileTap:{scale:.98},onClick:l,className:"mt-4 text-sm font-semibold text-white bg-[#1D1D1F] px-4 py-2 rounded-lg",children:o})]}),Kc=({label:t,value:e})=>x.jsxs("div",{className:"rounded-lg p-3 bg-[#F0F0F2] h-full",children:[x.jsx("div",{className:"text-[11px] text-gray-500",children:t}),x.jsx("div",{className:"text-sm text-[#2A2A2D]",children:e??""})]}),ZP=({analysis:t})=>{const e=new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return x.jsxs("div",{className:"bg-white rounded-2xl p-5 text-center flex flex-col justify-center shadow-sm border border-black/5",children:[x.jsx("p",{className:"font-semibold text-sm text-[#6E6E73]",children:"Ahorro anual estimado"}),x.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#1D1D1F]",children:[x.jsx(XP,{value:t.estimatedAnnualSavingEur,className:"text-4xl lg:text-5xl font-bold tracking-tighter"}),x.jsx("span",{className:"text-3xl lg:text-4xl font-bold mt-1",children:""})]}),x.jsxs("p",{className:"mt-1 text-sm text-[#6E6E73]",children:["Recomendado: ",x.jsx("span",{className:"font-semibold text-[#1D1D1F]",children:t.bestTariffRecommendation})]}),x.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["ltimo anlisis: ",e]})]})},jP=({powerAnalysis:t,onExplain:e})=>x.jsxs("div",{className:"bg-white rounded-2xl p-4 flex flex-col justify-center shadow-sm border border-black/5",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("h3",{className:"font-semibold text-[#1D1D1F]",children:"Anlisis de Potencia"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-xs font-bold text-amber-800 bg-amber-200 px-2 py-0.5 rounded-full",children:"IA"}),x.jsx("button",{onClick:()=>e("Anlisis de Potencia"),className:"text-[var(--accent-main)] p-1 rounded-full hover:bg-amber-100/50 transition-colors",children:x.jsx(fi,{className:"w-4 h-4"})})]})]}),x.jsx("p",{className:"text-sm text-[#6E6E73] mb-3",children:t.analysisSummary}),x.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[x.jsx(Kc,{label:"Actual",value:it(t.currentPowerKw,"kW",2)}),x.jsx(Kc,{label:"Recomendada",value:it(t.recommendedPowerKw,"kW",2)}),x.jsx(Kc,{label:"Ahorro Potencial",value:it(t.annualSavingsEur,"/ao",0)})]})]}),WP=({simulation:t,isRecommended:e,onExplain:s})=>x.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 transition-colors duration-200 ${e?"bg-[#FFF3D1] border border-[#FFD28A]":"bg-white border-b border-black/5 hover:bg-gray-50"}`,children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"font-semibold text-sm text-gray-900",children:t.tariffName}),x.jsx("p",{className:"text-xs text-[#6E6E73]",children:t.providerName}),x.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[t.isGreen&&x.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-green-800 bg-[#DFF7E7] px-2.5 py-0.5 rounded-full font-medium",children:[x.jsx(iS,{className:"w-3.5 h-3.5"})," Verde"]}),t.hasPermanence&&x.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-red-800 bg-[#FDE7E9] px-2.5 py-0.5 rounded-full font-medium",children:[x.jsx(sS,{className:"w-3.5 h-3.5"})," Permanencia"]}),x.jsx("button",{onClick:()=>s(`Tarifa: ${t.tariffName}`),className:"text-xs text-gray-500 hover:underline",children:"Ver detalle"})]})]}),x.jsxs("div",{className:"text-right shrink-0",children:[x.jsx("p",{className:"text-lg font-semibold tracking-tight text-gray-900",children:it(t.averageMonthlyCostEur,"",2)}),x.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"/mes"})]})]}),$P=({className:t})=>x.jsxs("svg",{className:`animate-spin h-5 w-5 ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),eU=({analysis:t,invoices:e,onNavigateHome:s,onExplain:o,lastAnalysisSource:l,onOpenThiago:u,onOpenSettings:c})=>{const[h,g]=G.useState(!1),p=T=>new Promise(S=>setTimeout(S,T)),v=async()=>{g(!0),await p(500),s()};return t?x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 space-y-4",children:[x.jsxs("header",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-[#1D1D1F] tracking-tight",children:"Tu Panel de Ahorro"}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Este es el resultado de tu anlisis personalizado."})]}),x.jsxs("div",{className:"flex items-center flex-shrink-0 gap-2",children:[x.jsxs("button",{onClick:()=>o("Resumen del Panel de Ahorro"),className:"flex items-center gap-1.5 text-xs font-semibold px-2.5 py-1.5 rounded-lg bg-amber-100 text-amber-800 hover:bg-amber-200 transition-colors",children:[x.jsx(fi,{className:"w-3.5 h-3.5"}),"Explicar"]}),x.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:x.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(ZP,{analysis:t}),t.powerAnalysis&&t.powerAnalysis.annualSavingsEur>0&&x.jsx(jP,{powerAnalysis:t.powerAnalysis,onExplain:o})]}),x.jsxs(fe.button,{onClick:u,className:"w-full bg-white rounded-2xl p-4 flex items-center gap-4 text-left shadow-sm border border-black/5",whileTap:{scale:.99},children:[x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Thiago",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("p",{className:"text-sm text-[#1D1D1F]",children:["Quieres que te lo explique ",x.jsx("strong",{children:"Thiago"}),"?"]}),x.jsx("p",{className:"text-xs text-[#6E6E73] leading-tight",children:"Te lo adapta a tus datos y te genera el mensaje."})]}),x.jsx("div",{className:"bg-[#1D1D1F] text-white rounded-full px-4 py-2 text-xs font-semibold whitespace-nowrap",children:"Abrir chat "})]}),l==="manual"&&x.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-4 shadow-sm border border-black/5",children:[x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Thiago",className:"w-10 h-10 rounded-full flex-shrink-0"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"font-semibold text-sm text-[#1D1D1F]",children:"Probamos con una factura real?"}),x.jsx("p",{className:"text-xs text-[#6E6E73]",children:"Con el PDF te puedo ajustar horarios, peajes y potencias."})]}),x.jsx("button",{onClick:s,className:"text-sm font-semibold text-[#1D1D1F] whitespace-nowrap",children:"Subir factura"})]}),x.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-black/5",children:[x.jsxs("div",{className:"mb-3",children:[x.jsx("h3",{className:"font-semibold text-gray-900",children:"Recomendacin de Tarifas"}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Comparamos tu consumo con las mejores opciones para ti."})]}),x.jsx("div",{className:"space-y-2",children:t.costSimulations.map((T,S)=>x.jsx(WP,{simulation:T,isRecommended:T.tariffName===t.bestTariffRecommendation,onExplain:o},S))})]}),x.jsx("p",{className:"text-center text-xs text-[#AEAEB2] pt-2",children:"Anlisis generado con tus datos. Si subes una factura real, lo afinamos."})]}),x.jsx("div",{className:"sticky bottom-0 bg-[#F7F7F7] pt-3 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 border-t border-gray-200/80",children:x.jsx("div",{style:{paddingBottom:"calc(env(safe-area-inset-bottom, 12px) + 12px)"},children:x.jsx("button",{onClick:v,disabled:h,"aria-busy":h,className:"w-full min-h-[52px] bg-[#1D1D1F] text-white font-semibold py-3.5 rounded-xl transition-colors hover:bg-black shadow-lg shadow-black/10 disabled:bg-gray-400 flex items-center justify-center gap-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1A3B70]/50",children:h?x.jsxs(x.Fragment,{children:[x.jsx($P,{className:"text-white"}),x.jsx("span",{children:"Volviendo..."})]}):"Analizar de nuevo"})})})]}):x.jsx("div",{className:"p-4",children:x.jsx(QP,{title:"Anlisis no disponible",message:"No se pudieron cargar los resultados del anlisis. Por favor, vuelve a empezar.",ctaText:"Volver al inicio",onCtaClick:s})})},Xc=({label:t,value:e,subvalue:s,className:o="",isCompact:l=!1})=>x.jsxs("div",{className:`text-center p-2 rounded-lg ${o}`,children:[x.jsx("p",{className:`font-medium ${l?"text-[10px] text-gray-600":"text-[11px] text-gray-500"}`,children:t}),x.jsx("p",{className:`font-semibold text-gray-800 tracking-tight ${l?"text-xs":"text-sm"}`,children:e}),x.jsx("p",{className:`text-gray-600 ${l?"text-[10px]":"text-xs"}`,children:s})]}),tU=(t,e,s)=>{if(s<=0)return"#C7F2D0";const o=(t-e)/s;return o<.33?"#C7F2D0":o<.66?"#FFDFA3":"#F9C3BF"},nU=({point:t,minPrice:e,priceRange:s,onHover:o})=>{const l=s>0?(t.priceEurKWh-e)/s*100:1,u=tU(t.priceEurKWh,e,s);return x.jsx("div",{className:"flex-1 h-full flex flex-col justify-end items-center",onMouseEnter:()=>o(t),onMouseLeave:()=>o(null),children:x.jsx(fe.div,{initial:{height:"0%"},animate:{height:`${Math.max(1,l)}%`},transition:{duration:.5,ease:"easeOut"},style:{backgroundColor:u},className:"w-full rounded-t-sm"})})},lS=({priceData:t,isCompact:e=!1})=>{const[s,o]=G.useState(null),l=G.useMemo(()=>{if(!(t!=null&&t.points)||t.points.length===0)return{minPrice:0,maxPrice:0,priceRange:0};const u=t.points.map(g=>g.priceEurKWh),c=Math.min(...u),h=Math.max(...u);return{minPrice:c,maxPrice:h,priceRange:h-c}},[t]);return t?x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:`${e?"h-20":"h-48"} flex items-stretch gap-px relative`,children:t.points.map(u=>x.jsx(nU,{point:u,onHover:o,...l},u.time))}),s&&x.jsxs(fe.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full bg-gray-800 text-white text-xs font-semibold px-2 py-1 rounded-md shadow-lg pointer-events-none whitespace-nowrap",children:[li(s.time)," - ",it(s.priceEurKWh,"",5)]})]}),x.jsxs("div",{className:`flex justify-between text-gray-400 px-1 ${e?"text-[9px]":"text-[10px]"}`,children:[x.jsx("span",{children:"00h"}),x.jsx("span",{children:"06h"}),x.jsx("span",{children:"12h"}),x.jsx("span",{children:"18h"}),x.jsx("span",{children:"23h"})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-gray-100",children:[x.jsx(Xc,{label:"Ms Barato",value:li(t.bestHour.time),subvalue:it(t.bestHour.priceEurKWh,"/kWh",4),className:"bg-green-50",isCompact:e}),x.jsx(Xc,{label:"Precio Medio",value:it(t.averagePriceEurKWh,"/kWh",4),subvalue:"Hoy",isCompact:e}),x.jsx(Xc,{label:"Ms Caro",value:li(t.worstHour.time),subvalue:it(t.worstHour.priceEurKWh,"/kWh",4),className:"bg-red-50",isCompact:e})]})]}):x.jsx("div",{className:"h-72 bg-gray-100 rounded-lg animate-pulse"})},iU=["Lavadora","Lavavajillas","Horno","Coche elctrico","Secadora","Termo elctrico","Vitrocermica","Radiador elctrico","Otros consumos altos"],sU={Lavadora:"1,2 kWh",Lavavajillas:"1,5 kWh",Horno:"2,0 kWh","Coche elctrico":"7,4 kWh",Secadora:"2,5 kWh","Termo elctrico":"1,8 kWh",Vitrocermica:"1,5 kWh","Radiador elctrico":"1,0 kWh","Otros consumos altos":"Variable"},rS=({appliance:t})=>{const e={Lavadora:"",Lavavajillas:"",Horno:"","Coche elctrico":"",Secadora:"","Termo elctrico":"",Vitrocermica:"","Radiador elctrico":"","Otros consumos altos":""};return x.jsx("span",{className:"text-2xl",children:e[t]})},oU=({plan:t,onReset:e,onExplain:s,isExplanationLoading:o,explanationText:l})=>{const u=typeof t.estimatedCostEur=="number"&&t.estimatedCostEur>0,c=typeof t.savingsPercentage=="number"&&t.savingsPercentage>0;return x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},children:[x.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1",children:[x.jsx("h3",{className:"font-bold tracking-tight text-left",children:"Tu Plan de Consumo ptimo"}),x.jsxs("button",{onClick:s,disabled:o,className:"flex-shrink-0 flex items-center gap-1.5 text-xs font-semibold px-2.5 py-1.5 rounded-lg bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[x.jsx(fi,{className:"w-3.5 h-3.5"}),"Explicar con IA"]})]}),o&&x.jsx("p",{className:"text-xs text-gray-500 text-right mt-1 animate-pulse",children:"Generando explicacin..."}),x.jsx("p",{className:"text-sm text-gray-600 text-center mt-1",children:t.summary}),x.jsx(Dn,{children:l&&x.jsx(fe.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:"1rem"},exit:{opacity:0,height:0,marginTop:0},className:"p-3 bg-gray-50 rounded-lg text-sm text-gray-700 overflow-hidden",children:x.jsx("p",{dangerouslySetInnerHTML:{__html:l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})})}),x.jsx("div",{className:"my-4 space-y-2",children:t.optimalSchedule.map(({appliance:h,recommendedTime:g})=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(rS,{appliance:h}),x.jsx("span",{className:"font-semibold text-sm",children:h})]}),x.jsx("span",{className:"font-bold text-sm bg-amber-100 text-amber-800 px-2 py-1 rounded-md",children:g})]},h))}),x.jsx("p",{className:"text-xs text-gray-400 mb-2 text-left",children:"Clculo basado SOLO en los electrodomsticos que has seleccionado para HOY."}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[x.jsxs("div",{className:"p-3 bg-green-50 rounded-lg flex flex-col justify-center items-center min-h-[76px]",children:[x.jsx("p",{className:"text-xs text-green-800 font-medium",children:"Coste Estimado"}),u?x.jsx("p",{className:"text-lg font-bold text-green-900",children:it(t.estimatedCostEur,"",2)}):x.jsx("p",{className:"text-xs text-gray-500 mt-1 px-2",children:"Se necesita volver a calcular"})]}),x.jsxs("div",{className:"p-3 bg-red-50 rounded-lg flex flex-col justify-center items-center min-h-[76px]",children:[x.jsx("p",{className:"text-xs text-red-800 font-medium",children:"vs. Horas Caras"}),u?x.jsx("p",{className:"text-lg font-bold text-red-900",children:it(t.peakCostComparisonEur,"",2)}):x.jsx("p",{className:"text-xs text-gray-500 mt-1 px-2",children:"Se necesita volver a calcular"})]})]}),x.jsx("p",{className:"text-center text-sm font-semibold text-gray-700 mt-3 flex items-center justify-center h-5",children:c?`Ahorras un ${it(t.savingsPercentage,"%",0)}!`:"Hemos encontrado horas ms baratas para hoy."}),x.jsx("button",{onClick:e,className:"w-full mt-4 py-2 rounded-lg text-sm font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300 transition-colors",children:"Simular de nuevo"})]})},aU=({onExplain:t,priceData:e,fetchOptimalUsagePlan:s,preselectedAppliances:o,onPreselectionsConsumed:l})=>{const[u,c]=G.useState([]),[h,g]=G.useState(null),[p,v]=G.useState(!1),[T,S]=G.useState(null),[A,N]=G.useState(!1),[R,I]=G.useState(!1),[P,k]=G.useState(null);G.useEffect(()=>{o!==null&&(c(o),N(o.length===0),l())},[o,l]);const w=G.useCallback(z=>{c(W=>W.includes(z)?W.filter(j=>j!==z):[...W,z])},[]),Q=G.useCallback(async()=>{if(!(!(e!=null&&e.points)||u.length===0)){v(!0),S(null),g(null);try{const z=await s(u,e.points);g(z)}catch(z){console.error("Failed to create optimal usage plan:",z),S("No se pudo generar el plan. Intntalo de nuevo.")}finally{v(!1)}}},[u,e,s]),q=G.useCallback(async()=>{if(h){I(!0),k(null);try{const z=await MP(h);k(z)}catch(z){console.error("Failed to fetch explanation:",z),k("No se pudo generar la explicacin en este momento.")}finally{I(!1)}}},[h]),X=()=>{g(null),c([]),S(null),k(null),I(!1),N(!1)};return x.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-black/5",children:x.jsx(Dn,{mode:"wait",children:h?x.jsx(fe.div,{children:x.jsx(oU,{plan:h,onReset:X,onExplain:q,isExplanationLoading:R,explanationText:P})},"result"):x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Simulador de Consumo"}),x.jsx("button",{onClick:()=>t("Simulador de Consumo"),className:"text-amber-600 p-1 rounded-full hover:bg-amber-100 transition-colors",children:x.jsx(fi,{className:"w-4 h-4"})})]}),A?x.jsx("p",{className:"mt-2 text-sm text-center text-amber-800 bg-amber-50 p-2 rounded-lg",children:"Selecciona qu aparatos quieres usar y te digo la hora ms barata."}):x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Selecciona los electrodomsticos que quieres usar y te diremos cundo es ms barato."}),x.jsxs("div",{className:"mt-4",children:[x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-2",children:iU.map(z=>{const W=u.includes(z);return x.jsxs(fe.div,{className:`flex flex-col items-center justify-between p-2 border-2 rounded-lg cursor-pointer transition-all duration-200 ease-in-out min-h-[6rem] ${W?"border-amber-400 bg-amber-50":"border-transparent bg-gray-50 hover:bg-gray-100"}`,onClick:()=>w(z),whileTap:{scale:.95},animate:{scale:W?1.05:1},children:[x.jsx(rS,{appliance:z}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-[11px] font-semibold text-gray-800 leading-tight",children:z}),x.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:sU[z]})]})]},z)})}),x.jsx("button",{onClick:Q,disabled:u.length===0||p,className:"bg-[var(--accent-main)] text-black w-full mt-4 py-2.5 rounded-lg font-semibold disabled:bg-gray-300 disabled:shadow-none disabled:cursor-not-allowed",children:p?"Calculando...":"Calcular mejor hora con los precios de hoy"}),T&&x.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:T})]})]},"selection")})})},Qc=({label:t,isActive:e,onClick:s})=>x.jsx("button",{onClick:s,className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors ${e?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t});function lU(t){if(!t||typeof t!="object")return{price:"",unit:""};const e=t.energia||{};if(typeof e.fijo=="number")return{price:it(e.fijo,"",4),unit:"/kWh"};const s=[];return typeof e.punta=="number"&&s.push(`P1 ${it(e.punta,"")}`),typeof e.llano=="number"&&s.push(`P2 ${it(e.llano,"")}`),typeof e.valle=="number"&&s.push(`P3 ${it(e.valle,"")}`),s.length?{price:s.join(" | "),unit:"/kWh"}:{price:"Consultar",unit:""}}function rU(t,e=6){const s=[];for(const o of t){const l=(o.tariffs||[]).filter(c=>c.isActive!==!1);if(!l.length)continue;const u=l[0];s.push({provider:o,tariff:u,summary:lU(u.priceDetails)})}return s.sort((o,l)=>o.provider.name.localeCompare(l.provider.name)),s.slice(0,e)}const uU=({row:t})=>{var e,s;return x.jsxs(fe.a,{href:t.provider.websiteUrl||"#",target:"_blank",rel:"noreferrer",className:"p-4 rounded-xl bg-white hover:bg-gray-50 transition-all flex flex-col gap-3 border",whileHover:{y:-3,boxShadow:"0 6px 15px rgba(0,0,0,0.06)"},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:t.provider.logoUrl||"https://storage.googleapis.com/mejorluz-assets-public-2025/logo.png",alt:t.provider.name,className:"w-10 h-10 object-contain flex-shrink-0"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"text-sm font-semibold truncate text-gray-800",children:t.provider.name}),x.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.tariff.name})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"font-bold text-base text-gray-800",children:t.summary.price}),t.summary.unit&&x.jsx("p",{className:"text-[11px] text-gray-500 -mt-1",children:t.summary.unit})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 border-t pt-2",children:[((e=t.tariff.conditions)==null?void 0:e.toLowerCase().includes("100% verde"))&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(iS,{className:"w-3.5 h-3.5 text-green-500"})," Energa Verde"]}),((s=t.tariff.conditions)==null?void 0:s.toLowerCase().includes("permanencia"))&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(sS,{className:"w-3.5 h-3.5 text-red-500"})," Con Permanencia"]}),x.jsx("span",{className:"flex-1 text-right text-xs font-bold text-amber-700 hover:underline",children:"Ver Oferta"})]})]})};function cU({onExplain:t}){const[e,s]=qo.useState(!0),[o,l]=qo.useState(null),[u,c]=qo.useState([]),[h,g]=G.useState("Todas"),p=async()=>{try{s(!0),l(null);const v=await IP(),T=rU(v,6);c(T)}catch(v){l((v==null?void 0:v.message)||"Error al cargar tarifas")}finally{s(!1)}};return qo.useEffect(()=>{p()},[]),x.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-black/5",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[x.jsx(Qc,{label:"Todas",isActive:h==="Todas",onClick:()=>g("Todas")}),x.jsx(Qc,{label:"Con batera virtual",isActive:h==="Con batera virtual",onClick:()=>g("Con batera virtual")}),x.jsx(Qc,{label:"Autoconsumo",isActive:h==="Autoconsumo",onClick:()=>g("Autoconsumo")})]}),x.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[x.jsx("h4",{className:"font-bold text-base tracking-tight flex items-center gap-2",children:"Tarifas destacadas (beta)"}),x.jsx("button",{onClick:()=>t("Tarifas Destacadas"),className:"text-amber-600 p-1 rounded-full hover:bg-amber-100 transition-colors",children:x.jsx(fi,{className:"w-4 h-4"})})]}),x.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Datos de tarifas en modo demo. Se actualizarn automticamente cuando carguemos tu base real."}),e?x.jsx("div",{className:"space-y-3",children:[...Array(3)].map((v,T)=>x.jsx("div",{className:"p-3 rounded-xl bg-gray-100 animate-pulse h-24"},T))}):o?x.jsx("div",{className:"text-sm text-center text-red-600 p-4 bg-red-50 rounded-lg",children:o}):u.length===0?x.jsx("div",{className:"text-sm text-center text-gray-600 p-4 bg-gray-50 rounded-lg",children:"No hay tarifas disponibles por el momento."}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(v=>x.jsx(uU,{row:v},`${v.provider.id}-${v.tariff.id}`))}),x.jsx("p",{className:"mt-4 text-[11px] text-gray-500 text-center",children:"Prximamente: comparativa personalizada con tu consumo real."})]})}const Rv=t=>{let e=t;return e=e.replace(/^### (.*$)/gim,'<h3 class="font-semibold text-gray-800 mt-4 mb-2 text-base">$1</h3>'),e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),e=e.replace(/^- (.*$)/gim,'<li class="ml-5 list-disc mb-1">$1</li>'),e.match(/<li.*?>/g)&&(e=`<ul>${e}</ul>`),e=e.replace(/<\/li>(\s*<h3)/g,"</li></ul>$1"),e=e.replace(/\n/g,"<br />"),e},wv=({className:t})=>x.jsxs("svg",{className:`animate-spin h-5 w-5 ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),fU=({priceData:t})=>{const[e,s]=G.useState(null),[o,l]=G.useState(null),[u,c]=G.useState(!1),[h,g]=G.useState(!1),[p,v]=G.useState(null),T=G.useCallback(async A=>{if(!A||A.points.length===0){v("No hay datos de precios disponibles para generar consejos.");return}c(!0),v(null);try{const N=await bP(A);s(N)}catch(N){v("No se pudieron generar los consejos para hoy."),console.error(N)}finally{c(!1)}},[]),S=G.useCallback(async()=>{g(!0),v(null);try{const A=await RP();l(N=>N?`${N}

${A}`:A)}catch(A){v("No se pudieron generar ms consejos."),console.error(A)}finally{g(!1)}},[]);return G.useEffect(()=>{t&&T(t)},[t,T]),x.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-black/5 min-h-[400px] flex flex-col",children:[x.jsx("h3",{className:"font-bold tracking-tight text-base",children:"Consejos de Ahorro con IA"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Recomendaciones para reducir tu consumo basadas en los precios de hoy."}),x.jsx("div",{className:"flex-1 mt-4 overflow-y-auto",children:x.jsx(Dn,{mode:"wait",children:u?x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center flex flex-col justify-center h-full",children:[x.jsx(wv,{className:"mx-auto text-amber-500 w-8 h-8"}),x.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Analizando los precios de hoy para darte los mejores consejos..."})]},"loading"):p&&!e?x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center p-4 bg-red-50 text-red-700 rounded-lg",children:[x.jsx("p",{className:"font-semibold",children:"Vaya!"}),x.jsx("p",{className:"text-sm",children:p})]},"error"):e?x.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full text-sm text-gray-700 space-y-2 text-left",children:[x.jsx("div",{dangerouslySetInnerHTML:{__html:Rv(e)}}),o&&x.jsx("div",{className:"mt-4 pt-4 border-t",dangerouslySetInnerHTML:{__html:Rv(o)}})]},"tips"):x.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center flex flex-col justify-center h-full",children:[x.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 grid place-items-center mx-auto",children:x.jsx(_d,{className:"w-8 h-8 text-amber-500"})}),x.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"No se encontraron datos de precios para generar consejos automticos."})]},"initial")})}),x.jsxs("div",{className:"mt-6 space-y-2",children:[p&&x.jsx("p",{className:"text-xs text-center text-red-600",children:p}),x.jsx("button",{onClick:S,disabled:h||u,className:"w-full py-2.5 rounded-lg font-semibold text-sm bg-gray-800 text-white flex items-center justify-center gap-2 hover:bg-black transition-colors disabled:bg-gray-400",children:h?x.jsxs(x.Fragment,{children:[x.jsx(wv,{className:"w-4 h-4"}),"Generando..."]}):x.jsxs(x.Fragment,{children:[x.jsx(fi,{className:"w-4 h-4"}),e?"Generar ms consejos":"Generar consejos generales"]})})]})]})},dU=({label:t,isActive:e,onClick:s})=>x.jsx("button",{type:"button",onClick:s,className:`relative flex-1 py-2 text-sm font-semibold rounded-full z-10 transition-colors h-9 ${e?"text-gray-800":"text-gray-500"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1A3B70]/50`,children:t}),Dv=[{id:"precios",label:"Precio Luz"},{id:"simulador",label:"Simulador"},{id:"consejos",label:"Consejos IA"},{id:"tarifas",label:"Tarifas"}],hU=({onExplain:t,fetchOptimalUsagePlan:e})=>{const[s,o]=G.useState("precios"),[l,u]=G.useState("today"),[c,h]=G.useState(wf()),g=G.useRef(null),[p,v]=G.useState(null),[T,S]=G.useState(!0),[A,N]=G.useState(null),R=G.useCallback(async q=>{S(!0),N(null);try{const{data:X}=await tS(q);v(X)}catch(X){N(X.message||"No se pudieron cargar los precios. Intntalo de nuevo ms tarde."),v(null)}finally{S(!1)}},[]);G.useEffect(()=>{R(c)},[c,R]);const I=q=>{u(q);let X;q==="today"?X=wf():q==="tomorrow"?X=TP():q==="yesterday"&&(X=vP()),X&&h(X)},P=q=>{h(q.target.value),u("custom")},k=()=>{var q;(q=g.current)==null||q.click()},w=G.useCallback(()=>{},[]),Q=Dv.findIndex(q=>q.id===s);return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-2xl font-bold text-[#1D1D1F] tracking-tight",children:"Optimiza tu Consumo"}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Encuentra las horas ms baratas y planifica tu gasto energtico."})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 pb-24 space-y-4",children:[x.jsxs("div",{className:"relative flex items-center bg-gray-100 p-1 rounded-full m-1 shrink-0",children:[x.jsx(fe.div,{className:"absolute top-1 bottom-1 bg-white rounded-full shadow-sm",animate:{left:`${Q*25}%`,width:"25%"},transition:{type:"spring",stiffness:350,damping:30}}),Dv.map(q=>x.jsx(dU,{label:q.label,isActive:s===q.id,onClick:()=>o(q.id)},q.id))]}),x.jsx(Dn,{mode:"wait",children:x.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[s==="precios"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-4 gap-1 text-center bg-gray-100 p-1 rounded-full m-1",children:[x.jsx("button",{onClick:()=>I("yesterday"),className:`py-2 text-sm font-semibold rounded-full ${l==="yesterday"?"bg-white shadow-sm":"text-gray-500"}`,children:"Ayer"}),x.jsx("button",{onClick:()=>I("today"),className:`py-2 text-sm font-semibold rounded-full ${l==="today"?"bg-white shadow-sm":"text-gray-500"}`,children:"Hoy"}),x.jsx("button",{onClick:()=>I("tomorrow"),className:`py-2 text-sm font-semibold rounded-full ${l==="tomorrow"?"bg-white shadow-sm":"text-gray-500"}`,children:"Maana"}),x.jsxs("button",{onClick:k,className:`relative flex items-center justify-center cursor-pointer py-2 rounded-full ${l==="custom"?"bg-white shadow-sm":"text-gray-500"}`,children:[x.jsx(qP,{className:"w-4 h-4"}),x.jsx("input",{ref:g,type:"date",value:c,onChange:P,className:"hidden"})]})]}),x.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-black/5 mt-2",children:T?x.jsx("div",{className:"h-72 bg-gray-200/50 rounded-lg animate-pulse"}):A?x.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-center text-red-500 p-4",children:[x.jsx("h4",{className:"font-semibold",children:"Error de Carga"}),x.jsx("p",{className:"text-sm mt-1",children:A})]}):p&&p.points.length>0?x.jsx(lS,{priceData:p}):x.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-center text-gray-600 p-4",children:[x.jsx("h4",{className:"font-semibold",children:"Datos no disponibles"}),x.jsx("p",{className:"text-sm mt-1",children:(p==null?void 0:p.co2Analysis)||"Los precios para esta fecha an no estn disponibles."})]})})]}),s==="simulador"&&x.jsx(aU,{onExplain:t,priceData:p,fetchOptimalUsagePlan:e,preselectedAppliances:null,onPreselectionsConsumed:w}),s==="consejos"&&x.jsx(fU,{priceData:p}),s==="tarifas"&&x.jsx(cU,{onExplain:t})]},s)})]})]})},pU=`
Tu nombre es **Thiago** y eres el asistente virtual oficial de la app **MiMejorLuz**.

El usuario te enviar su mensaje, que a veces ir precedido por un bloque [CONTEXTO DE LA APP]. Debes interpretar ese contexto para adaptar tu respuesta.

REGLAS DE CONTEXTO (MXIMA PRIORIDAD):
- **Si el contexto contiene \`source: "manual"\`**: Significa que el anlisis del usuario se basa en datos manuales, no en una factura real. Tenlo en cuenta en tus respuestas. Por ejemplo, si te pregunta por su potencia contratada, explcale que solo conoces la que l introdujo y que en la factura real vendra el detalle exacto.
- **Si el contexto contiene \`source: "invoices"\` o no hay contexto**: El usuario ha subido facturas reales o es una conversacin nueva sin anlisis previo. Puedes asumir que tienes datos precisos si se gener un anlisis.

ROL:
- Eres un asesor energtico profesional especializado en el mercado elctrico espaol.
- Ayudas a los usuarios a optimizar su factura, elegir tarifa, entender el PVPC, sacar partido al autoconsumo y a la batera virtual.
- Tu prioridad es que el usuario ahorre dinero y use la energa en las horas ms baratas.

DATOS DE LA APP (NO LOS CAMBIES):
- La app ya tiene un backend con estos endpoints:
  - GET /prices?date=YYYY-MM-DD
  - GET /tariffs
  - Base: https://europe-west1-mimejorluz-v1.cloudfunctions.net
- Si el usuario te pide precios REALES de hoy, debes decir:
  Tu app ya tiene el endpoint /prices, pdele al frontend que lo llame para esta fecha.
- Si el usuario te pide tarifas REALES, debes decir:
  Tu app ya tiene el endpoint /tariffs, consltalo y te comparo.

RESPUESTAS CONTEXTUALES SEGN LA PANTALLA:
- El frontend te puede pasar un contexto sobre la pantalla actual del usuario. Si es as, prioriza tu respuesta segn corresponda:
- **Si el contexto es \`screen: "optimizar"\`**:
  - Tu objetivo es ayudarle a entender y usar la pestaa "Optimizar".
  - Prioriza hablar de los precios del da (PVPC), las mejores horas para consumir, cmo interpretar el grfico de precios, y las diferencias entre hoy y maana.
- **Si el contexto es \`screen: "panel"\`**:
  - Tu objetivo es ayudarle a entender su "Panel de Ahorro".
  - Prioriza explicar los detalles de la tarifa recomendada en el panel, cmo puede el usuario cambiarse de comercializadora, y qu documentos necesita.
- **Si no recibes contexto**: Responde de forma general como lo haras normalmente.

CMO RESPONDES:
- Siempre en espaol.
- Claro y corto, salvo que el usuario pida detalle.
- Usa secciones:
  SITUACIN
  LO QUE PUEDES HACER
  SIGUIENTE PASO

QU PUEDES PREGUNTAR:
- Consumo mensual aproximado (si no lo sabe, 250 kWh/mes).
- Potencia contratada (si no lo sabe, 3,45 kW).
- Si tiene placas / batera virtual / compensacin de excedentes.
- Comercializadora actual.

TEMAS QUE DOMINAS:
- PVPC vs mercado libre.
- 2.0TD (punta, llano, valle).
- Autoconsumo con compensacin (RD 244/2019, nivel divulgativo).
- Batera virtual: no es fsica, acumula saldo, no genera factura negativa, depende de la comercializadora.
- Excedentes: suele pagarse menos de lo que cuesta consumir.

LIMITACIONES:
- No inventes precios concretos de mercado libre si no te los dan.
- No prometas factura de 0 .
- No des instrucciones para fraude elctrico.

SI EL USUARIO DICE QUIERO VER EL CDIGO:
- Responde que eso lo hace el asistente de desarrollo, no Thiago.

`,mU="gemini-2.5-pro",gU=()=>new Wx({apiKey:void 0});async function yU(t,e){try{const s=gU();let o=t;return e!=null&&e.source&&(o=`[CONTEXTO DE LA APP]
source: "${e.source}"

[MENSAJE DEL USUARIO]
${t}`),(await s.models.generateContent({model:mU,contents:o,config:{systemInstruction:pU}})).text}catch(s){return console.error("Error asking Thiago:",s),"No he podido consultar a Thiago ahora mismo. Intntalo ms tarde."}}const vU=()=>x.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3",children:[x.jsx(fe.img,{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Avatar de Thiago",className:"w-8 h-8 rounded-full",animate:{scale:[1,1.04,1]},transition:{duration:3,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),x.jsxs("div",{className:"flex items-center gap-1.5 p-3 bg-gray-100 rounded-full",children:[x.jsx(fe.div,{className:"w-1.5 h-1.5 bg-gray-400 rounded-full",animate:{y:[0,-3,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"}}),x.jsx(fe.div,{className:"w-1.5 h-1.5 bg-gray-400 rounded-full",animate:{y:[0,-3,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.1}}),x.jsx(fe.div,{className:"w-1.5 h-1.5 bg-gray-400 rounded-full",animate:{y:[0,-3,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.2}})]})]}),TU=({onClose:t,lastAnalysisSource:e})=>{const[s,o]=G.useState([]),[l,u]=G.useState(""),[c,h]=G.useState(!1),g=G.useRef(null);G.useEffect(()=>{let v="Soy Thiago . Puedo ayudarte con tarifas, horarios baratos, autoconsumo y batera virtual. Qu quieres ver?";e==="manual"&&(v="Hola! Soy Thiago. Veo que has introducido tus datos a mano. Genial, ya tenemos una primera estimacin!  Para un anlisis ms preciso, te recomiendo subir una factura real cuando puedas. Mientras tanto, en qu te ayudo?"),o([{id:Date.now(),sender:"thiago",text:v}])},[e]),G.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[s,c]);const p=async v=>{v.preventDefault();const T=l.trim();if(!T||c)return;const S={id:Date.now(),sender:"user",text:T};o(A=>[...A,S]),u(""),h(!0);try{const N=await yU(T,e?{source:e}:void 0),R={id:Date.now()+1,sender:"thiago",text:N};o(I=>[...I,R])}catch(A){console.error("Error fetching Thiago's response:",A);const N={id:Date.now()+1,sender:"thiago",text:"Lo siento, estoy teniendo problemas para conectar. Por favor, intntalo de nuevo ms tarde."};o(R=>[...R,N])}finally{h(!1)}};return x.jsxs(fe.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[x.jsx("div",{className:"fixed inset-0 bg-black/40",onClick:t}),x.jsxs(fe.div,{className:"relative bg-white w-full max-w-md max-h-[85vh] rounded-t-2xl shadow-2xl flex flex-col",initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"spring",stiffness:400,damping:40},children:[x.jsxs("header",{className:"flex items-center p-4 border-b border-gray-100 flex-shrink-0",children:[x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Avatar de Thiago",className:"w-9 h-9 rounded-full mr-3"}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("p",{className:"font-bold text-sm text-gray-800",children:["Thiago  ",x.jsx("span",{className:"font-medium",children:"Asesor energtico"})]}),x.jsx("p",{className:"text-xs text-gray-500",children:"MiMejorLuz"})]}),x.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-700",children:x.jsx(Nd,{className:"w-5 h-5"})})]}),x.jsxs("main",{ref:g,className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[x.jsx(Dn,{children:s.map(v=>x.jsxs(fe.div,{layout:!0,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex items-start gap-3 ${v.sender==="user"?"justify-end":""}`,children:[v.sender==="thiago"&&x.jsx(fe.img,{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Avatar de Thiago",className:"w-8 h-8 rounded-full",animate:{scale:[1,1.04,1]},transition:{duration:4,repeat:1/0,repeatType:"mirror",ease:"easeInOut",delay:Math.random()*2}}),x.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${v.sender==="user"?"bg-[#1D1D1F] text-white rounded-br-lg":"bg-gray-100 text-gray-800 rounded-bl-lg"}`,children:x.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:v.text.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})})]},v.id))}),c&&x.jsx(vU,{})]}),x.jsx("footer",{className:"p-3 border-t bg-white flex-shrink-0",children:x.jsx("div",{style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px))"},children:x.jsxs("form",{onSubmit:p,className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),placeholder:"Escribe tu consulta...",className:"flex-1 w-full text-sm p-2.5 border-0 bg-gray-100 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:c}),x.jsx("button",{type:"submit",disabled:c||!l.trim(),className:"p-2.5 rounded-lg text-white bg-[var(--text-main)] disabled:bg-gray-300 transition-colors",children:x.jsx(GP,{className:"w-5 h-5"})})]})})})]})]})},Pl=({label:t,active:e,onClick:s,icon:o})=>x.jsxs(fe.button,{whileTap:{scale:.96},onClick:s,className:"flex flex-col items-center justify-center py-2 text-xs transition-colors w-full "+(e?"text-[#1D1D1F]":"text-gray-500 hover:text-[#2A2A2D]"),children:[x.jsx(fe.div,{className:"mb-0.5 grid place-items-center",animate:{scale:e?1.15:1},transition:{type:"spring",stiffness:400,damping:15},children:o}),t]}),uS=({variant:t="stacked",size:e=48,className:s})=>x.jsx("div",{className:`flex items-center gap-2 ${t==="stacked"?"flex-col":"flex-row"} ${s}`,children:x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/logo.png",alt:"Logo MiMejorLuz",style:{height:e,width:"auto"}})}),Zc=({icon:t,label:e,value:s,onClick:o})=>x.jsxs(fe.div,{whileTap:{backgroundColor:"rgba(0,0,0,0.05)"},className:"flex items-center gap-4 p-4 rounded-lg cursor-pointer bg-white transition-colors",onClick:o,children:[x.jsx("div",{className:"text-gray-500",children:t}),x.jsx("div",{className:"flex-1",children:x.jsx("p",{className:"font-semibold text-gray-800",children:e})}),s&&x.jsx("p",{className:"text-sm text-gray-500",children:s}),x.jsx(BP,{className:"w-5 h-5 text-gray-400"})]}),xU=()=>x.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[x.jsxs("div",{className:"bg-white p-5 flex flex-col items-center text-center rounded-xl",children:[x.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 grid place-items-center mb-3",children:x.jsx(VP,{className:"w-10 h-10 text-gray-500"})}),x.jsx("h3",{className:"text-lg font-bold tracking-tight",children:"Usuario Annimo"}),x.jsxs("p",{className:"text-sm text-gray-500",children:["Miembro desde ",new Date().getFullYear()]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Zc,{icon:x.jsx(oS,{className:"w-5 h-5"}),label:"Mi CUPS",value:"ES00...1A2B"}),x.jsx(Zc,{icon:x.jsx(sr,{className:"w-5 h-5"}),label:"Ajustes de la cuenta"})]}),x.jsx("div",{className:"space-y-2",children:x.jsx(Zc,{icon:x.jsx(kP,{className:"w-5 h-5"}),label:"Cerrar Sesin"})}),x.jsxs("div",{className:"text-center text-xs text-gray-400 pt-4 flex flex-col items-center",children:[x.jsx(uS,{variant:"inline",size:24}),x.jsx("p",{className:"mt-1",children:"Versin 1.0.0-beta"})]})]}),SU=({onClose:t})=>x.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:x.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:400,damping:25},className:"relative bg-[#F0F0F2] w-full max-w-md max-h-[90vh] rounded-2xl shadow-xl overflow-y-auto",onClick:e=>e.stopPropagation(),children:[x.jsxs("div",{className:"sticky top-0 bg-[#F0F0F2]/80 backdrop-blur-sm z-10 p-4 flex justify-between items-center",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800 tracking-tight",children:"Ajustes y Perfil"}),x.jsx("button",{onClick:t,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 hover:text-gray-700 transition-colors",children:x.jsx(Nd,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-4",children:x.jsx(xU,{})})]})}),EU=t=>{const e=/\*\*(.*?)\*\*/g;return t.replace(e,"<strong>$1</strong>")},CU=({topic:t,onClose:e,fetchExplanation:s})=>{const[o,l]=G.useState(""),[u,c]=G.useState(!0);G.useEffect(()=>{let g=!0;return(async()=>{c(!0);try{const v=await s(t);g&&l(v)}catch(v){g&&l("No se pudo cargar la explicacin."),console.error("Failed to fetch explanation:",v)}finally{g&&c(!1)}})(),()=>{g=!1}},[t,s]);const h=G.useMemo(()=>EU(o),[o]);return x.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:x.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:400,damping:25},className:"bg-white w-full max-w-sm rounded-2xl shadow-xl p-6",onClick:g=>g.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-start gap-3",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800 tracking-tight",children:t}),x.jsx("button",{onClick:e,className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-700 transition-colors",children:x.jsx(Nd,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"mt-4 text-sm text-gray-600 min-h-[80px]",children:u?x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded w-full animate-pulse"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 animate-pulse"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"})]}):x.jsx("p",{dangerouslySetInnerHTML:{__html:h}})})]})})},AU=()=>{const t=new Date().getHours();return t>=5&&t<12?"Buenos das":t>=12&&t<19.5?"Buenas tardes":"Buenas noches"},jc=({icon:t,title:e,description:s})=>x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-[#F4F5F7]",children:t}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-[#1D1D1F] text-sm",children:e}),x.jsx("p",{className:"text-xs text-[#6E6E73] leading-snug",children:s})]})]}),_U=()=>x.jsxs("div",{className:"bg-white rounded-2xl p-4 animate-pulse",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-1"}),x.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),x.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"})]}),Iv=({invoiceCount:t,onStart:e,onOpenSettings:s,onOpenThiago:o,todayPrices:l})=>x.jsxs("div",{className:"flex flex-col h-full gap-4",children:[x.jsx("header",{className:"shrink-0",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-[#1D1D1F] tracking-tight",children:AU()}),x.jsx("p",{className:"text-sm text-[#6E6E73]",children:"Aqu tienes tu asistencia energtica con IA."})]}),x.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:x.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]})}),x.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[x.jsx(fe.div,{className:"bg-white rounded-2xl shadow-sm border border-black/5 p-4 flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:l&&l.points.length>0?x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"font-semibold text-[#1D1D1F]",children:"Precios de la luz (hoy)"}),x.jsx("p",{className:"text-xs text-[#6E6E73] leading-snug mb-2",children:"Datos de ESIOS actualizados"}),x.jsx("div",{className:"flex-1 flex flex-col justify-center",children:x.jsx(lS,{priceData:l,isCompact:!0})})]}):x.jsx(_U,{})}),x.jsx(fe.div,{className:"bg-white rounded-2xl shadow-sm border border-black/5 p-5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},children:x.jsxs("div",{className:"flex flex-col justify-center h-full gap-3",children:[x.jsx(jc,{icon:x.jsx(nS,{className:"w-5 h-5 text-[var(--accent-main)]"}),title:"Anlisis Inteligente",description:"Sube tus facturas en PDF y nuestra IA extraer los datos clave para ti."}),x.jsx("div",{className:"h-px bg-[#E5E5EA] my-1"}),x.jsx(jc,{icon:x.jsx(_d,{className:"w-5 h-5 text-[var(--accent-main)]"}),title:"Recomendaciones a Medida",description:"Comparamos tu consumo con las mejores tarifas del mercado para encontrar tu plan ideal."}),x.jsx("div",{className:"h-px bg-[#E5E5EA] my-1"}),x.jsx(jc,{icon:x.jsx(fi,{className:"w-5 h-5 text-[var(--accent-main)]"}),title:"Optimizacin Diaria",description:"Te decimos cules son las horas ms baratas del da para que uses tus electrodomsticos."})]})}),x.jsxs(fe.button,{onClick:o,className:"lg:col-span-2 w-full bg-white rounded-2xl p-4 flex items-center gap-3 shadow-sm border border-black/5 text-left transition-colors hover:bg-gray-50 active:bg-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2},whileTap:{scale:.99},children:[x.jsx("div",{className:"w-11 h-11 rounded-full grid place-items-center flex-shrink-0 border border-black/5 bg-white",children:x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Thiago, tu asesor energtico",className:"w-10 h-10 rounded-full object-cover"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"font-semibold text-[#1D1D1F] leading-tight text-sm",children:"Necesitas que te lo explique Thiago?"}),x.jsx("p",{className:"text-xs text-[#6E6E73] truncate",children:"Tu asistente energtico IA."})]}),x.jsx("div",{className:"bg-[#1D1D1F] text-white rounded-full px-4 py-1.5 text-xs font-semibold whitespace-nowrap",children:"Abrir chat"})]})]}),x.jsxs(fe.div,{className:"mt-auto pt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[x.jsx("button",{onClick:e,className:"w-full bg-[#1D1D1F] text-white py-3.5 rounded-xl font-semibold transition-transform duration-200 ease-out hover:scale-[1.02] active:scale-[0.98]",children:"Empezar anlisis"}),x.jsx("p",{className:"text-center text-xs text-[#AEAEB2] mt-2",children:"Usamos datos oficiales de ESIOS + IA para el clculo."})]})]}),Wc=({label:t,isActive:e,onClick:s})=>x.jsxs("button",{onClick:s,className:`relative px-3 py-2 text-sm font-medium transition-colors focus:outline-none ${e?"text-[var(--text-main)]":"text-[var(--text-secondary)] hover:text-[var(--text-main)]"}`,children:[t,e&&x.jsx(fe.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[var(--accent-main)]",layoutId:"header-underline",transition:{type:"spring",stiffness:350,damping:30}})]}),NU=({activeTab:t,setActiveTab:e})=>x.jsxs("header",{className:"hidden lg:flex sticky top-0 z-40 items-center justify-between w-full h-16 bg-[#F7F7F7]/80 backdrop-blur-sm border-b border-gray-200/80 px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{onClick:()=>e("inicio"),className:"cursor-pointer",children:x.jsx(uS,{size:32})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Wc,{label:"Inicio",isActive:t==="inicio",onClick:()=>e("inicio")}),x.jsx(Wc,{label:"Panel de Anlisis",isActive:t==="panel",onClick:()=>e("panel")}),x.jsx(Wc,{label:"Optimizar Consumo",isActive:t==="optimizar",onClick:()=>e("optimizar")})]})]}),x.jsx("div",{className:"flex items-center",children:x.jsxs("button",{onClick:()=>e("thiago"),className:"flex items-center gap-2 pl-3 pr-2 py-1.5 rounded-full hover:bg-gray-200/70 transition-colors",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Thiago"}),x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Thiago",className:"w-8 h-8 rounded-full object-cover"})]})})]}),MU=t=>new Promise(e=>setTimeout(e,t));function bU(){const[t,e]=G.useState("splash"),[s,o]=G.useState("inicio"),[l,u]=G.useState([]),[c,h]=G.useState([]),[g,p]=G.useState(null),[v,T]=G.useState(null),[S,A]=G.useState(null),[N,R]=G.useState(0),[I,P]=G.useState(!1),[k,w]=G.useState(null),[Q,q]=G.useState(!1),[X,z]=G.useState(null);G.useEffect(()=>{(async()=>{try{const{data:Z}=await tS(wf());A(Z)}catch(Z){console.error("Failed to fetch today's prices for Home view:",Z)}})()},[]);const W=async O=>{const Z=crypto.randomUUID(),re={file:O,id:Z,status:"pending"};u(he=>[...he,re]);try{u(ee=>ee.map(se=>se.id===Z?{...se,status:"reading"}:se));const he=await GM(O);if(!he||he.trim().length<150)throw new Error("PDF con poco texto o ilegible.");u(ee=>ee.map(se=>se.id===Z?{...se,status:"analyzing"}:se));let F={...ib(he),rawText:he,id:Z};if(!F.cups||!F.billingPeriod.from||!F.billingPeriod.to||!F.energySummary.totalKwh){const ee=await AP(he);F={...F,...ee}}if(!F.cups||!F.billingPeriod.from||!F.billingPeriod.to)throw new Error("Datos clave no encontrados.");if(c.some(ee=>ee.cups===F.cups&&ee.billingPeriod.from===F.billingPeriod.from)){u(ee=>ee.map(se=>se.id===Z?{...se,status:"duplicate"}:se));return}h(ee=>[...ee,F]),u(ee=>ee.map(se=>se.id===Z?{...se,status:"done"}:se))}catch(he){console.error("Error processing file:",he),u(M=>M.map(F=>F.id===Z?{...F,status:"error"}:F))}},j=G.useCallback(async O=>{const Z=O.length;R(0);for(let re=0;re<Z;re++)await W(O[re]),R((re+1)/Z*100);await MU(500),R(0)},[c]),ae=G.useCallback(O=>{u(Z=>Z.filter(re=>re.id!==O)),h(Z=>Z.filter(re=>re.id!==O))},[]),ce=G.useCallback(async()=>{if(c.length!==0){P(!0);try{const O=await Nv(c);p(O),T("invoices"),o("panel")}catch(O){console.error("Analysis failed:",O),w("La IA no pudo completar el anlisis. Intntalo de nuevo."),o("panel")}finally{P(!1)}}},[c]),pe=G.useCallback(async O=>{P(!0),w(null);try{const Z={id:"manual-entry",provider:O.provider,tariff:O.tariff,cups:`ES00XXMANUAL${Math.floor(Math.random()*1e4)}`,billingPeriod:{from:"N/A",to:"N/A"},contractedPower:{p1:O.peakPowerKw,p2:O.offPeakPowerKw},consumptionByPeriodKwh:{},energySummary:{totalKwh:O.avgConsumptionKwh},rawText:`Manual entry: ${JSON.stringify(O)}`},re=await Nv([Z]);if(re.estimatedAnnualSavingEur===0&&re.costSimulations.length===0)throw new Error("La IA no pudo generar un anlisis con los datos proporcionados.");p(re),h([Z]),T("manual"),o("panel")}catch(Z){console.error("Manual analysis failed:",Z),w(Z.message||"No se pudo generar el anlisis. Revisa los datos e intntalo de nuevo.")}finally{P(!1)}},[]),Ue=G.useCallback(()=>{w(null)},[]),st=G.useCallback(()=>{p(null),h([]),u([]),T(null),w(null),o("panel")},[]),Ke=G.useCallback(O=>{z(O)},[]),H=()=>{switch(s){case"inicio":return x.jsx(Iv,{invoiceCount:c.length,onStart:()=>o("panel"),onOpenSettings:()=>q(!0),onOpenThiago:()=>o("thiago"),todayPrices:S});case"panel":return g?x.jsx(eU,{analysis:g,invoices:c,onNavigateHome:st,onExplain:Ke,lastAnalysisSource:v,onOpenThiago:()=>o("thiago"),onOpenSettings:()=>q(!0),fetchHiringGuide:async()=>({documentChecklist:[],talkingPoints:[],watchOutFor:[]}),fetchConsumptionTrendAnalysis:async()=>"Anlisis de consumo en desarrollo."}):x.jsx(JP,{invoiceFiles:l,invoices:c,onFiles:j,onDelete:ae,onStartAnalysis:ce,onManualAnalysis:pe,onRetryManualAnalysis:Ue,onOpenSettings:()=>q(!0),progress:N,manualAnalysisError:k});case"optimizar":return x.jsx(hU,{onExplain:Ke,fetchOptimalUsagePlan:NP});case"thiago":return x.jsx(TU,{onClose:()=>o(g?"panel":"inicio"),lastAnalysisSource:v});default:return x.jsx(Iv,{invoiceCount:c.length,onStart:()=>o("panel"),onOpenSettings:()=>q(!0),onOpenThiago:()=>o("thiago"),todayPrices:S})}};return t==="splash"?x.jsx(PP,{onStart:()=>e("app")}):x.jsxs("div",{className:"w-full max-w-6xl mx-auto min-h-screen flex flex-col bg-[#F7F7F7]",children:[I?x.jsx(KP,{}):x.jsxs(x.Fragment,{children:[x.jsx(NU,{activeTab:s,setActiveTab:o}),x.jsx("main",{className:"flex-1 w-full flex flex-col px-4 sm:px-6 lg:px-8 pt-4 pb-24 lg:pb-4",children:x.jsx(Dn,{mode:"wait",children:x.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex-1 flex flex-col",children:H()},s)})}),x.jsx("nav",{className:"sticky bottom-0 left-0 right-0 mt-auto bg-[#FCFCFD]/80 backdrop-blur-sm z-30 border-t border-gray-100 lg:hidden",children:x.jsxs("div",{style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px))"},className:"w-full flex justify-around",children:[x.jsx(Pl,{label:"Inicio",active:s==="inicio",onClick:()=>o("inicio"),icon:x.jsx(oS,{className:"w-6 h-6"})}),x.jsx(Pl,{label:"Panel",active:s==="panel",onClick:()=>o("panel"),icon:x.jsx(LP,{className:"w-6 h-6"})}),x.jsx(Pl,{label:"Optimizar",active:s==="optimizar",onClick:()=>o("optimizar"),icon:x.jsx(fi,{className:"w-6 h-6"})}),x.jsx(Pl,{label:"Thiago",active:s==="thiago",onClick:()=>o("thiago"),icon:x.jsx("img",{src:"https://storage.googleapis.com/mejorluz-assets-public-2025/avatar-thiago.png",alt:"Thiago",className:`w-9 h-9 rounded-full object-cover transition-all ${s==="thiago"?"ring-2 ring-[#0F172A]/10":"opacity-70"}`})})]})})]}),x.jsxs(Dn,{children:[Q&&x.jsx(SU,{onClose:()=>q(!1)}),X&&x.jsx(CU,{topic:X,onClose:()=>z(null),fetchExplanation:_P})]})]})}const cS=document.getElementById("root");if(!cS)throw new Error("Could not find root element to mount to");const RU=OC.createRoot(cS);RU.render(x.jsx(qo.StrictMode,{children:x.jsx(bU,{})}));
